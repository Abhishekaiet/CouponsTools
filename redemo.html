



<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="output"> <img> </div>


<script>
function convertImgToBase64URL(url, callback, outputFormat){
    var img = new Image();
    img.crossOrigin = 'Anonymous';
    img.onload = function(){
        var canvas = document.createElement('CANVAS'),
        ctx = canvas.getContext('2d'), dataURL;
        canvas.height = img.height;
        canvas.width = img.width;
        ctx.drawImage(img, 0, 0);
        dataURL = canvas.toDataURL(outputFormat);
        callback(dataURL);
        canvas = null; 
    };
    img.src = url;
}
convertImgToBase64URL('https://lh3.googleusercontent.com/p/AF1QipPoI45wW3vDOFiLqic34EfMJBTd0TmiUsATmqIo=s1600-w5312', function(base64Img){
alert('it works');
      $('.output').find('img').attr('src', base64Img);  
   
});
	
	
	
	
	
	
	
	
	
	
	
</script>

<!DOCTYPE html>
<html>
<body>

<p>Click the button to extract parts of the string.</p>

<button onclick="myFunction()">Try it</button>

<p id="demo"></p>
<p id="demo2"></p>
<p id="demo3"></p>
<script>


var dd;

function myFunction() {
  var str = "https://maps.googleapis.com/maps/api/place/js/PhotoService.GetPhoto?1sCmRaAAAA9NZU08vfo2UpJL_YsDoUaLlFWaQGKzmBvvcbhcpKlfmSfSXiR6UJ2CJRr2tojFknD0cRnBtfbmuKBYpuLxW4bwY3l8B-8Od47sRV19YDiBAYMUXoLZq6Nv_CkjbQqJfGEhCb1eC75LVrhNY9tRATEjGmGhQuN0RgkL6eJ1lSOx_BPlhkadZvCw&3u4608&5m1&2e1&callback=none&key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&token=36170";
  var res = str.substr(70);
var newStr = res.slice(0, -69);

  document.getElementById("demo").innerHTML = res;
document.getElementById("demo2").innerHTML = newStr;


dd = "https://maps.googleapis.com/maps/api/place/photo?photoreference="+newStr+"&sensor=false&maxheight=500&maxwidth=500&key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50";

document.getElementById("demo3").innerHTML = dd;



}


	
		
	function addingobjects()
	{
		console.log(zipobjects);
		
		
		if (ddeeplace=="")
			{
				alert('Please choose a place');
				return;
			}
		
		document.getElementById('addbtn').style.border='2px solid';
		
	var zipcode = document.getElementById('multiple').value;

var str = zipcode.split(",");
		

  var bb = {};		
            
			  str.forEach((key, i) => bb[key] = ddeeplace);
	         

	console.log(bb);
		
		zipobjects.push(bb);
		
		alert('Zipcode has been added with places.');
		 document.getElementById("zipaddednotification").style.display="block";
		 document.getElementById("seezipadded").style.display="block";
		document.getElementById("datacount").innerHTML = zipobjects.length;
	    document.getElementById("modulecountzip").innerHTML = zipobjects.length;
			
		
		for (var i =0; i<zipobjects.length; i++)
			{
				
				 console.log(zipobjects[i]);
				 bldk = zipobjects[i];
				 blueprint =   Object.values(bldk);
				 gettingquals = Object.keys(bldk);
				console.log(bldk);
				console.log(blueprint.length);
				console.log(blueprint);
				
				for (var j=0; j<blueprint.length; j++)
					{
						
						console.log(blueprint[j]);
						console.log(blueprint[j].length);
						placesforzipcode = blueprint[j];
						
					}
				
				
			}
		
		        var option = document.createElement('option');
		        option.value = Object.keys(bldk);
				option.innerHTML = Object.keys(bldk);
				zipshowcode .appendChild(option);
		
//		
	
	
  setTimeout(function(){ 
  document.getElementById("multiple").placeholder = "Add more zipcode or confirm it.";
	  document.getElementById("multiple").focus();
	  document.getElementById('multiple').value = '';
	  
		 return ddeeplace = [];
	  
	  
  }, 1000);

				
}



	
	var addedobjectszip = [];
	    
	addedobjectszip.push(dataobjects)
	
	console.log(addedobjectszip);
	
	
	
	
	
	
	
	
	
	
	for (var i =0; i<zipobjects.length; i++)
			{
				
				 console.log(zipobjects[i]);
				 bldk = zipobjects[i];
				 blueprint =   Object.values(bldk);
				 gettingquals = Object.keys(bldk);
				console.log(bldk);
				console.log(blueprint.length);
				console.log(blueprint);
				
				for (var j=0; j<blueprint.length; j++)
					{
						
						console.log(blueprint[j]);
						console.log(blueprint[j].length);
						placesforzipcode = blueprint[j];
						
					}
				
				
			}
		
		        var option = document.createElement('option');
		        option.value = Object.keys(bldk);
				option.innerHTML = Object.keys(bldk);
				zipshowcode .appendChild(option);
	
	
	
			function logoDLwebsearch()
			{
				
				
			list = document.getElementById("dynic-dllogolist");
			
			for (var i=document.getElementById("dynic-dllogolist").getElementsByTagName("li").length-1; i>=0; i--)
				{
					
					var itemview = document.getElementById("dynic-dllogolist").getElementsByTagName("li")[i];
					list.removeChild(itemview);
					
								console.log(' remove'+i);

				}
				
			var searchkeyword =  document.getElementById('dllogosearch').value;
				
					for (var i = 1; i < 100; i+=10)
    {			
		const pos = i;
				
				
				var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&num=10&start="+pos+"&imgSize=large",function(response){
					
					
					
//					console.log(response);
					
					var obj = JSON.parse(response);
					
					console.log(obj);
								
								for (var i = 0; i < obj.items.length; i++) {
				
                                      const item = obj.items[i];
									
									const datalink = item.link;
      
									
									var ul = document.getElementById("dynic-dllogolist");
		  var li=document.createElement('li');
        li.innerHTML='<img src='+item.link+'style="float:left; width: 180px; margin-top: 10px; height: 126px; object-fit: cover; margin-left: 3%;" id="photosearchlist">';
        ul.appendChild(li);
								
									
									li.addEventListener('click',searchwebimage2);
									
									
									function searchwebimage2()
									{
										
										console.log(datalink);
										
										selectedlink3 = datalink;
										
										document.getElementById('dellogo').src = selectedlink3;
										
										
										var dellogoimage = document.getElementById('dellogo');
										    dellogoimage.style.position="absolute";
										
										var closemodalimagesearch = document.getElementById('logo-deal-web-modal');
										    closemodalimagesearch.style.display="none";
										
										var closemodalimagesearch = document.getElementById('deal-logo-modal');
										    closemodalimagesearch.style.display="none";
										
										
										var outputimagecpupons = document.getElementById('dellogo');
										    outputimagecpupons.style.visibility="visible";
										
										
										var mvdellogo = document.getElementById('mv-del-logo');
										    mvdellogo.style.zIndex="3";
										
									
									};
										
								}
				});
	}
			}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<select id="selector" style="width: 30%;
    border-radius: 25px;
    left: 66%; margin-top: 78px; position: absolute; display: none;">
					
  
</select>
	
	
	
	
	
	
	 dataobjects = zipcode;
									    
			//armankha
									   
									   
									   
									 
									   
	 zipcode.forEach(function(item){
   var option = document.createElement('option');	 
		 
   var dataconent = Object.keys(item);
   option.value = Object.keys(item);
   option.innerHTML = Object.keys(item);
   selector.appendChild(option);
		 
	selector.style.display="block";	 
	
	
	
		 
		 
		 
		 var dataobjects;	
	
	function addingobjectsaddnew()
	{
		console.log(dataobjects);
		
		
		if (ddeeplace=="")
			{
				alert('Please choose a place');
				return;
			}
		
		document.getElementById('addbtn').style.border='2px solid';
		
	var zipcode = document.getElementById('multiple').value;

var str = zipcode.split(",");
		

  var bb = {};		
            
			  str.forEach((key, i) => bb[key] = ddeeplace);
	         

	console.log(bb);
		
		dataobjects.push(bb);
		
		alert('Zipcode has been added with places.');
		 document.getElementById("zipaddednotification").style.display="block";
		 document.getElementById("seezipadded").style.display="block";
		document.getElementById("datacount").innerHTML = dataobjects.length;
	    document.getElementById("modulecountzip").innerHTML = dataobjects.length;
			
		
		for (var i =0; i<dataobjects.length; i++)
			{
				
				 console.log(dataobjects[i]);
				 bldk = dataobjects[i];
				 blueprint =   Object.values(bldk);
				 gettingquals = Object.keys(bldk);
				console.log(bldk);
				console.log(blueprint.length);
				console.log(blueprint);
				
				for (var j=0; j<blueprint.length; j++)
					{
						
						console.log(blueprint[j]);
						console.log(blueprint[j].length);
						placesforzipcode = blueprint[j];
						
					}
				
				
			}
		
		        var option = document.createElement('option');
		        option.value = Object.keys(bldk);
				option.innerHTML = Object.keys(bldk);
				zipshowcode .appendChild(option);
		
//		
	
	
  setTimeout(function(){ 
  document.getElementById("multiple").placeholder = "Add more zipcode or confirm it.";
	  document.getElementById("multiple").focus();
	  document.getElementById('multiple').value = '';
	  
		 return ddeeplace = [];
	  
	  
  }, 1000);

				
}
		 
		 
		 
		 
		 
		 
			var multiple = document.getElementById('multiple').value;
	if (multiple!="")
			{	
	
	
		if (ddeeplace=="")
			{
				alert('Please choose a place for new zipcode');
				return;	
				
			}
				
				var addnewonebtton = document.getElementById('addnewonebtton');
		    addnewonebtton.style.border="3px solid red";
				
			alert('Press The add multiple zipcode');
				return;		
				
				
			}
	
	
	
	
	
	
	

</script>

</body>
</html>
