<html>
<link rel="stylesheet" type="text/css" href="css/header.css">
<style>
	body{
			background: #F8F8F8 0% 0% no-repeat padding-box;
			font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
			
		}
		.mainplan0_{
		 text-transform: capitalize;
		}
		#leftplans{
		width: 397px;
		margin: auto;
		padding: 0;
		}
	.rightside {
		margin-right: 31px;
		font-size: 19px;
	}
	#leftplans .listdetails{
		display:none;
	}
	#leftplans .pricingtitle121{
		position:initial;
	}
	#leftplans li.li{
	    height: 150px;
		background-color: #009BFF;
		color: #fff;
		font-size: 20px;
		border-radius: 12px;
		width: 85%!important;
		margin-bottom: 49px!important;
		display: grid;
		height: 150px;
		margin: auto;
		margin-top: 30px;
		}
	#leftplans .DigitalM{
				background-color: #FF9700 !important;
				border-left:none !important;
			  }
			   #leftplans .WebsiteD{
				background-color: #009BFF !important;
				border-left:none !important;
			  }
			  #leftplans .Entertai{
				background-color: #C500FF !important;
				border-left:none !important;
			  }
			  #leftplans .Interact,#leftplans .LiveStre,#leftplans .TVChanne{
			    background-color: #FFDD00 !important;
				border-left:none !important;
			  }
			  #leftplans .LiveChat{
			    background-color: #570281 !important;
				border-left:none !important;
			  }
	#Enterprisepa{
		background: transparent linear-gradient(90deg, #374C95 0%, #2A2772 100%) 0% 0% no-repeat padding-box !important;
		border-radius:12px;
		width: 85%!important;
		margin-bottom: 49px!important;
		display: grid;
		height: 150px;
		margin: auto;
		margin-top: 30px;
	}
	#Standardpa{
		background: transparent linear-gradient(90deg, #219441 0%, #1A6831 100%) 0% 0% no-repeat padding-box !important;
		border-radius:12px;
		width: 85%!important;
		margin-bottom: 49px!important;
		display: grid;
		height: 150px;
		margin: auto;
		margin-top: 30px;
	}
	#Premiumpa{
		background: transparent linear-gradient(90deg, #C21B21 0%, #A51B20 100%) 0% 0% no-repeat padding-box !important;
		border-radius:12px;
		width: 85%!important;
		margin-bottom: 49px!important;
		display: grid;
		height: 150px;
		margin: auto;
		margin-top: 30px;
	}
	#Enterprisepa #btnaddpack, #Premiumpa #btnaddpack, #Standardpa #btnaddpack,.WebsiteD .btnaddpack,.LiveChat .btnaddpack,.TVChanne .btnaddpack,.LiveStre .btnaddpack,.Interact .btnaddpack,.DigitalM .btnaddpack,.Entertai .btnaddpack{
		position: initial;
		float: left;
		line-height: 23px;
		text-align: center;
		padding: 4px 17px;
		font-weight: 700;
		line-height: 32px;
		font-size: 11px;
		color: #656565;
		margin-top: 35px;
		margin-left: 14px;
		background: #F4F8FB 0% 0% no-repeat padding-box;
		border: 0.5px solid #BBBBBB;
		border-radius: 32px;
		cursor:pointer;
	}
	.WebsiteD .btnaddpack,.LiveChat .btnaddpack,.TVChanne .btnaddpack,.LiveStre .btnaddpack,.Interact .btnaddpack,.DigitalM .btnaddpack,.Entertai .btnaddpack{
		position:absolute !important;
		top: 57px !important;
	}
	.WebsiteD ,.LiveChat ,.TVChanne ,.LiveStre ,.Interact ,.DigitalM ,.Entertai {
		position:relative;
	}
	#Enterprisepa .pricingtitle121, #Premiumpa .pricingtitle121, #Standardpa .pricingtitle121,.WebsiteD .pricingtitle121,.LiveChat .pricingtitle121,.TVChanne .pricingtitle121,.LiveStre .pricingtitle121,.Interact .pricingtitle121,.DigitalM .pricingtitle121,.Entertai .pricingtitle121{
	    font-size: 24px;
		text-align: center;
		padding: 1px;
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
		color: #fff;
		margin-top: 25px;
		float: right;
		text-align: right;
		font-weight: 700;
		margin-right: 11px;
		position:initial;
		cursor:pointer;
	}
	.Enterprisepa{
		border-left: 17px solid #374C95 !important;
	}
	.Premiumpa{
		border-left: 17px solid #A51B20 !important;
	}
	.Standardpa{
		border-left: 17px solid #219441 !important;
	}
	#Enterprisepa .lead, #Premiumpa .lead,#Standardpa .lead,.WebsiteD .lead,.LiveChat .lead,.TVChanne .lead,.LiveStre .lead,.Interact .lead,.DigitalM .lead,.Entertai .lead{
		text-align: left!important;
		padding: 21px 15px 0px 21px !important;
		color: #fff;
		margin-left:0;
		font-weight: 500;
		float: left;
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
		width: 95%;
		font-size: 20px !important;
		height: 54px;
		margin-bottom: 0px;
	}
 .selectedtext{
		position: absolute;
		top: 115px;
		transform: translate(-50%, -50%);
		font-size: 38px;
		left: 50%;
		font-weight: bold;
		text-align: center;
		color: #656565;
	}
	.percentage{
		display:none;
	}
	.navbar-default{
		z-index:99999;
		height: 81px;
		position: fixed;
		top: 0;
		width: 100%;
	  }
	  .selected_plan_price{
		margin: 0;
		display: inline;
		margin-left: 11px;
	  }
	  .selectedplan_{
		background-color: #fff;
		background: #FFFFFF 0% 0% no-repeat padding-box;
		box-shadow: 0px 3px 6px #00000029;
		width: 340px;
		margin: auto;
		min-height: 160px;
		font-size: 19px;
		border-radius: 4%;
		font-weight: bold;
		    padding: 34px;
	  }
	  .selectedplan_ li{
		font-size:16px;
		font-weight:normal;
		    padding: 5px;
	  }
	  .checkout{
	    width: 100%;
		margin-top: 18px;
		height: 66px;
		font-size: 22px;
		margin-left: 23px;
		background: #00B6FF 0% 0% no-repeat padding-box;
		border-radius: 8px;
		opacity: 1;
		color: #fff;
		border:none;
		outline:none;
	}
	.crossicon{
		position: absolute;
		right: 10px;
		top: 10;
		font-size: 29px;
	}
	.pricingDiv {
		display: grid;
		grid-template-columns: auto auto;
		background-color: #fff;
		margin-top: 11px;
	}
	.CurrentDiv{
		width: max-content;
		margin: auto;
		position: relative;
	}
	.Savebutton{
		padding: 16px 30px;
		color: #fff;
		font-size: 14px;
		position: absolute;
		bottom: 50;
		left: 43px;
		border-radius: 7px;
		cursor:pointer;
		background: #00B6FF 0% 0% no-repeat padding-box;
	}
	.modal_ .content input{
		background: #FFFFFF 0% 0% no-repeat padding-box;
		box-shadow: 1px 2px 4px #0000000D;
		border: 1px solid #CCCCCC;
		border-radius: 6px;
		opacity: 1;
		width: 75%;
		height: 48px;
		padding-left: 15px;
		margin-left: 30px;
		outline:none;
	}
	.modal_ .content p{
	color: #000000;
    font-size: 19px;
    margin-left: 28px;
    margin-top: 30px;
	}
	.modal_ {
		  display: none; /* Hidden by default */
		  position: fixed; /* Stay in place */
		  z-index: 1; /* Sit on top */
		  padding-top: 100px; /* Location of the box */
		  left: 0;
		  top: 0;
		  width: 100%; /* Full width */
		  height: 100%; /* Full height */
		  overflow: auto; /* Enable scroll if needed */
		  background-color: rgb(0,0,0); /* Fallback color */
		  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
		}
	.modal_ div{
		  background-color: #fefefe;
		  margin: auto;
		  padding: 0 20px;
		  width: 50%;
		  height:80%;
		  position:relative;
		  border-radius: 15px;
		  padding: 15px;
		}
	.button{
		background: #FFFFFF 0% 0% no-repeat padding-box;
		box-shadow: 1px 2px 4px #0000000D;
		border: 1px solid #CCCCCC;
		width: 85px;
		height: 66px;
		margin-left: 28px;
		margin-top:20px;
		border-radius: 5px;
		outline:none;
	}
	.selectedplan{
		position: absolute;
		top: 230px;
		font-size: 13px;
		color: #656565;
		font-weight: bold;
	}
	.pricingtitle121 {
		font-size: 45px;
		text-align: center;
		padding: 1px;
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
		color: #656565;
		margin-top: 25px;
		float: right;
		text-align: right;
		font-weight: 700;
		margin-right: 11px;
		position: absolute;
		right: 0;
		top: 0px;
	}
	.item{
		background: #FFFFFF 0% 0% no-repeat padding-box;
		box-shadow: 0px 3px 6px #00000029;
		border-radius: 0px 30px 30px 0px;
		opacity: 1;
		position:relative;
		list-style-type: none;
		padding-top: 35px;
	}
	.lead{
		font-size: 30px !important;
		margin-bottom: 86px;
		width: 70%;
		margin-left: 30px;
	}
	#btnaddpack {
		position: absolute;
		bottom: 15px;
		right: 7px;
		background: #F4F8FB 0% 0% no-repeat padding-box;
		border: 0.5px solid #BBBBBB;
		border-radius: 32px;
		width: auto;
		height: auto;
		letter-spacing: 0px;
		color: #656565;
		font-size: 25px;
		padding: 23px 37px;
		cursor:pointer;
	}
	.listdetails {
		padding: 15px 50px;
		line-height: 30px;
		height: auto;
		margin-bottom: 75px;
	}
	#DigitalM,.DigitalM{
				border-left: 17px solid #FF9700 !important;
			  }
			  #WebsiteD,.WebsiteD{
				border-left: 17px solid #009BFF !important;
			  }
			  #Entertai,.Entertai{
				border-left: 17px solid #C500FF !important;
			  }
			  #Interact,#LiveStre,#TVChanne,.Interact,.LiveStre,.TVChanne{
			    border-left: 17px solid #FFDD00 !important;
			  }
			  #LiveChat,.LiveChat{
				border-left: 17px solid #570281 !important;
			  }
			  .price0{
	    padding-right: 50px;
		font-size: 18px !important;
		font-weight: bold;
		text-transform: capitalize;
	}
	.price1,.price2,.pricingDiv span{
		padding-right: 25px;
		font-size: 18px;
		text-transform: capitalize;
		font-weight: bold;
		margin-bottom:30px;
	}
	.price_0,.price_1,.price_2{
		padding-right: 50px;
		font-size: 14px;
		font-weight: bold;
		text-transform: capitalize;
		margin-bottom:30px;
	}
	.mainplan0{
		text-transform: capitalize;
	}
	.numberitems{
	    color: #fff;
		background: red;
		width: 23px;
		height: 22px;
		border-radius: 50%;
		display: inline-block;
		text-align: center;
		font-size: 16px;
		right: -11px;
		top: -16px;
		position: absolute;
		cursor:pointer;
	}
	@media (max-width: 1395px) {
	 .col-sm-6,.col-sm-3{
	  width:100% !important;
	}
	}
</style>
<script src="https://sdks.shopifycdn.com/js-buy-sdk/v2/latest/index.umd.min.js"></script>
<!--You can also use a specific release version:-->

<script src="https://sdks.shopifycdn.com/js-buy-sdk/1.11.0/index.umd.min.js"></script>
<!--You can also fetch the unoptimized release for a version (2.0.1 and above). This will be larger than the optimized version, as it will contain all fields that are available in the Storefront API:-->

<script src="https://sdks.shopifycdn.com/js-buy-sdk/2.0.1/index.unoptimized.umd.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
<script>
var pricingTable = [];
var TotalAmount = 0;
var isaddedpack = false;
var  pricingcal; // priceofNEF
var  motnfeetotal; // month fee
var pricingextnal;
var totalpercentoflocaion_pricingpanel; // 10 percent of total no of NRE.
var percentsvalues;
var conttake;
var percentage_variable;
var calc = "";
var packages = [];
var pack = sessionStorage.getItem('package');
var currentPacks;
var triggered = false;
 function crossIcon() {
	$(".modal_").css('display',"none");
 };
 function ShowModal() {
	$(".modal_").css('display',"block");
	$(".addloc").css({"background":"#00B6FF 0% 0% no-repeat padding-box","color":"#fff"});
	$(".removeloc").css({"background":"#FFFFFF 0% 0% no-repeat padding-box","color":"#000"});
 };
 function setCookie(name,value,days) {
		var expires = "";
		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days*24*60*60*1000));
			expires = "; expires=" + date.toUTCString();
		}
		document.cookie = name + "=" + (value || "")  + expires + "; path=/";
	}
 function removelocation() {
	getidforpercent = "undefined";
    $(".removeloc").css({"background":"#00B6FF 0% 0% no-repeat padding-box","color":"#fff"});
	$(".addloc").css({"background":"#FFFFFF 0% 0% no-repeat padding-box","color":"#000"});
	const found = pricingTable.find(element => element.item.indexOf("Monthly Additional Charges for each Location") > -1);
	var html='';
	var html1 = '';
	var filtered;
	if(found != undefined){
	filtered = pricingTable.filter((item) => item.item.indexOf("Monthly Additional Charges for each Location") == -1)
	var s = filtered.filter((item) => item.item.indexOf("No. of additional locations") == -1);
	var r = s.filter((item) => item.item.indexOf("Monthly Additional Charges for additional locations") == -1);
	var f = r.filter((item) => item.item.indexOf("Registration Fees") == -1);
	filtered = f;
	}
	if(filtered != undefined){
	pricingTable = filtered;
	}
	$('.additional').remove();
	if(symmetricDifference(packages,currentPacks).length > 0){
		localStorage.setItem(sessionStorage.getItem('sinid').replace('sin',''),symmetricDifference(packages,currentPacks));
		$('.numberitems').html(symmetricDifference(packages,currentPacks).length);
		pricingTable.forEach(function(item,index){
		html += "<span class='price"+index+"' style='padding-right: 50px;'>"+item.item.toLowerCase()+"</span><span class='price"+index+"'>"+item.price+"</span>"
		});
		html1 += "<span class='totalAmount' style='padding-right: 50px;'>Total</span><span class='totalAmount'>$"+TotalAmount.toFixed(2)+"</span>";
		$(".pricingDiv").html(html+"<hr><hr>"+html1);
	}else {
		$(".pricingDiv").html('<span class="totalAmount" style="padding-right: 50px;">Total</span><span class="totalAmount">$0.00</span>');
	}
 }
 function hidepercentage(){
	$(".percentage").css("display","none");
	$(".yesbtn").css({"background":"#00B6FF 0% 0% no-repeat padding-box","color":"#fff"});
	$(".nobtn").css({"background":"#FFFFFF 0% 0% no-repeat padding-box","color":"#000"});
 };
 function TriggerAddBtn(id){
		$("#"+id+ " #btnaddpack").trigger("click");
	}
 function logoutuser(){
			window.sessionStorage.removeItem("_token");
			window.location.href = "login.html";
		}
 function showpercentage(){
	$(".percentage").css("display","block");
	$(".nobtn").css({"background":"#00B6FF 0% 0% no-repeat padding-box","color":"#fff"});
	$(".yesbtn").css({"background":"#FFFFFF 0% 0% no-repeat padding-box","color":"#000"});
 };
 function symmetricDifference(a1, a2) {
  var result = [];
  for (var i = 0; i < a1.length; i++) {
    if (a2.indexOf(a1[i]) === -1) {
      result.push(a1[i]);
    }
  }
  return result;
}
 $(document).ready(function() {
	 $(".Disname").html(getCookie('fname')+" "+getCookie('lname'));
	const token = sessionStorage.getItem('_token');
	  if(!token){
		window.location.href = "login.html";
	   }
	     const userDataAction = async () => {
				  const response = await fetch('https://proxy.actv.05media.com:443/services/v1/profiles/me', {
						method: 'GET',
						headers: {
						  'Accept': 'application/json',
						  'Authorization':  sessionStorage.getItem('_token'),
						  'Content-Type': 'application/json'
						}
					  });
					  const userData = await response.json();
					  console.log(userData);
					  if(userData.error == "invalid_token"){
						window.sessionStorage.removeItem("_token");
						window.location.href = "login.html";
					  }
					  sessionStorage.setItem('userProfilePic', userData.user.gravatarURL);
					  sessionStorage.setItem('vendor', userData.user.fullName);
					  sessionStorage.setItem('fname', userData.user.firstname);
					  sessionStorage.setItem('lname', userData.user.lastname);
					  sessionStorage.setItem('email', userData.user.email);
					  sessionStorage.setItem('sinid', userData.user.sinUsername);
					  sessionStorage.setItem('role', userData.user.roles[0]);
					  sessionStorage.setItem('telephone', userData.business.phoneNumber);
					  if(userData.user.businessPackages == null){
						  sessionStorage.setItem('package', 'Standard');
					  } else {
						  sessionStorage.setItem('package', userData.user.businessPackages.filter((a, b) => userData.user.businessPackages.indexOf(a) === b));
					  }
					  currentPacks = userData.user.businessPackages.filter((a, b) => userData.user.businessPackages.indexOf(a) === b);
					   if(!userData.user.businessUser){
						   $("#loader").css('display',"none");
						   sessionStorage.setItem('checkout', sessionStorage.getItem('_token'));
						   window.sessionStorage.removeItem("_token");
						   iziToast.error({
							  title: 'Error',
							  message: 'You are not a business user'
						  });
						  window.location.href = "Signup.html?business=1&id="+username;
					   }
					    pack = sessionStorage.getItem('package');
				if(sessionStorage.getItem('package').indexOf(',') > -1){
					var array = sessionStorage.getItem('package').split(',');
					array.forEach(function(item121,index121){
						if(item121.indexOf('Standard') > -1 || item121.indexOf('Premium') > -1 || item121.indexOf('Enterprise') > -1){
							pack = item121;
						} 
						if(pack.indexOf('Standard') == -1 && pack.indexOf('Premium') == -1 && pack.indexOf('Enterprise') == -1){
							pack = 'Standard';
						}
					});
				}
				
				
				addinal_variable = "Additional "+pack;
				percentage_variable = "PerPercentage "+pack;
				//typecontent = pack+ " Package";
			    //typecontent2 = "Mobile App As A Service (MAAS) Non-Recurring Engineering (NRE)";
				if(pack.indexOf(' ') > -1){
					addinal_variable = "Additional Standard";
					//typecontent = "Standard Package";
					//typecontent2 = "Mobile App As A Service (MAAS) Non-Recurring Engineering (NRE)";
				}
				
					   var defaultprofilePic="icons/img_avatar.png";
			var UserprofilePicture = sessionStorage.getItem('userProfilePic');
			if(UserprofilePicture){
			$("#profilePic").attr('src',UserprofilePicture);
			}else{
		    $("#profilePic").attr('src',defaultprofilePic);
			}
	   var parray;
	   if(sessionStorage.getItem('package').indexOf(",") > -1){
			parray = sessionStorage.getItem('package').split(',');
			parray.forEach(function(item,index){
			var price;
				packages.push(item);
				if(item == 'Standard'){
					price = "$99.00";
					$("#Standardpa").css("display","none");
					$(".Standardpa").css("display","none");
				}
				if(item == 'Premium'){
					price = "$299.00";
					$("#Premiumpa").css("display","none");
					$(".Premiumpa").css("display","none");
				}
				if(item == 'Enterprise'){
					price = "$499.00";
					$("#Enterprisepa").css("display","none");
					$(".Enterprisepa").css("display","none");
					$("#LiveChat").css("display","none");
					$(".LiveChat").css("display","none");
				}
				if(item == 'Digital Marketing'){
					price = "$499.00";
				}
				if(item == 'Website Development and Management'){
					price = "$299.00";
				}
				if(item == 'Entertainment'){
					price = "$249.00";
				}
				if(item == 'TV Channel Creation & Management' || item == 'Live Stream Channel Creation & Management' || item == 'Interactivity Creation & Management' || item == 'Live-Chat & Phone Support'){
					price = "$99.00";
				}
				
				$(".selectedplan").append("<li class='mainplan"+index+"'>"+item+" Package<p class='selected_plan_price'>"+price+"</p></li>");
			});
	   } else {
	   var price;
	   packages.push(pack);
				if(pack == 'Standard'){
					price = "$99.00";
				}
				if(pack == 'Premium'){
					price = "$299.00";
				}
				if(pack == 'Enterprise'){
					price = "$499.00";
				}
				if(pack == 'Digital Marketing'){
					price = "$499.00";
				}
				if(pack == 'Website Development and Management'){
					price = "$299.00";
				}
				if(pack == 'Entertainment Package'){
					price = "$299.00";
				}
				if(pack == 'Standard'){
					price = "$99.00";
					$("#Standardpa").css("display","none");
					$(".Standardpa").css("display","none");
				}
				if(pack == 'Premium'){
					price = "$299.00";
					$("#Premiumpa").css("display","none");
					$(".Premiumpa").css("display","none");
				}
				if(pack == 'Enterprise'){
					price = "$499.00";
					$("#Enterprisepa").css("display","none");
					$(".Enterprisepa").css("display","none");
					$("#LiveChat").css("display","none");
					$(".LiveChat").css("display","none");
				}
		$(".selectedplan").append("<li class='mainplan0'>"+pack+" Package<p class='selected_plan_price'>"+price+"</p></li>");
	}
	packages.filter((a, b) => packages.indexOf(a) === b)        
	getlistfromadd();
				  }
				  userDataAction()
	   
	
		document.getElementById('submitdatamain').addEventListener("click",function(){
			  if(TotalAmount == 0){
			   alert("Please select any plan to proceed further.");
			  } else {
			  var plans = localStorage.getItem(sessionStorage.getItem('sinid').replace('sin','')).split(',');
			  if(plans.length > 0){
				 $("#submitdatamain").html(' <img src="img/loader1.gif" style="width: 8%;">');
				 senddatatoshopi();	  
			  } else {
			    alert("Packages you have selected are already there in your current plan");
			  }
			  }
		});
 });
    
		
		   function senddatatoshopi()
		  {
			 // objectceating(); 
			 checkoutfuncoin();
		  }
		   function objectceating()
		  {
			  
			  
			  
			  var uniqueId = Math.random().toString(36).substring(2) 
               + (new Date()).getTime().toString(36);
			  
		var today = new Date();

var day = today.getDate();
var month = today.getMonth() + 1;
var year = today.getFullYear();
			  
var hruse =   today.getHours();
var minut =   today.getMinutes();
var seconds =   today.getSeconds();

if (day < 10) {
  day = '0' + day
}
if (month < 10) {
  month = '0' + month
}

			  
//			 console.log(latitute);
//			 console.log(lognitute);
			  
			  

var dateandtime = day + "/" + month + "/" + year + " " + hruse +":"+ minut+":"+seconds;
		  
			  
			var fname =   document.getElementById("login-username").value;
			var lname =   document.getElementById("login-userlastname").value;
		    var business_address =   document.getElementById("pac-input").value; 
			var busnes_legal_name =   document.getElementById("buisneslegal").value;
			var city =   document.getElementById("city").value;
			var zipcode =   document.getElementById("zipcode").value;
			var mobile_no =   document.getElementById("phoneno").value;
			var phno =   document.getElementById("phno").value;
			var Email =   document.getElementById("emailaddress").value;
			var website_link =   document.getElementById("weburl").value;
			  
			var biusness_type =   document.getElementById("validationCustom01").value;
			
			//var numof_prodct =   document.getElementById("validationCustom03").value;
			//var numof_location =   document.getElementById("numofloation").value;
			//var percentsvalues =   document.getElementById("percentsvalues").value;
			var countrylist =   document.getElementById("countrylist").value;
			var states =   document.getElementById("states").value;
			//var busness_categores =   document.getElementById("validationCustom02").value; //dropdown categoreis
			
			
			  //var buinesscate;
			  var phonenumber = phno+mobile_no;
			  
			  console.log(countrylist);
			 
			  loader = document.getElementById("loader");
			loader.style.display = "block";
			 
			   setTimeout(function(){
				   loader = document.getElementById("loader");
			loader.style.display = "none";
//		window.location.href = "signup.html";
				
		}, 6000);
 
}

	  function checkoutfuncoin()
		  
		  {
		  
			  console.log(getidforpercent);
		  
		  client.collection.fetchAllWithProducts().then((collections) => {
			  
			collections[0].products.forEach(function(item,index){
				
				
				if (typecontent==item.title)
					{
						
						
						varientidproduct = item.variants[0].id;
						
						console.log(varientidproduct);
//						alert('ok1');
					}
				
			});
			  
			  
			  	collections[1].products.forEach(function(item2,index2){
				
					console.log(item2.title);
					if (typecontent2==item2.title)
					{	
//						console.log(item2.title);
						varientidNRE = item2.variants[0].id;
					     console.log(varientidNRE);
//						alert('ok2');
					}
						
			});
			  

});
		  
		  setTimeout(function(){
			  
		var emailtextnode =  sessionStorage.getItem('email');
		var fname =  sessionStorage.getItem('fname');
		var lname =  sessionStorage.getItem('lname');
	    setCookie('fname',fname,1);

			  
			  
			  var obj 
			      obj = {}; 
			  
var add = aadrray[aadrray.length-1].match(/[a-zA-Z]+/g);
var provience = "";
	add.forEach(function(item332,index332){	  
	 provience += item332+" ";
	})
const input = {
	
	email:emailtextnode,
	note: sessionStorage.getItem('sinid'),
	lineItems:[
	{
	variantId: servicecharge,
    quantity: 1,
    customAttributes: [{key: "", value: ""}]
	},
	]
	,shippingAddress:{
					  
	   address1: aadrray[0],
	   city: aadrray[1],
	   company: sessionStorage.getItem('vendor'),
	   country: aadrray[aadrray.length-2],
	   firstName: fname,
	   lastName: lname,
	   province: provience.trim(),
	   phone: sessionStorage.getItem('telephone'),
	   zip: aadrray[aadrray.length-1].match(/\d+/)[0],
					  
 }
	
}

if(typecontent && varientidproduct){
	obj["variantId"] = varientidproduct;
	obj["quantity"] = 1;
	obj["customAttributes"] = [{key: "", value: ""}];
	 
	input.lineItems.push(obj);	
}

 getadnilapackarray.forEach(function(item332,index332){
	       
				  
//console.log(item332);	  			  
var key = "variantId";
var key2 = "quantity";
var key3 = "customAttributes";
var obj = {};
	 
obj[key] = item332;
obj[key2] = 1;
obj[key3] = [{key: "", value: ""}];
	 
input.lineItems.push(obj);	
			  
				  
	});
			  
console.log(input.lineItems);
			  
			  var objectedpercet;
			  
			  console.log(getidforpercent)
			  if (typeof getidforpercent === 'undefined' || getidforpercent == "undefined")
				  {
					  
				     console.log("yes");
				  }
			  else
				  {
					  console.log("NONO");
					 objectedpercet	=  {
	variantId: getidforpercent,
    quantity: parseInt($(".businessNo").val()-1),
    customAttributes: [{key: "", value: ""}]
						 
                                        }
					  input.lineItems.push(objectedpercet);	
					  
				  }

			  
		  var checkoutID;
	
		  function datamicall()
			  {
				  
				  
		 console.log(input);  
		  client.checkout.create(input).then((checkout) => {
			  
//  console.log(checkout);
			  
			  
			  function myFunction() {
			  packages = packages.filter((a, b) => packages.indexOf(a) === b)
				   var objToSubmit = {  
						businessPackages: packages,
				  }
				  sessionStorage.setItem('package', packages);
				  sessionStorage.setItem('update', 1);
				  localStorage.clear();
				  console.log(checkout);
					window.location.replace(checkout.webUrl);
					console.log(checkout);
		    
}
			 
			  myFunction();
			  
//			  console.log(checkout.webUrl);
		
			  
});
	}		 
		datamicall();
			  
			 
			  
		 }, 5000); 
		  	}	  
 var client = ShopifyBuy.buildClient({
		  accessToken: '456c7f3005dcef5a699baa2c94d0d4ed',
		  domain: 'store-mycommunity-today.myshopify.com'
		});	 
		   
				var addinal_variable;
				var typecontent;
				var typecontent2;
				var varientidproduct;
				var varientidNRE;
				var varientidNRE121; 
				varientidNRE121 = [];
				var listthecheckmarmap;
				var listthecheckmarmap1;
				var servicecharge = ""; 
				var addinal_variable;
				var gettochwithvales;
				var testpopse;
				var percentage_variable;
				var getidforpercent;
				var numofloation;
				var numofloation21;
				var numberlocationpricemultipling = 0;
				var totalpricepercentage = 0;
				var getidforpercent;
				var percentage_variable;
				var address = "";
				var aadrray;
				var packageadded = false;
				
				
				function getlistfromadd()
			  {
				client.collection.fetchAllWithProducts({productsFirst:30}).then((collections) => {
				console.log(collections);
				collections.forEach(function(item121,index121){
				     
					 var ul = document.getElementById("packagediv");
					 $(".loader1").css("display","none");
					  if (percentage_variable==item121.title)
					  {
						  console.log(item121.products);
						  
						    item121.products.forEach(function(itemper,indexper){
								
								console.log(conttake);
								
								if (itemper.title==conttake)
									{
									    var per_package=packages;
										$(".additional").remove();
										var filtered_ = packages.filter((item) => item.indexOf("Added") == -1);
										packages = filtered_;
									    if(TotalAmount == 0){
											TotalAmount = 2.9;
										}
										$(".selectedplan_").append("<li class='additional'>Added "+($(".businessNo").val()-1)+" locations</li>");
										
										numberlocationpricemultipling = item121.products[indexper].variants[0].compareAtPrice;
										const found = pricingTable.find(element => element.item.indexOf("Monthly Additional Charges for each Location") > -1);
										var html='';
										var html1 = '';
										var filtered;
										if(found != undefined){
										filtered = pricingTable.filter((item) => item.item.indexOf("Monthly Additional Charges for each Location") == -1)
										var s = filtered.filter((item) => item.item.indexOf("No. of additional locations") == -1);
										var r = s.filter((item) => item.item.indexOf("Monthly Additional Charges for additional locations") == -1);
										var f = r.filter((item) => item.item.indexOf("Registration Fees") == -1);
										filtered = f;
										}
										if(filtered != undefined){
										pricingTable = filtered;
										}
									    pricingTable = pricingTable.filter((item) => item.item.indexOf("Registration Fees") == -1);
										pricingTable.push({item: conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim()+"<br><b style='font-size: 16px;'>(("+calc+") * "+conttake1+" = $"+numberlocationpricemultipling+")</b>",price: "$"+numberlocationpricemultipling});
										pricingTable.push({item: "No. of additional locations",price: ($(".businessNo").val()-1)});
										pricingTable.push({item: "Monthly Additional Charges for additional locations",price: "$"+numberlocationpricemultipling+" * "+($(".businessNo").val()-1)+" = $"+(numberlocationpricemultipling*($(".businessNo").val()-1)).toFixed(2)});
										pricingTable.push({item: "Credit Monthly Additional Charges for additional locations free (Waived For 6 Month)",price: "-$"+(numberlocationpricemultipling*($(".businessNo").val()-1)).toFixed(2)});
										pricingTable.push({item: "Registration Fees",price: "$2.90"});
										//TotalAmount = (TotalAmount+parseInt(item12.variants[0].compareAtPrice));
										if(TotalAmount > 2 && TotalAmount < 3){
											TotalAmount = 2.9;
										}
										per_package.push("Added_"+($(".businessNo").val()-1)+"-"+conttake1);
										 if(symmetricDifference(per_package,currentPacks).length > 0){
											localStorage.setItem(sessionStorage.getItem('sinid').replace('sin',''),symmetricDifference(per_package,currentPacks));
											$('.numberitems').html(symmetricDifference(per_package,currentPacks).length);
											pricingTable.forEach(function(item,index){
											html += "<span class='price"+index+"' style='padding-right: 50px;'>"+item.item.toLowerCase()+"</span><span class='price"+index+"'>"+item.price+"</span>"
											});
											html1 += "<span class='totalAmount' style='padding-right: 50px;'>Total</span><span class='totalAmount'>$"+TotalAmount.toFixed(2)+"</span>";
											$(".pricingDiv").html(html+"<hr><hr>"+html1);
										}
										crossIcon();
										$(".loader2").css("display","none");
										console.log(numofloation21);
										  
										totalpricepercentage = numberlocationpricemultipling * numofloation21;
										totalpricepercentage = totalpricepercentage.toFixed(2);
										getidforpercent = item121.products[indexper].variants[0].id;
									
										console.log(getidforpercent);
									}
								else
									{
										getidforpercent =="";
										$(".loader2").css("display","none");
									}
							
								
									
								
							});
	 
					  }
				  if ("Service Charge"==item121.title)
					  {
						 
						servicecharge = item121.products[0].variants[0].id;
						  console.log(servicecharge);
//						  alert('ok3');
					  }
				 if(!packageadded) {
				  if (addinal_variable==item121.title)
					{
						
							console.log(item121.products);
						
							item121.products.forEach(function(item12,index12){	 
		                     var li = document.createElement('li');
							     li.className="item";										
								console.log(item12);
							 packageadded = true;
							 var close = "ClosePOP('"+item12.title.replace("-","").replace(" ","").substring(0, 8)+"')";
							 var open = "OpenPOP('"+item12.title.replace("-","").replace(" ","").substring(0, 8)+"')";
							 var trigger = "TriggerAddBtn('"+item12.title.replace("-","").replace(" ","").substring(0, 8)+"')";
							 li.innerHTML='<div class=""><p onclick="'+open+'" class="lead '+item12.title.replace(" ","").substring(0, 10)+'">'+item12.title+'</p><div class="listdetails">'+item12.descriptionHtml.replace('<br>','')+'</div><span id="btnaddpack">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$'+(item12.variants[0].compareAtPrice != null ? item12.variants[0].compareAtPrice : item12.variants[0].price) +'<br><span style="font-size:12px;">per Month/per entity</span></p></p></div>';
							 li.setAttribute("id", item12.title.replace("-","").replace(" ","").substring(0, 8));
							 $("#leftplans").append('<li class="'+item12.title.replace("-","").replace(" ","").substring(0, 8)+' li"><p class="lead '+item12.title.replace(" ","").substring(0, 10)+'">'+item12.title+'</p><p class="pricingtitle121">$'+(item12.variants[0].compareAtPrice != null ? item12.variants[0].compareAtPrice : item12.variants[0].price)+'<br><span style="font-size:12px;">per Month/per entity</span></p><div class="listdetails">'+item12.descriptionHtml.replace('<br>','')+'</div><span class="btnaddpack" onclick="'+trigger+'">UPGRADE TO THIS PLAN</span></p></li>')
							 ul.appendChild(li);
							 getadnilapackarray = [];
							 

							 var lkkl = "Digital Marketing Package";
							 var llb = "Website Development and Management Package";
							 var llb3 = "Entertainment Package";
							 var llb4 = "Interactivity Creation & Management Package";
							 
							
							 if (lkkl==item12.title)
								 {
									var lis = document.getElementById("packagediv").getElementsByClassName("item");						 
									var itemview = lis[index12];	 
									 
									  var x = document.getElementById("packagediv").querySelectorAll(".listdetails");
										
									   var desc = x[index12].innerText.substring(x[index12].innerText.indexOf('{')+1, x[index12].innerText.indexOf('}'));  
									
									  var bx = document.getElementById("packagediv").querySelectorAll(".pricingtitle121");
								 }
							 
							 
							 if (llb==item12.title)
								 {
									 
						var lisb = document.getElementById("packagediv").getElementsByClassName("item");						 
						var itemviewn = lisb[index12];	 
									 
									 var x = document.getElementById("packagediv").querySelectorAll(".listdetails");
														      
									   var desc = x[index12].innerText.substring(x[index12].innerText.indexOf('{')+1, x[index12].innerText.indexOf('}'));  
									 
									 var bx = document.getElementById("packagediv").querySelectorAll(".pricingtitle121");
									  //bx[index12].innerHTML = "$299.00<br><span style='font-size:12px;'>per Month/per entity</span>";
								 }
			 
							 
							    $("#TVChanne").appendTo("#packagediv");
								$("#LiveStre").appendTo("#packagediv");
								$("#Interact").appendTo("#packagediv");
								$("#LiveChat").appendTo("#packagediv");
								$("#WebsiteD").prependTo("#packagediv");
								$("#DigitalM").prependTo("#packagediv");
								$("#LiveChat").prependTo("#packagediv");
								$(".TVChanne").appendTo("#leftplans");
								$(".LiveStre").appendTo("#leftplans");
								$(".Interact").appendTo("#leftplans");
								$(".LiveChat").appendTo("#leftplans");
								$(".WebsiteD").prependTo("#leftplans");
								$(".DigitalM").prependTo("#leftplans");
								$(".LiveChat").prependTo("#leftplans");
								if(pack == "Enterprise"){
									$("#LiveChat").css({pointerEvents: "none",'border': 'none'});
									$(".LiveChat").css({pointerEvents: "none",'border': 'none'});
									$("#LiveChat").find("#btnaddpack").html("UPGRADE TO THIS PLAN");
									$(".LiveChat").find(".btnaddpack").html("UPGRADE TO THIS PLAN");
									$("#LiveChat").find("#btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
									$(".LiveChat").find(".btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								}
								
								if(sessionStorage.getItem('package').indexOf("Live-Chat") > -1){
									$("#LiveChat").css({'display': "none"});
									$(".LiveChat").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Website") > -1){
									$("#WebsiteD").css({'display': "none"});
									$(".WebsiteD").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Digital") > -1){
									$("#DigitalM").css({'display': "none"});
									$(".DigitalM").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Enterprise") > -1){
									$("#Enterprisepa").css({'display': "none"});
									$(".Enterprisepa").css({'display': "none"});
									$("#LiveChat").css({'display': "none"});
									$(".LiveChat").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Enterprise") > -1){
									$("#Enterprisepa").css({'display': "none"});
									$(".Enterprisepa").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Entertainment") > -1){
									$("#Entertai").css({'display': "none"});
									$(".Entertai").css({'display': "none"});
									$("#TVChanne").css({'display': "none"});
									$(".TVChanne").css({'display': "none"});
									$("#LiveStre").css({'display': "none"});
									$(".LiveStre").css({'display': "none"});
									$("#Interact").css({'display': "none"});
									$(".Interact").css({'display': "none"});
								} 
								if(sessionStorage.getItem('package').indexOf("TV") > -1){
									$("#TVChanne").css({'display': "none"});
									$(".TVChanne").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Live Stream") > -1){
									$("#LiveStre").css({'display': "none"});
									$(".LiveStre").css({'display': "none"});
								}
								if(sessionStorage.getItem('package').indexOf("Interactivity") > -1){
									$("#Interact").css({'display': "none"});
									$(".Interact").css({'display': "none"});
								}
							 
							    if(!triggered){ 
									triggered = true;
									 var cart = localStorage.getItem(sessionStorage.getItem('sinid').replace('sin',''));
									setTimeout(function(){
										if(cart){
											var cartitems = cart.split(',');
											$('.numberitems').html(cartitems.length);
											cartitems.forEach(function(item121,index121){
											  if(item121.indexOf("Standard") > -1 || item121.indexOf("Premium") > -1 || item121.indexOf("Enterprise") > -1){
													$('#'+item121+"pa #btnaddpack").trigger('click');
											  }
											  $('#'+item121.replace("-","").replace(" ","").substring(0, 8)+ " #btnaddpack").trigger('click');
											  if(item121.indexOf('Added') > -1){
												var arr = item121.split("_");
												var arr1 = arr[1].split('-');
												$('.businessNo').val((parseInt(arr1[0])+1));
												showpercentage();
												$('#percentsvalues').val(arr1[1].replace('%',''));
												SavePercentage();
											  }
											});
										}
									},500);
								}
		     li.addEventListener('click',getpackage);
							 
							
							 TotalAmount = 2.9;
							 function getpackage()
							 {
							     if(TotalAmount == 0){
									 TotalAmount = 2.9;
								 }
								 if(item12.title.indexOf("Enterprise") > -1){
									percentage_variable = "PerPercentage Enterprise";
								  }
								  if(item12.title.indexOf("WEBSITE") > -1){
									percentage_variable = "PerPercentage Premium";
								  }
								 var justcheckfor;
								    justcheckfor = "Interactivity Creation & Management Package";
									
					 var titlemain;
					$(".selectedplan_").append("<li class='"+item12.title.replaceAll(' ',"_").replace("_&_","_")+"'>"+item12.title+" $"+(item12.variants[0].compareAtPrice != null ? item12.variants[0].compareAtPrice : item12.variants[0].price)+"</li>");
					if(item12.title == item12.title){
						const found = pricingTable.find(element => element.item == item12.title);
						var html='';
						var html1 = '';
						var filtered;
						if(found != undefined){
							filtered = pricingTable.filter((item) => item.item !== item12.title)
							filtered = filtered.filter((item) => item.item !== "Credit "+item12.title+" (Waived For 6 Month)")
							filtered = filtered.filter((item) => item.item !== "Registration Fees")
							$("."+item12.title.replaceAll(' ',"_").replace("_&_","_")).remove();
							pricingTable = filtered;
						}
						if(item12.title == "Entertainment Package"){
							filtered = pricingTable.filter((item) => item.item.indexOf("TV Channel Creation & Management Package") == -1 )
							filtered = filtered.filter((item) => item.item.indexOf("Live Stream Channel Creation & Management Package") == -1)
							filtered = filtered.filter((item) => item.item.indexOf("Interactivity Creation & Management Package") == -1);
							filtered = filtered.filter((item) => item.item !== "Registration Fees")
							pricingTable = filtered;
						}
						if(filtered != undefined){
							pricingTable = filtered;
						}
						
						if(found == undefined){
							pricingTable.push({item: item12.title,price: "$"+(item12.variants[0].compareAtPrice != null ? item12.variants[0].compareAtPrice : item12.variants[0].price)});
						}
						if(item12.title.indexOf("Live-Chat") == -1 && item12.title.indexOf("Digital") == -1 && item12.title.indexOf("Website") == -1 && (found == undefined)){
							pricingTable.push({item: "Credit "+item12.title+" (Waived For 6 Month)",price: '-$'+(item12.variants[0].compareAtPrice != null ? item12.variants[0].compareAtPrice : item12.variants[0].price)});
						} 
						
						if((item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("Digital") > -1 || item12.title.indexOf("Website") > -1) && (found == undefined)){
							TotalAmount = (TotalAmount+parseInt(item12.variants[0].price));
						} 
						if((item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("Digital") > -1 || item12.title.indexOf("Website") > -1) && (found != undefined)){
							TotalAmount = (TotalAmount-parseInt(item12.variants[0].price));
						} 
						if(TotalAmount <  0){
							TotalAmount = 0.00;
						}
						if(found == undefined){
						    filtered = pricingTable.filter((item) => item.item !== "Registration Fees")
							pricingTable = filtered;
						}
						//TotalAmount = (TotalAmount+parseInt(item12.variants[0].compareAtPrice));
						if(pricingTable.length > 0){
							pricingTable.push({item: "Registration Fees",price: "$2.90"});
						}
						if(TotalAmount > 2 && TotalAmount < 3){
							TotalAmount = 2.9;
						}
						if(pricingTable.length < 1){
							TotalAmount = 0;
						}
						
						titlemain = item12.title;
						gettochwithvales = "Entertainment Package";
						getifslcteddesobject = "Interactivity Creation & Management Package";
						
						var id = item12.title.replace("-","").replace(" ","").substring(0, 8);
						var lis = document.getElementById(id);						 
						var itemview = lis;	 
									  
									
						var currentID = item12.variants[0].id;
						var Added = false;
						getadnilapackarray.forEach(function(addcpkid,addcpkitem){
						 if(addcpkid == currentID){
							Added = true;
							getadnilapackarray.splice(addcpkitem,1);
						 }
						});
						if(!Added){
							if(item12.title.indexOf("Entertainment") > -1){
								percentage_variable = "PerPercentage Entertainment"
							} else if(item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("TV Channel") > -1 || item12.title.indexOf("Live Stream") > -1 || item12.title.indexOf("Interactivity") > -1){
								percentage_variable = "PerPercentage Live Chat"
							}
						     packages.push(item12.title.replace('Package','').trim());
							$("."+id).find(".btnaddpack").html("ADDED");
							var x = $("#"+id).find("#btnaddpack");
							x.html("ADDED");
							if(item12.title == "Entertainment Package"){
								var filtered_ = packages.filter((item) => item.indexOf('TV Channel Creation & Management') == -1);
								filtered_ = filtered_.filter((item) => item.indexOf('Live Stream Channel Creation & Management') == -1);
								filtered_ = filtered_.filter((item) => item.indexOf('Interactivity Creation & Management') == -1);
							    packages = filtered_;
							    $(".TV_Channel_Creation_Management_Package").remove();
								$(".Live_Stream_Channel_Creation_Management_Package").remove();
								$(".Interactivity_Creation_Management_Package").remove();
								var newArray = []
								getadnilapackarray.forEach(function(addcpkid,addcpkitem){
								if(addcpkid == "Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8zMjQ2Mjg1MTg5OTUyNQ==" || addcpkid == "Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8zMjQ2MjQ0NDc1NzEyNQ==" || addcpkid == "Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8zMjQ2MjQ1MzQ0MDY0NQ=="){
									newArray.push(addcpkid);
									getadnilapackarray = newArray;
								}
								});
								$("#Interact").css({pointerEvents: "none",'border': 'none'})
								$("#LiveStre").css({pointerEvents: "none",'border': 'none'})
								$("#TVChanne").css({pointerEvents: "none",'border': 'none'})
								$("#Interact").find("#btnaddpack").html("UPGRADE TO THIS PLAN");
								$("#LiveStre").find("#btnaddpack").html("UPGRADE TO THIS PLAN");
								$("#TVChanne").find("#btnaddpack").html("UPGRADE TO THIS PLAN");
								$("#Interact").find("#btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								$("#LiveStre").find("#btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								$("#TVChanne").find("#btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								$(".Interact").css({pointerEvents: "none",'border': 'none'})
								$(".LiveStre").css({pointerEvents: "none",'border': 'none'})
								$(".TVChanne").css({pointerEvents: "none",'border': 'none'})
								$(".Interact").find(".btnaddpack").html("UPGRADE TO THIS PLAN");
								$(".LiveStre").find(".btnaddpack").html("UPGRADE TO THIS PLAN");
								$(".TVChanne").find(".btnaddpack").html("UPGRADE TO THIS PLAN");
								$(".Interact").find(".btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								$(".LiveStre").find(".btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
								$(".TVChanne").find(".btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
							}
							Additional_loc_calc();
							getadnilapackarray.push(item12.variants[0].id);
							Added = true;
						} else {
							var filtered = packages.filter((item) => item.indexOf(item12.title.replace('Package','').trim()) == -1);
							packages = filtered;
							if(conttake)
							conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
							var id = item12.title.replace("-","").replace(" ","").substring(0, 8);
							var x = document.getElementById("packagediv").querySelectorAll("#btnaddpack");
							$("#"+id).find("#btnaddpack").html("UPGRADE TO THIS PLAN");
							$("."+id).find(".btnaddpack").html("UPGRADE TO THIS PLAN");
							if(item12.title == "Entertainment Package"){
							    var filtered_ = packages.filter((item) => item.indexOf('TV Channel Creation & Management') == -1);
								filtered_ = filtered_.filter((item) => item.indexOf('Live Stream Channel Creation & Management') == -1);
								filtered_ = filtered_.filter((item) => item.indexOf('Interactivity Creation & Management') == -1);
							    packages = filtered_;
								$("#Interact").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$("#LiveStre").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$("#TVChanne").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$("#Interact").find(".pad15").css({"background":"#ffffff"})
								$("#LiveStre").find(".pad15").css({"background":"#ffffff"})
								$("#TVChanne").find(".pad15").css({"background":"#ffffff"})
								$("#Interact").find("#btnaddpack").html( "UPGRADE TO THIS PLAN")
								$("#LiveStre").find("#btnaddpack").html( "UPGRADE TO THIS PLAN")
								$("#TVChanne").find("#btnaddpack").html( "UPGRADE TO THIS PLAN")
								$("#Interact").find("#btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
								$("#LiveStre").find("#btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
								$("#TVChanne").find("#btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
								
								$(".Interact").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$(".LiveStre").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$(".TVChanne").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'})
								$(".Interact").find(".pad15").css({"background":"#ffffff"})
								$(".LiveStre").find(".pad15").css({"background":"#ffffff"})
								$(".TVChanne").find(".pad15").css({"background":"#ffffff"})
								$(".Interact").find(".btnaddpack").html( "UPGRADE TO THIS PLAN")
								$(".LiveStre").find(".btnaddpack").html( "UPGRADE TO THIS PLAN")
								$(".TVChanne").find(".btnaddpack").html( "UPGRADE TO THIS PLAN")
								$(".Interact").find(".btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
								$(".LiveStre").find(".btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
								$(".TVChanne").find(".btnaddpack").css({'background':'#F4F8FB 0% 0% no-repeat padding-box','color': '#656565'});
							}
							if(item12.title == "Entertainment Package"){
							if(sessionStorage.getItem('package').indexOf(',') > -1){
									var array = sessionStorage.getItem('package').split(',');
									array.forEach(function(item121,index121){
										if(item121.indexOf("TV Channel Creation & Management") > -1){
										   packages.push('TV Channel Creation & Management');
										}
										if(item121.indexOf("Live Stream Channel Creation & Management") > -1){
										   packages.push('Live Stream Channel Creation & Management');
										}
										if(item121.indexOf("Interactivity Creation & Management") > -1){
										   packages.push('Interactivity Creation & Management');
										}
									});
								}
							}
							if(item12.title.indexOf("Entertainment") > -1 || item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("TV Channel") > -1 || item12.title.indexOf("Live Stream") > -1 || item12.title.indexOf("Interactivity") > -1){
								percentage_variable = "PerPercentage "+addinal_variable.replace("Additional ",'')
							}
							Additional_loc_calc()
							Added = false;
						}
						if(symmetricDifference(packages,currentPacks).length > 0){
							localStorage.setItem(sessionStorage.getItem('sinid').replace('sin',''),symmetricDifference(packages,currentPacks));
							$('.numberitems').html(symmetricDifference(packages,currentPacks).length);
							pricingTable.forEach(function(item,index){
							html += "<span class='price"+index+"' style='padding-right: 50px;'>"+item.item.toLowerCase()+"</span><span class='price"+index+"'>"+item.price+"</span>"
							});
							html1 += "<span class='totalAmount' style='padding-right: 50px;'>Total</span><span class='totalAmount'>$"+TotalAmount.toFixed(2)+"</span>";
							$(".pricingDiv").html(html+"<hr><hr>"+html1);
						}else {
							$(".pricingDiv").html('<span class="totalAmount" style="padding-right: 50px;">Total</span><span class="totalAmount">$0.00</span>');
						}
						function datacalltwotime()
									 {
									
					if (gettochwithvales==item12.title)
						{
							var checkselcton = '';
							console.log(checkselcton);
							if (checkselcton!="")
								{
									
									if (addinal_variable=="Additional Enterprise")
										{
											
										document.getElementById("valueforslction").value ="";
											
							        testpopse = "1";
									console.log(getadnilapackarray); 	 
										for(var h = 0; h < getadnilapackarray.length; h++) {
											var curItem = getadnilapackarray[h];
											var foundCount = 0;
																			   
											
											for(var i = 0; i < getadnilapackarray.length; i++) {
												if (getadnilapackarray[i] == getadnilapackarray[h])
													foundCount++;	
											}
											
											if(foundCount > 1) {
												// remove repeated item from new array
												console.log(getadnilapackarray);
												for(var j = 0; j < newArr.length; j++) {
													if(newArr[j] == curItem) {                
														newArr.splice(j, 1);
														j = j - 1;		
													} 
												}  
												
											}
												
										}
									var str = newArr.toString();
									listthecheckmarmap = str.split();
									listthecheckmarmap = JSON.parse("[" + JSON.stringify(listthecheckmarmap) + "]");
									console.log(listthecheckmarmap);
									console.log(getadnilapackarray);	
										}
									else
										{
											
									document.getElementById("valueforslction").value ="";		
									 newArr = getadnilapackarray;
									console.log(getadnilapackarray); 	 
									for(var h = 0; h < getadnilapackarray.length; h++) {
										var curItem = getadnilapackarray[h];
										var foundCount = 0;
																		   
										
										for(var i = 0; i < getadnilapackarray.length; i++) {
											if (getadnilapackarray[i] == getadnilapackarray[h])
												foundCount++;
											
											
										}
	
    if(foundCount > 1) {
        // remove repeated item from new array
        for(var j = 0; j < newArr.length; j++) {
            if(newArr[j] == curItem) {                
                newArr.splice(j, 1);
                j = j - 1;
			
			
					
            }
			  
        }  
		
    }
		
}
								 var str = newArr.toString();
									 listthecheckmarmap = str.split();
									  listthecheckmarmap = JSON.parse("[" + listthecheckmarmap + "]");
									console.log(listthecheckmarmap);
										console.log(getadnilapackarray);
												
										}	
								}  //ok

						}
							
									 else
										 {
											if (testpopse=="")
												{
//													
													if (addinal_variable == "Additional Enterprise")
														{
													document.getElementById("valueforslction").value ="www";
													
											 var lis3 = document.getElementById("packagediv").getElementsByClassName("item");
						
														}
													else
														{
												
													document.getElementById("valueforslction").value ="www";
														}
												}

											else
												{
													console.log("d");
													
												}
										 } 
										 
									 }
									 
									 
									 datacalltwotime();
									 
									 var getpricing = item12.variants[0].price;
									 var addnalgetprciehere1 = parseFloat(getpricing); //249
									
							 }
								 
								 
for(var h = 0; h < getadnilapackarray.length; h++) {
    var curItem = getadnilapackarray[h];
    var foundCount = 0;
									   
	console.log(getadnilapackarray); 	 
    for(var i = 0; i < getadnilapackarray.length; i++) {
        if (getadnilapackarray[i] == getadnilapackarray[h])
            foundCount++;
		
		
    }
	
    if(foundCount > 1) {
        // remove repeated item from new array
        for(var j = 0; j < newArr.length; j++) {
            if(newArr[j] == curItem) {                
                newArr.splice(j, 1);
                j = j - 1;
				
				if (gettochwithvales==titlemain)
					{
					
				gettochwithvales = "other";
				testpopse = "";
				
				datacalltwotime();
				
					}
			else
			{
				datacalltwotime();
			}	
            }
			  
        }  
		
    }
		
}
	if((item12.title.indexOf("Entertainment") > -1 || item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("TV Channel") > -1 || item12.title.indexOf("Live Stream") > -1 || item12.title.indexOf("Interactivity") > -1) && Added){
		 getlistfromadd();
	}
	if((item12.title.indexOf("Entertainment") > -1 || item12.title.indexOf("Live-Chat") > -1 || item12.title.indexOf("TV Channel") > -1 || item12.title.indexOf("Live Stream") > -1 || item12.title.indexOf("Interactivity") > -1) && !Added){
		  getlistfromadd();
	}
							 }	 
						 });

				  if ("Service Charge"==item121.title)
					  {
						 
						servicecharge = item121.products[0].variants[0].id;
						  console.log(servicecharge);
//						  alert('ok3');
					  }

				}
				}
			});
				  
//				 
			  collections[1].products.forEach(function(item2,index2){
				
					console.log(item2.title);
					if (typecontent2==item2.title)
					if (typecontent2==item2.title)
					{	
			
//					     console.log(item2.descriptionHtml);
						var desckk = item2.descriptionHtml;
						var desckk1 = desckk.substring(desckk.indexOf('{')+1, desckk.indexOf('}')); 
						document.getElementById("descp").innerHTML = desckk1;

					}
						
			});
			  
			    collections[0].products.forEach(function(item21,index21){
				
					console.log(item21.title);
					if (typecontent==item21.title)
					{	
						var desckk = item21.descriptionHtml;
						var desckk2 = desckk.substring(desckk.indexOf('{')+1, desckk.indexOf('}')); 
						var ss =desckk2.replace("<p> </p>","").trim()
						
						/*Remove extra spaces*/
						$( 'p:empty' ).remove();
						$("span").each(function() { 
						   var $el = $(this);
						   if($.trim($el.html()) == "&nbsp;") {
							 $el.remove();
						   }
						 });
						$("p").each(function() { 
						   var $el = $(this);
						   if($.trim($el.html()) == "&nbsp;" || $.trim($el.html()) == "<br>") {
							 $el.remove();
						   }
						 });
					}
						
		});
			});
			let userDataAction = async () => {
				  const response = await fetch('https://proxy.actv.05media.com/rest/private/sincommunityhubservice/getBusiness/'+sessionStorage.getItem('sinid'), {
						method: 'GET',
						headers: {
						  'Accept': 'application/json',
						  'Authorization':  sessionStorage.getItem('_token'),
						  'Content-Type': 'application/json'
						}
					  });
					  const userData = await response.json();
					  if(userData.error == "invalid_token"){
						window.sessionStorage.removeItem("_token");
						window.location.href = "login.html";
					  }
					  address = userData.business.address;
					  aadrray = address.split(',');
			   }
			    userDataAction();
			}
			
			function SavePercentage(){
			 $(".loader2").css("display","block");
			    percentsvalues = document.getElementById('percentsvalues').value; // this is the percetange values
			  
			  if(conttake){
			  if(conttake.indexOf("Standard") > -1 || conttake.indexOf("Premium") > -1 || conttake.indexOf("Enterprise") > -1){
				   conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
				   conttake += " "+addinal_variable.replace('Additional ','');
			  }}
			  if (percentsvalues>=0 && percentsvalues<=4)
                 {

		                conttake = "0%";
					 conttake1 = "0%";
				 }
			  
			  
			  else if (percentsvalues>=5 && percentsvalues<=10)
					   {
					   conttake = "Monthly Additional Charges for each Location 10%";
					   conttake1 = "10%";
						    
					   
					   }
			  else if (percentsvalues>=11 && percentsvalues<=14)
					   {
					   conttake = "Monthly Additional Charges for each Location 10%";
						   conttake1 = "10%";
						    
					   }
			  else if (percentsvalues>=15 && percentsvalues<=20)
					   {
					   conttake = "Monthly Additional Charges for each Location 20%";
					   conttake1 = "20%";
						    
					   }
			  else if (percentsvalues>=21 && percentsvalues<=24)
					   {
					   conttake = "Monthly Additional Charges for each Location 20%";
						    conttake1 = "20%";
						    
					   }
			  else if (percentsvalues>=25 && percentsvalues<=30)
					   {
					   conttake = "Monthly Additional Charges for each Location 30%";
					   conttake1 = "30%";
						    
					   }
			  else if (percentsvalues>=31 && percentsvalues<=34)
					   {
					   conttake = "Monthly Additional Charges for each Location 30%";
					   conttake1 = "30%";
						    
					   }
			  else if (percentsvalues>=35 && percentsvalues<=40)
					   {
					   conttake = "Monthly Additional Charges for each Location 40%";
					   conttake1 = "40%";
						    
					   }
			  else if (percentsvalues>=41 && percentsvalues<=44)
					   {
					   conttake = "Monthly Additional Charges for each Location 40%";
					   conttake1 = "40%";
						    
					   }
			  else if (percentsvalues>=45 && percentsvalues<=50)
					   {
					   conttake = "Monthly Additional Charges for each Location 50%";
					   conttake1 = "50%";
						    
					   }
			  else if (percentsvalues>=51 && percentsvalues<=54)
					   {
					   conttake = "Monthly Additional Charges for each Location 50%";
						   conttake1 = "50%";
						    
					   }
			  else if (percentsvalues>=55 && percentsvalues<=60)
					   {
					   conttake = "Monthly Additional Charges for each Location 60%";
						   conttake1 = "60%";
						    
					   }
			  else if (percentsvalues>=61 && percentsvalues<=64)
					   {
					   conttake = "Monthly Additional Charges for each Location 60%";
					   conttake1 = "60%";
						    
					   }
			  else if (percentsvalues>=65 && percentsvalues<=70)
					   {
					   conttake = "Monthly Additional Charges for each Location 70%";
					   conttake1 = "70%";
						    
					   }
			  else if (percentsvalues>=71 && percentsvalues<=74)
					   {
					   conttake = "Monthly Additional Charges for each Location 70%";
						    conttake1 = "70%";
						    
					   }
			  else if (percentsvalues>=75 && percentsvalues<=80)
					   {
					   conttake = "Monthly Additional Charges for each Location 80%";
					   conttake1 = "80%";
						    
					   }
			  else if (percentsvalues>=81 && percentsvalues<=84)
					   {
					   conttake = "Monthly Additional Charges for each Location 80%";
						    conttake1 = "80%";
						    
					   }
			  else if (percentsvalues>=85 && percentsvalues<=90)
					   {
					   conttake = "Monthly Additional Charges for each Location 90%";
					   conttake1 = "90%";
						    
					   }
			  else if (percentsvalues>=91 && percentsvalues<=94)
					   {
					   conttake = "Monthly Additional Charges for each Location 90%";
						   conttake1 = "90%";
						    
					   }
			  else if (percentsvalues>=95 && percentsvalues<=100)
					   {
					   conttake = "Monthly Additional Charges for each Location 100%";
					   conttake1 = "100%";
						    
					   }
				
			  getlistfromadd();
			  Additional_loc_calc();
		  };
		  
		function Additional_loc_calc(){
			        var s1=false;
					var s2= false;
					var pack99count = 0;
					calc = "";
					if(addinal_variable.replace('Additional ','') == "Standard"){
						calc += "$99";
					}
					if(addinal_variable.replace('Additional ','') == "Premium"){
						calc += "$299";
					}
					if(addinal_variable.replace('Additional ','') == "Enterprise"){
						calc += "$499";
					}
					 packages.forEach(function(item,addcpkitem){
						if(item.indexOf("Entertainment") > -1 || item.indexOf("Live-Chat") > -1){
							if(item.indexOf("Entertainment") > -1){
							   s1 = true;
							   calc += " + $249";
							}
							if(item.indexOf("Live-Chat") > -1){
							   s2 = true;
							   calc += " + $99";
							   pack99count++;
							}
						}
						if(item.indexOf("TV Channel") > -1 && conttake){
						   pack99count++;
						   calc += " + $99";
						   percentage_variable = "PerPercentage Live Chat";
						   conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						   conttake += " "+addinal_variable.replace('Additional ','');
						}
						if(item.indexOf("Live Stream") > -1 && conttake){
						   pack99count++;
						   calc += " + $99";
						   percentage_variable = "PerPercentage Live Chat";
						   conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						   conttake += " "+addinal_variable.replace('Additional ','');
						}
						if(item.indexOf("Interactivity") > -1 && conttake){
						   pack99count++;
						   calc += " + $99";
						   percentage_variable = "PerPercentage Live Chat";
						   conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						   conttake += " "+addinal_variable.replace('Additional ','');
						}
					});
					if(s1 && s2 && conttake){
					percentage_variable = "PerPercentage Entertainment Live";
					conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
					conttake += " "+addinal_variable.replace('Additional ','');
				  }
				  if(s1 & !s2 && conttake){
					percentage_variable = "PerPercentage Entertainment";
					conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
					conttake += " "+addinal_variable.replace('Additional ','');
					}
					if(s2 & !s1 && conttake){
						percentage_variable = "PerPercentage Live Chat";
						conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						conttake += " "+addinal_variable.replace('Additional ','');
					}
					if(pack99count == 2 && conttake){
									percentage_variable = "PerPercentage Live TV";
									conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
									conttake += " "+addinal_variable.replace('Additional ','');
					}
					if(pack99count == 3 && conttake){
						percentage_variable = "PerPercentage Live TV Interactivity";
						conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						conttake += " "+addinal_variable.replace('Additional ','');
					}
					if(pack99count == 4 && conttake){
						percentage_variable = "PerPercentage Entertainment Live";
						conttake = conttake.replaceAll('Standard','').replaceAll('Premium','').replaceAll('Enterprise','').replace('Entertainment-Live','').trim();
						conttake += " "+addinal_variable.replace('Additional ','');
						calc = "";
						if(addinal_variable.replace('Additional ','') == "Standard"){
						calc += "$99";
						}
						if(addinal_variable.replace('Additional ','') == "Premium"){
							calc += "$299";
						}
						if(addinal_variable.replace('Additional ','') == "Enterprise"){
							calc += "$499";
						}
						calc += " + $99 + $249";
					}
			}
		function AddAdditionalPack(id,price,text){
		$(".pricingDiv").html('<img style="width: 94px; margin: auto; display: block;" src="img/loader1.gif">');
			$(".mainplan0_").html("<li>"+id.toLowerCase()+" "+price+"</li>");
			$("#left li #btnaddpack").html("UPGRADE TO THIS PLAN")
			if(id == "STANDARD PACKAGE"){
				addinal_variable = "Additional Standard";
				typecontent = "Standard Package"
				const found = packages.find(element => element.item == "Standard");
				var filtered;
				filtered = packages.filter((item) => item.indexOf("Premium") == -1);
				filtered = filtered.filter((item) => item.indexOf("Enterprise") == -1);
				packages = filtered;
				packages.push('Standard');
				
				typecontent = "Standard Package"
				percentage_variable = "PerPercentage Standard"
				$("#Premiumpa").css("display","block");
				$("#Enterprisepa").css("display","block");
				$("#Standardpa").css("display","none");
				$(".Premiumpa").css("display","block");
				$(".Enterprisepa").css("display","block");
				$(".Standardpa").css("display","none");
				$("#LiveChat").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'});
				$(".LiveChat").css({"pointerEvents": "auto","background":"#ffffff",'border': 'none'});
				if(sessionStorage.getItem('package').indexOf(',') > -1){
					var array = sessionStorage.getItem('package').split(',');
					array.forEach(function(item121,index121){
						if(item121.indexOf("Live-Chat") > -1){
						   packages.push('Live-Chat & Phone Support');
						}
					});
				}
			}
			if(id == "PREMIUM PACKAGE"){
				addinal_variable = "Additional Premium";
				typecontent = "Premium Package"
				percentage_variable = "PerPercentage Premium"
				const found = packages.find(element => element.item == "Premium");
				var filtered;
				filtered = packages.filter((item) => item.indexOf("Standard") == -1);
					filtered = filtered.filter((item) => item.indexOf("Enterprise") == -1);
					packages = filtered;
					packages.push('Premium');
				typecontent = "Premium Package"
				$("#Enterprisepa").css("display","block");
				$("#Standardpa").css("display","block");
				$("#Premiumpa").css("display","none");
				$(".Enterprisepa").css("display","block");
				$(".Standardpa").css("display","block");
				$(".Premiumpa").css("display","none");
				$("#LiveChat").css({"pointerEvents": "auto",'border': 'none'});
				$(".LiveChat").css({"pointerEvents": "auto",'border': 'none'});
				$("#LiveChat").find("#btnaddpack").css({'background-color':'#ffffff','color': '#656565'});
				$(".LiveChat").find(".btnaddpack").css({'background-color':'#ffffff','color': '#656565'});
				if(sessionStorage.getItem('package').indexOf(',') > -1){
					var array = sessionStorage.getItem('package').split(',');
					array.forEach(function(item121,index121){
						if(item121.indexOf("Live-Chat") > -1){
						   packages.push('Live-Chat & Phone Support Package');
						}
					});
				}
			}
			if(id == "ENTERPRISE PACKAGE"){
				addinal_variable = "Additional Enterprise";
				typecontent = "Enterprise Package"
				percentage_variable = "PerPercentage Enterprise"
				const found = packages.find(element => element.item == "Enterprise");
				var filtered;
					filtered = packages.filter((item) => item.indexOf("Premium") == -1);
					filtered = filtered.filter((item) => item.indexOf("Standard") == -1);
					filtered = filtered.filter((item) => item.indexOf("Live-Chat") == -1);
					packages = filtered;
					packages.push('Enterprise');
				typecontent = "Enterprise Package"
				$("#Standardpa").css("display","block");
				$("#Premiumpa").css("display","block");
				$("#Enterprisepa").css("display","none");
				$(".Standardpa").css("display","block");
				$(".Premiumpa").css("display","block");
				$(".Enterprisepa").css("display","none");
				$("#LiveChat").css({pointerEvents: "none",'border': 'none'});
				$(".LiveChat").css({pointerEvents: "none",'border': 'none'});
				$("#LiveChat").find("#btnaddpack").html("UPGRADE TO THIS PLAN");
				$(".LiveChat").find(".btnaddpack").html("UPGRADE TO THIS PLAN");
				$("#LiveChat").find("#btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
				$(".LiveChat").find(".btnaddpack").css({'background-color':'#C0C0C0','color': '#fff'});
				$(".Live-Chat_Phone_Support_Package").remove();
				
			}
			Additional_loc_calc();
			SelectedAdditional = text;
			
			if(TotalAmount == 0){
				TotalAmount = 2.90;
			}
			const found = pricingTable.find(element => element.item == id);
			var html='';
			var html1 = '';
			
			var filtered;
			filtered = pricingTable.filter((item) => ((item.item.indexOf("STANDARD") == -1) && (item.item.indexOf("PREMIUM") == -1) && (item.item.indexOf("ENTERPRISE") == -1)))
			var s = filtered.filter((item) => ((item.item.indexOf("for STANDARD") == -1) && (item.item.indexOf("for PREMIUM") == -1) && (item.item.indexOf("for ENTERPRISE") == -1)));
			filtered = s;
			if(id == "ENTERPRISE PACKAGE"){
				const found_ = pricingTable.find(element => element.item == "Live-Chat & Phone Support Package");
				if(found_){
				filtered = filtered.filter((item) => ((item.item.indexOf("Live-Chat & Phone Support Package") == -1)));
				TotalAmount = (TotalAmount-99);
				getadnilapackarray.forEach(function(addcpkid,addcpkitem){
				 if(addcpkid == "Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0VmFyaWFudC8zMjIyOTAyMjc2MTAzMQ=="){
					getadnilapackarray.splice(addcpkitem,1);
				 }
				});
				}
			}
			pricingTable = filtered;
			pricingTable.push({item: id,price: price});
			pricingTable.push({item: "Credit "+id+" (Waived For 6 Month)",price: '-'+price});
			//TotalAmount = (TotalAmount+parseInt(item12.variants[0].compareAtPrice));
			if(TotalAmount > 2 && TotalAmount < 3){
				TotalAmount = 2.9;
			}
			if(symmetricDifference(packages,currentPacks).length > 0){
				localStorage.setItem(sessionStorage.getItem('sinid').replace('sin',''),symmetricDifference(packages,currentPacks));
				$('.numberitems').html(symmetricDifference(packages,currentPacks).length);
				pricingTable.forEach(function(item,index){
				html += "<span class='price"+index+"' style='padding-right: 50px;'>"+item.item.toLowerCase()+"</span><span class='price"+index+"'>"+item.price+"</span>"
				});
				html1 += "<span class='totalAmount' style='padding-right: 50px;'>Total</span><span class='totalAmount'>$"+TotalAmount.toFixed(2)+"</span>";
				$(".pricingDiv").html(html+"<hr><hr>"+html1);
			}else {
				$(".pricingDiv").html('<span class="totalAmount" style="padding-right: 50px;">Total</span><span class="totalAmount">$0.00</span>');
			}
			getlistfromadd();
			
			setTimeout(function() {
			if(isaddedpack){
			 if(id == "STANDARD PACKAGE"){
				addinal_variable = "Additional Standard";
			  } else
			  if(id == "PREMIUM PACKAGE"){
				addinal_variable = "Additional Premium";
			  } else
			  if(id == "ENTERPRISE PACKAGE"){
				addinal_variable = "Additional Enterprise";
			  }
			 }
			},3000)
			SavePercentage();

	}
</script>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
 
	  <div id="header">
         <header style="background-color: #fff;box-shadow: 1px 4px 1px rgb(240, 241, 241);margin-bottom: 33px;">
            <img class="logoImage" src="img/header_logo.png" />
            <div class="rightside">
			    <span style="position:relative;"><img style="width: 39px;" src="img/shopping_cart.png" /><span class="numberitems">0</span></span>
                <a href="profile.html"><img id="profilePic"/><span style="margin-right: 12px;" class="Disname"></span></a> <a onclick="logoutuser()" class="logoutuser">Logout</a>
            </div>
         </header>
      </div>
 <div class="modal_">
	 <div class="content">
		<span class="crossicon" onclick="crossIcon()"><i class="fa fa-times-circle-o" aria-hidden="true"></i></span>
		<p>Total number of business locations?*</p>
		<input placeholder="Please select total number of business locations*" type="number" class="businessNo" />
		<p>Are the product or services the same for each locations?*</p>
		<button onclick="hidepercentage()" class="button yesbtn">YES</button>
		<button onclick="showpercentage()" class="button nobtn">NO</button>
		<p class="percentage">What is the percentage of difference in products/services?*</p>
		<input class="percentage" id="percentsvalues" placeholder="eg: 50%, 60%, etc" type="text"/><br>
		
		<span class="Savebutton" onclick="SavePercentage()">Save & Continue</span><img class="loader2" style="width: 44px;margin-top: 5%;margin: auto;display: none;" src="img/loader1.gif" />
		</div>
  </div>
<div class="col-sm-3" id="left">
	<div>
	    <div class="CurrentDiv">
		<img style="margin: auto;display: block; position:relative" src="img/plans/selected_small.png" >
		<span class="selectedtext"><p style="width: 166px;">Current Plan</p></span>
		<ul class="selectedplan"></ul>
		</div>
		<ul class="selectedplan_">Selected Plans:<span class="mainplan0_"></span></ul>
		<div style="width: 397px;margin: auto;"><p style="color: #000000;font-size: 19px;margin-left: 28px;margin-top:20px;">Does your business has more than one location ?</p>
		<button onclick="ShowModal()" class="button addloc">YES</button>
		<button onclick="removelocation()" class="removeloc button">NO</button>
		</div>
		<ul id="leftplans">
		<li id="Enterprisepa"><div class=""><p onclick="OpenPOP('Enterprisepa')" class="lead">Enterprise Package</p><span id="btnaddpack" onclick="AddAdditionalPack('ENTERPRISE PACKAGE','$499.00','Enterprisepa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$499.00<br><span style="font-size:12px;">per Month/per entity</span></p></div></li>
		<li id="Premiumpa"><div class=""><p onclick="OpenPOP('Premiumpa')" class="lead">Premium Package</p><span id="btnaddpack" onclick="AddAdditionalPack('PREMIUM PACKAGE','$299.00','Premiumpa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$299.00<br><span style="font-size:12px;">per Month/per entity</span></p></div></li>
		<li id="Standardpa"><div class=""><p onclick="OpenPOP('Standardpa')" class="lead">Standard Package</p><span id="btnaddpack" onclick="AddAdditionalPack('STANDARD PACKAGE','$99.00','Standardpa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$99.00<br><span style="font-size:12px;">per Month/per entity</span></p></div></li>
		</ul>
	</div>
</div>
<div class="col-sm-6">
<ul id="packagediv">
<li class="item Enterprisepa"><div class=""><p onclick="OpenPOP('Enterprisepa')" class="lead WebsiteDev">Enterprise Package</p><div class="listdetails"><ul>
<li>Premium Package</li>
<li>First line phone support</li>
<li>Text and Live-Chat Support</li>
<li>Trainings</li>
</ul></div><span id="btnaddpack" onclick="TriggerAddBtn('Enterprisepa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$499.00<br><span style="font-size:12px;">per Month/per entity</span></p><p></p></div></li>
<li class="item Premiumpa"><div class=""><p onclick="OpenPOP('Premiumpa')" class="lead WebsiteDev">Premium Package</p><div class="listdetails"><ul>
<li>Standard Package</li>
<li>Online Store Creation and Management(Max 100 items and updated once per week)</li>
<li>E-commerce solution including shopping cart</li>
<li>Order creation and management </li>
<li>Discount codes management</li>
</ul></div><span id="btnaddpack" onclick="TriggerAddBtn('Premiumpa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$299.00<br><span style="font-size:12px;">per Month/per entity</span></p><p></p></div></li>
<li class="item Standardpa"><div class=""><p onclick="OpenPOP('Standard')" class="lead WebsiteDev">Standard Package</p><div class="listdetails"><ul>
<li>Launch of the customer mobile application</li>
<li>Populate the app with customer’s content and media</li>
<li>Coupons management services</li>
<li>Deals management services </li>
<li>Mycommunity.Today Social networking management</li>
<li>Content updated once per week</li>
<li>Email based Customer Support</li>
</ul></div><span id="btnaddpack" onclick="TriggerAddBtn('Standardpa')">UPGRADE TO THIS PLAN</span><p class="pricingtitle121">$99.00<br><span style="font-size:12px;">per Month/per entity</span></p><p></p></div></li>
<img class="loader1" style="width: 94px;margin-top: 5%;margin: auto;display: block;" src="img/loader1.gif" /></ul>
</div>
<div class="col-sm-3">
<div class="pricingDiv">
<span class="price0" style="padding-right: 50px;">Total</span><span class="price0">$0.00</span>
</div>
<button id="submitdatamain" class="checkout" style="float: right">CHECKOUT</button>
</div>
</html>