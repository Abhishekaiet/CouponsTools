<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://superal.github.io/canvas2image/canvas2image.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Web Studio</title>

    <!-- Being Font Aewesome version 5.1.0 CDN calling fonts on page -->

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="js/responsive.css">
    <link rel="stylesheet" type="text/css" href="css/coupons&deals.css">
    <link rel="stylesheet" type="text/css" href="css/creatingcoupons.css">
    <link rel="stylesheet" type="text/css" href="css/creatingpage.css">
    <link rel="stylesheet" type="text/css" href="css/creatingcouponsleftresult.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/header.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--	  //bootstrap classes-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!--	  ends here -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.4/firebase.js"></script>
    <!--	  <script src="jcrop/jquery.Jcrop.min.js"></script>-->
    <script src="jcrop/jquery.Jcrop.js"></script>
    <script src="jcrop/jcrop.js"></script>
    <!--	 <script src="jcrop/jcrop2.js"></script> -->
    <script src="jcrop/jcrop3.js"></script>
    <script src="jcrop/jcrop4.js"></script>
    <script src="jcrop/jcropdeal2.js"></script>
    <script src="jcrop/jcropdellogo.js"></script>
    <script src="jcrop/jcropcouplogo.js"></script>
    <link rel="stylesheet" href="jcropcss/jquery.Jcrop.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css" />
    <!-- Css Stylesheet Contolling page Design-->
	<style>
	select {
		background-color: white !important;
		background-image: url(img/Icons/arrow-triangle.png) !important;
		background-position: right 15px center  !important;
		background-repeat: no-repeat;
		background-size: auto 30%;
	}
	</style>
	<script>

	$(document).ready(function() {
		const sinId= localStorage.getItem('sinid');
		const token = localStorage.getItem('_token');
		var name,description,offer,ExpiryDate,discalmer,address,code,zipcode,placeid,imagelogo,imageurl = '';
		const userDataAction = async () => {
			  const response = await fetch('https://proxy.actv.05media.com/rest/private/sincommunityhubservice/getBusiness/'+sinId, {
					method: 'GET',
					headers: {
					  'Accept': 'application/json',
					  'Authorization':  token,
					  'Content-Type': 'application/json'
					}
				  });
				  const userData = await response.json();
				  const responseCode = await response.ok;
				  if(!responseCode){
				    window.localStorage.removeItem("_token");
					window.location.href = "login.html";
				  }
				  var category = userData.business.category;
				  $('select[name="category"]').first().val(category);
				   $('select[name="selectdel"]').first().val(category);
				  $("#myImg").attr('src',userData.business.image_logo);
				  $("#deloutput").attr('src',userData.business.image_logo);
				  $("#listsearch").val(userData.business.displayName);
				  $("#listsearch1").val(userData.business.displayName);
				  $("#address1").val(userData.business.address);
				   $("#deladdress").val(userData.business.address);
					 userData.coupons.forEach(function(item,index){
						const imageurl = item.image[0].imageUrl;
						const name = item.name;
						const offer =item.offer;
						const description = item.description;
						const cateogry = item.cateogry;
						const ExpiryDate = item.expiryDate;
						const discalmer = item.discalmer;
						const address = item.address;
						const code = item.code;
						const placeid = item.placeid;
						const imagelogo = item.imagelogo;
						const id = item.id;
						const place = item.place;
						const pos = index;
						const priority = item.priority;
						const isPromoted = item.isPromoted;
						const backgroundurl = 'img/blankcoupons/'+category+'.png';
						const zipcode = item.address.substr(-5);
							
							
						
						var ul = document.getElementById("couponsimage");
						var li=document.createElement('li');
						li.innerHTML='<div id="cplframe"><div style="width: 100%; height: 123px; padding:0px; position: absolute; background: rgba(255, 0, 0,0.5); z-index: 2; display:none; text-align:center;" class="highlightclk"><h3 style="color:white; padding: 9px; color: white; margin-top: 11%; margin-left: 62px; border: 1px solid white; width: 61%;">SELECTED</h3></div><img src='+backgroundurl+' style="width: 100%; height: 100%; object-fit: contain;" id="photosearchlist"><div style="width: 54px;height: 40px; position: absolute;left: 13px;top: 17px;" id="logodiv"><img src='+imagelogo+' style="width: 45px;object-fit: cover;" id="photosearchlist1"></div>'+'<div class="namedd"><p id="namedc">'+name+'</p></div><div class="desc"><p id="desccc">'+description+'</p></div><div class="offerdd"><p id="offerdc">'+offer+'</p></div><input type="checkbox" style="width:17px; height:25px; position: absolute; top: 8px; right: 9px; z-index: 1;" id="checkboxclicks" class="checkboxclicks"><div class="rigtimage"><img src='+imageurl+' style="width: 100%; height: 100%; object-fit: cover;"></div></div>';
						ul.appendChild(li);
                						
                						
                					
			function listgetcoupons()

			{
				var DateParts =ExpiryDate.split('/');
				var ExpDate = new Date(DateParts[2],DateParts[0],DateParts[1]); 
				
				var entcname = document.getElementById("entcname");
				entcname.style.visibility = "visible";


				var unslctcoups = document.getElementById("unslctcoups").value;

				getitemlist.push(index);

				console.log(getitemlist);


				for (var h = 0; h < getitemlist.length; h++) {
					var curItem = getitemlist[h];
					var foundCount = 0;
					// search array for item  


					for (var i = 0; i < getitemlist.length; i++) {
						if (getitemlist[i] == getitemlist[h])
							foundCount++;
					}


					if (foundCount > 1) {
						// remove repeated item from new array
						for (var j = 0; j < newArr.length; j++) {
							if (newArr[j] == curItem) {
								newArr.splice(j, 1);
								j = j - 1;

							}


						}

					}

				}
				var str = newArr.toString();
				listthecheckmar = str.split();
				listchecbarray = JSON.parse("[" + listthecheckmar + "]");
				console.log(listchecbarray);

				document.getElementById('entcname1').value = name;
				document.getElementById('entcname').value = name;
				document.getElementById('printdes').value = description;
				document.getElementById('printoffer').value = offer;
				document.getElementById('offer').value = offer;
				document.getElementById('entdesc').value = description;
				document.getElementById('category').value = cateogry;
				document.getElementById('expiraydate').value = ExpDate.getFullYear() +'-'+ (ExpDate.getMonth() < 10 ? '0' + ExpDate.getMonth() : '' + ExpDate.getMonth()) +'-'+ (ExpDate.getDate() < 10 ? '0' + ExpDate.getDate() : '' + ExpDate.getDate());
;
				document.getElementById('expiraydate2').value = ExpiryDate;
				document.getElementById('expiraydate2').style.display = "block";
				document.getElementById('tersconditons').value = discalmer;
				document.getElementById('address1').value = address;
				document.getElementById('qrcode').value = code;
				document.getElementById('zipcode').value = zipcode;
				document.getElementById('editplaceid').value = placeid;
				document.getElementById('myImg').src = imagelogo;
				document.getElementById('output').src = imageurl;

				document.getElementById('imageurl11').value = imageurl;
				document.getElementById('logourl11').value = imagelogo;


				dataobjects = zipcode;
				document.getElementById('backgrondurl').value = backgroundurl;


				var backur = document.getElementById('imagebackground');
				backur.src = backgroundurl;


				var setvalue = document.getElementById('priority').value = priority;
				var setvalue1 = document.getElementById('trfl').value = isPromoted;
				selectedplace_get = place;

				starCountRef1 = firebase.database().ref("/coupons_new/" + index);


				var editshow = document.getElementById('bodysearch1');
				var editshow = document.getElementById('bodysearch1');
				editshow.style.display = "none";

				document.getElementById('dateon').innerHTML = ExpiryDate;

				var datepcoupons = document.getElementById('datepicc');
				datepcoupons.style.display = "block";


				var oncoupons = document.getElementById('dateon');
				oncoupons.style.display = "block";


				var editshow = document.getElementById('output');
				editshow.style.visibility = "visible";

				var coupons_frame = document.getElementById('mainconainercup');
				coupons_frame.style.display = "block";

				var updatebtn = document.getElementById('updatebtn');
				updatebtn.style.display = "inline-block";

				var addnewbtn121 = document.getElementById('addnewbtn121');
				addnewbtn121.style.display = "inline-block";

				var confbtncou = document.getElementById('confim_copons');
				confbtncou.style.display = "none";

				var cancelbtn = document.getElementById('cancelbtn');
				cancelbtn.style.display = "none";


				var deal_frame = document.getElementById('maincondeal');
				deal_frame.style.display = "none";
				//									   

				var myImg2 = document.getElementById('myImg');
				myImg2.style.visibility = "visible";

				var selectlogotext = document.getElementById('selectlogotext');
				selectlogotext.style.display = "none";


				document.getElementById('delete').addEventListener('click', function() {

					console.log(starCountRef1);

					var r = confirm("Are you Sure to delete this Deals");
					if (r == true) {

						starCountRef1.remove()

							.then(function() {

								alert('Data Has been Deleted');

								window.location.href = "creatingcoupons.html";

							})

							.catch(function(error) {
								console.log("Remove failed: " + error.message)
							});

					} else {
						return;
					}


				});

			}

			li.addEventListener('click', listgetcoupons);
			});
					userData.deals.forEach(function(item,index){
					
						const imageurl = item.image[0].imageUrl;
						const name = item.name;
						const offer = item.offer;
						const description = item.description;
						const cateogry = item.cateogry;
						const ExpiryDate = item.expiryDate;
						const discalmer = item.discalmer;
						const address = item.address;
						const code = item.code;
						const zipcode = item.address.substr(-5);
						const placeid = item.placeid;
						const logoimage = item.imagelogo;
						const imagelink = item.imagelink;
						const place = item.place;
						const colorbackgroudurl = 'img/dealsimagebg/'+cateogry+'.png';
						const pos = index;
						
				
                					
                		var ul = document.getElementById("couponsimagedeal");
                		var li=document.createElement('li');
                        li.innerHTML='<div class="dealsleft" style="padding: 10px; width: 80%; left: 0px; height: 193px; border-radius: 21px; position: relative; margin-top: 10px;" id="bgcolorfordeal"><input type="checkbox" style="width:22px; height:25px; position: absolute; top: 17px; right: -2px; z-index: 1;" class="dealsCheckboxes"><div style="width: 100%; height: 100%; padding:0px; position: absolute; background: rgba(255, 0, 0,0.5); display:none; border-radius: 11px; z-index: 2; text-align:center;" class="highlightclk11"><h3 style="color:white; padding: 9px; color: white; margin-top: 39%; margin-left: 49px; border: 1px solid white; width: 61%;">SELECTED</h3></div><img src='+colorbackgroudurl+' style="width: 100%; height: 100%; object-fit: cover; position: absolute; border-radius: 11px;" id="photosearchlist"><div style="width: 100%; height: 180px; position: absolute; top: 16px; margin-left: 4px;"><img src='+imageurl+' style="object-fit:cover; border-radius: 16px;" id="imagerightdeals"></div><div class="bottomdiv"><div class="deslnameleft"><p id="dealsnameleft1">'+name+'</p></div></div></div>';
                        ul.appendChild(li);

						li.addEventListener('click',listgetsdeal);

						function listgetsdeal(){
							var listsearch1 = document.getElementById("listsearch1"); 
							listsearch1.style.display="none";
							var DateParts =ExpiryDate.split('/');
							var ExpDate = new Date(DateParts[2],DateParts[0],DateParts[1]); 

							document.getElementById("dlimage").style.display="none";
							
							var unslctcoups1 = document.getElementById("unslctcoups1").value;

							var str = newArr.toString();
							listthecheckmar121 = str.split();
							listchecbarray121 = JSON.parse("[" + listthecheckmar121 + "]");
							console.log(listchecbarray121);	  
							var editshow = document.getElementById('bodysearch1');
							editshow.style.display="none";
						
							document.getElementById('delcomname').value = name;
							document.getElementById('entcname3').value = name;


							document.getElementById('deloffer').value = offer;
							document.getElementById('delofferc').value = offer;
							document.getElementById('delplaceid').value = placeid;
							document.getElementById('deldescription').value = description;
							document.getElementById('deldescriptnc').value = description;
							document.getElementById('trmsdelpreivew').value = cateogry;
							document.getElementById('deldate').value = ExpiryDate;
							document.getElementById('delexpirydate').value = ExpDate.getFullYear() +'-'+ (ExpDate.getMonth() < 10 ? '0' + ExpDate.getMonth() : '' + ExpDate.getMonth()) +'-'+ (ExpDate.getDate() < 10 ? '0' + ExpDate.getDate() : '' + ExpDate.getDate());
							document.getElementById('delcondtions').value = discalmer;
							document.getElementById('deladdress').value = address;
							document.getElementById('delzipcode').value = zipcode;
							document.getElementById('delqrcode').value = code;
							document.getElementById('imagedel').value = imageurl;
							document.getElementById('delimagelink').value = imagelink;
							document.getElementById('imagelogodel').value = logoimage;
							document.getElementById('dellogo').src = logoimage;
							document.getElementById('dlimageoutput').src = imageurl;
							document.getElementById('colorbackgroudurl').value = colorbackgroudurl;
							document.getElementById("dlimageoutput").style.display="block";


							deldataobjects = zipcode;
							console.log(zipcode)

							var deladdbtn =  document.getElementById('deladdbtn');
							deladdbtn.style.visibility="hidden";

							var deladdbtn2 =  document.getElementById('deladdbtn2');
							deladdbtn2.style.display="block";

							var backgroundurlimage =  document.getElementById('backgroundurlimage');
							backgroundurlimage.src=colorbackgroudurl;

							var myCarousel =  document.getElementById('myCarousel');
							myCarousel.style.zIndex="4";

							imageurl.forEach(function(item,index){

							console.log(item);

							var ul = document.getElementById("sliderlist");
							var div = document.createElement('div');
							div.className = "item";
							div.innerHTML = '<div style="width: 489px; height: 332px; background: white;"><img src='+item+' style="width:100%; height:100%;"></div>';
							ul.appendChild(div);

							});

							zipcode.forEach(function(item){
							var option = document.createElement('option');

							var dataconent = Object.keys(item);
							option.value = Object.keys(item);
							option.innerHTML = Object.keys(item);
							delselector.appendChild(option);

							delselector.style.display="block";	
							});

							var dlimageoutput =  document.getElementById('dlimageoutput');
							dlimageoutput.style.zIndex="0";
							var delllogo = document.getElementById('dellogo');
							delllogo.style.visibility="inherit";
							delllogo.style.position="absolute";



							selectedplace_get = place;

							starCountRef1 = firebase.database().ref("/deals_new/"+index);




							var deldateshow=  document.getElementById('deldateshow');
							deldateshow.style.display="block";

							document.getElementById('dateon1').innerHTML = ExpiryDate;
							var datedel=  document.getElementById('dateon1');
							datedel.style.display="block";

							var maincoupons_frame = document.getElementById('mainconainercup');
							maincoupons_frame.style.display="none";



							var deal_frame = document.getElementById('maincondeal');
							deal_frame.style.display="block";

							var deldate = document.getElementById('deldate');
							deldate.style.display="none";





							var dealimage = document.getElementById('dlimageoutput');
							dealimage.style.zIndex="0";

							var deal_frame = document.getElementById('confrm_dealbtn');
							deal_frame.style.display="none";

							var deloutput = document.getElementById('deloutput');
							deloutput.style.visibility="hidden";

							var deal_frame = document.getElementById('update_dealbtn');
							deal_frame.style.display="block";

							var addnewonedel = document.getElementById('addnewonedel');
							addnewonedel.style.display="block";

							var removedel = document.getElementById('removedel');
							removedel.style.display="none";

							var confbtncou = document.getElementById('confim_copons');
							confbtncou.style.display="none";



							document.getElementById('deldelete').addEventListener('click',function (){

							console.log(starCountRef1);


							var r = confirm("Are you Sure to delete this Deals");
							if (r == true) {

							starCountRef1.remove()
							.then(function() {

							alert('Coupons Has Been Deleted');
							window.location.href = "creatingcoupons.html";

							})
							.catch(function(error) {
							console.log("Remove failed: " + error.message)
							}); 

							} else {
							return;
							}
							});   
							}
							});

						  console.log(userData);
		}
		  userDataAction();
		if(!token){
		window.location.href = "login.html";
		}
		var defaultprofilePic="icons/img_avatar.png";
		var UserprofilePicture = localStorage.getItem('userProfilePic');
		if(UserprofilePicture){
		$("#profilePic").attr('src',UserprofilePicture);
		}else{
		$("#profilePic").attr('src',defaultprofilePic);
		}
		
		document.getElementById('calloption').addEventListener('click', function (){
		var block_chsoption = 	document.getElementById('close-chosoptn');
		block_chsoption.style.display="block";
		});
		
		document.getElementById('openDLimagemodal').addEventListener('click', function (){
		var cropmodalclose = document.getElementById('image-deal-web-modal');
		cropmodalclose.style.display="block";
		});
		
		document.getElementById('close-dlimagemodal').addEventListener('click', function (){
		var cropmodalclose = document.getElementById('deal-image-modal');
		cropmodalclose.style.display="none";
		});
	});
	
	</script>
</head>

<body>
	<div id="header">
		 <header>
			<div class="menuIcon" onclick="openMenu(this)">
			   <div class="bar1"></div>
			   <div class="bar2"></div>
			   <div class="bar3"></div>
			</div>
			<img class="logoImage" src="img/logo_mycommunity.png" />
			<img class="searchicon" src="img/ch-list/search-channel-icon.png" />
			<input id="searchInput" placeholder="Search users, group, setting" />
			<div class="rightside">
			   <img  src="img/ch-list/report.png" />
			   <img  src="img/ch-list/issue.png" />
			   <img id="profilePic"/> <a class="logoutuser">Logout</a>
			</div>
			<div id="menuItems" class="display">
			   <div class="menuLinks">
				  <a><i class="fa fa-home"></i> HOME</a>
				  <a>  <i class="material-icons">dashboard</i> DASHBOARD</a>
				  <a><i class="material-icons">feedback</i> ANALYTICS</a>
				  <a class="menuborder"><i class="fa fa-user-circle"></i> ACCOUNTS</a>
				  <a  class="menuborder"><i class="material-icons">settings</i> TOOLS <i class="fa fa-caret-right rightarrow"></i></a>
				  <a  class="menuborder"><i class="material-icons">payment</i> BILLING <i class="fa fa-caret-right rightarrow"></i></a>
				  <a  class="menuborder last"><i class="fa fa-cog"></i>SETTINGS <i class="fa fa-caret-right rightarrow"></i></a>
				  <div class="bottom_links">
					 <a><img class="support"  src="img/ch-list/Support.png" /> SUPPORT</a>
					 <a><i class="material-icons">feedback</i> SEND FEEDBACK</a>
				  </div>
			   </div>
			</div>
		 </header>
		 <div id="Homeheader">
		 <a><img src="img/customer_portal/deal_coupon_tool.png" /> DEALS & COUPONS TOOL</a>
		 <div class="exportDiv">
		 <span><i class="fas fa-file-export" style="transform: rotate(270deg);"></i> Export To </span>
		 <span id="download_btn"><i class="fas fa-download"></i> Download As</span>
		 </div>
		 </div>
	  </div>
	<div class="container-fluid">
        <div class="search">
            <button type="button" class="close">X</button>
            <form>
                <input type="search" placeholder="type Here" />
                <button type="submit" class="btn btn-primary btn-search"> > Search</button>
            </form>
        </div>
    </div>
    <!--Container End-->
    </div>

    <div class="loader" id="loader">

        <img src="img/loader1.gif" style="width: 8%;
    margin-top: 23%;">

    </div>


    <div class="callingtoption" id="deal-image-modal">

        <div class="modal-chooption">
            <div class="closexoptn" id="close-dlimagemodal"><img src="img/Icons/close.png" style="width:52%;"></div>
            <div class="optionbtn">

                <span class="chfrocom"><img src="img/Icons/Upload_From_System.png" style="width: 52%;"><br>Upload from computer</span></span>
                <!--			 <input type="file"  name="image"  id="dlimage" class="hide_file1" accept="image/*" onchange="loadFiledlimage(event)">-->
                <input type="file" name="image" id="dlloclinput" class="hide_file1" accept="image/*" multiple>

            </div>

            <br>

            <div class="optionbtn2" id="openDLimagemodal">
                <span class="chfrocom2"><img src="img/Icons/Search_from_web.png" style="width: 50%;"><br><span style="font-size:16px;">Search from web</span>
            </div>


            <div class="bottomsearchdiv">

                <span style="position: absolute;left: 22px;top: 9px;font-size: 19px;">Uploaded images</span><span style="position: absolute;right: 14px;top: 10px;font-size: 19px;">Maximum 5 images can be added</span>

                <button type="button" id="removeselted">Remove</button>
                <button type="button" id="cropimagewebslct">Crop image</button>
                <button type="button" id="getimgloclinmodule">Crop Image</button>
                <button type="button" id="delitemdeals">Remove</button>
                <span style="position: absolute;top: 38%;right: 43%;">No Image Available</span>
                <ul id="webimageslist"></ul>
                <ul id="imagelistlocal"></ul>
                <div style="width: 100%;height: 1px;background: #020202;position: absolute;bottom: 21%;"></div>
                <button type="button" id="sbtdeals4">Submit</button>
                <button type="button" id="localsbtdeals4">Submit local</button>
            </div>
        </div>
    </div>

    <!--	This is modal for deals logo 555-->

    <div class="callingtoption" id="deal-logo-modal">

        <div class="modal-chooption">
            <div class="closexoptn" id="close-delogomodal"><img src="img/Icons/close.png" style="width:52%;"></div>
            <div class="optionbtn">

                <span class="chfrocom"><img src="img/Icons/Upload_From_System.png" style="width: 52%;"><br>Upload from computer</span>
                <input type="file" name="image" id="dealogo" class="hide_file1" accept="image/*" onchange="loadFiledlogo(event)">

            </div>
            <br>

            <div class="optionbtn2" id="openDLlogomodal">
                <span class="chfrocom2"><img src="img/Icons/Search_from_web.png" style="width: 50%;"><br><span style="font-size:16px;">Search from web </span></span>
            </div>

            <div class="bottomsearchdiv">

                <span style="position: absolute;left: 22px;top: 9px;font-size: 19px;">Uploaded images</span><span style="position: absolute;right: 14px;top: 10px;font-size: 19px;">Maximum 5 images can be added</span>

                <span style="position: absolute;top: 38%;right: 43%;">No Image Available</span>
                <div style="width: 100%;height: 1px;background: #020202;position: absolute;bottom: 23%;"></div>
                <button type="button" id="submitBtn">Submit</button>

            </div>
        </div>
    </div>
    <div class="callingtoption" id="close-chosoptn">

        <div class="modal-chooption">
            <div class="closexoptn" id="closemodalchose"><img src="img/Icons/close.png" style="width:52%;"></div>
            <div class="optionbtn">

                <span class="chfrocom"> <img src="img/Icons/Upload_From_System.png" style="width: 52%;"></i><br>Upload from computer</span>
                <input type="file" name="image" id="filelogo" accept="image/*" onchange="loadFile1(event)" class="hide_file1" multiple>


            </div><br>

            <div class="optionbtn2" id="openwebsearch">

                <span class="chfrocom2"><img src="img/Icons/Search_from_web.png" style="width: 41%;"><br>Choose from web</span>
            </div>
            <!--			dudo-->
            <div class="bottomsearchdiv">

                <span style="position: absolute;
    left: 22px;
    top: 9px;
    font-size: 19px;">Uploaded images</span><span style="position: absolute;
    right: 14px;
    top: 10px;
    font-size: 19px;">Maximum 5 images can be added</span>

                <span style="position: absolute;
    top: 38%;
    right: 43%;">No Image Available</span>


                <div style="width: 100%;
    height: 1px;
    background: #020202;
    position: absolute;
    bottom: 21%;"></div>

                <button type="button" style="width: 20%;
    height: 36px;
    background: #23abe0;
    color: white;
    border: none;
    position: absolute;
    right: 38%;
    bottom: 10px;
    border-radius: 30px;">Submit</button>

            </div>


        </div>

    </div>



    <div class="callingtoption" id="close-image-coupons">

        <div class="modal-chooption">
            <div class="closexoptn" id="close-imagecoupons"><img src="img/Icons/close.png" style="width:52%;"></div>
            <div class="optionbtn">

                <span class="chfrocom"><img src="img/Icons/Upload_From_System.png" style="width: 52%;"><br>Upload from computer</span>
                <input type="file" name="image" id="files" class="hide_file1" accept="image/*" onchange="loadFile(event)" multiple>

            </div><br>

            <div class="optionbtn2" id="openmodalwebsearch">
                <span class="chfrocom2"><img src="img/Icons/Search_from_web.png" style="width: 50%;"><br>Search from web</span>
            </div>

            <div class="bottomsearchdiv">

                <span style="position: absolute;
    left: 22px;
    top: 9px;
    font-size: 19px;">Uploaded images</span><span style="position: absolute;
    right: 14px;
    top: 10px;
    font-size: 19px;">Maximum 5 images can be added</span>

                <span style="position: absolute;
    top: 38%;
    right: 43%;">No Image Available</span>


                <div style="width: 100%;
    height: 1px;
    background: #020202;
    position: absolute;
    bottom: 21%;"></div>

                <button type="button" style="width: 20%;
    height: 36px;
    background: #23abe0;
    color: white;
    border: none;
    position: absolute;
    right: 38%;
    bottom: 10px;
    border-radius: 30px;">Submit</button>

            </div>


        </div>

    </div>




    <!--	End here This is modal for deals logo 555-->


    <!--This is web modal being here-->
    <div class="callingtoption" id="closewebsearch">

        <div class="modal-chooption" style="background: white;">
            <div class="closexoptn1_web" id="closewebmodal" style="color: black;"><img src="img/Icons/close.png" style="width: 54%;"></div>


            <div class="input_searh_web">

                <input type="text" style="width: 62%;
    border: 1px solid;
    padding-left: 14px;
    border-radius: 18px;
    height: 39px;" placeholder="Search logo image here" id="searhdata">

                <button type="button" id="imagesearch" style="    width: 14%;
    height: 39px;
    background: none;
    /* background: #00ceff; */
    border: none;
    color: #0e0d0d;
    margin-left: -11%;
    position: absolute;
    font-size: 17px;
}"><i class="fa fa-search" aria-hidden="true"></i></button>

            </div>

            <div class="results_imagesearch">

                <ul id="dynamic-list1"></ul>

            </div>



        </div>

    </div>
    <!--this is web modal close here-->



    <!--This is web modal being here-->
    <div class="callingtoption" id="closewebsearch2">

        <div class="modal-chooption" style="background: white;">
            <div class="closexoptn1_web" id="closewebmodal2" style="color: black;"><img src="img/Icons/close.png" style="width: 54%;"></div>
            <div class="input_searh_web">
                <input type="text" placeholder="Search image here" id="searhdata2">
                <button type="button" id="imagesearch2"><i class="fa fa-search" aria-hidden="true"></i></button>
            </div>
            <div class="results_imagesearch">
                <ul id="dynamic-list22"></ul>
            </div>
        </div>
    </div>
    <!--this is web modal close here-->
    <!--This is web modal being here-->
    <div class="callingtoption" id="logo-deal-web-modal">
        <div class="modal-chooption" style="background: white;">
            <div class="closexoptn1_web" id="close-websearchmodal" style="color: black;"><img src="img/Icons/close.png" style="width: 54%;"></div>
            <div class="input_searh_web">
                <input type="text" placeholder="Search image here" id="dllogosearch">
                <button type="button" id="dl-logo-submit"><i class="fa fa-search" aria-hidden="true"></i></button>
                <button type="button" id="logodelcalls">Get Image</button>
            </div>
            <div class="results_imagesearch">
                <ul id="dynic-dllogolist"></ul>
            </div>
        </div>
    </div>
    <!--this is web modal close here-->



    <!--This is web image modal being here-->
    <div class="callingtoption" id="image-deal-web-modal">

        <div class="modal-chooption" style="background: white;">
            <div class="closexoptn1_web" id="close-websearchimage" style="color: black"><img src="img/Icons/close.png" style="width: 54%;"></div>


            <div class="input_searh_web">

                <input type="text" style="width: 65%;
    border-radius: 19px;
    border: 1px solid;
    padding-left: 20px;
    height: 39px;" placeholder="Search image here" id="dlimagesearch">

                <button type="button" id="dl-image-submit" style="width: 8%;
    height: 39px;
    background: none;
    /* background: #00ceff; */
    border: none;
    margin-left: -69px;
    position: absolute;
    color: #0c0b0b;
    font-size: 17px;"><i class="fa fa-search" aria-hidden="true"></i></button>

                <button type="button" id="Getimageweb" style="width: 152px;
    background: red;
    border: none;
    height: 36px;
    position: absolute;
    /* left: 10px; */
    right: 79px;
    color: white;
    font-size: 16px;
    border-radius: 18px;
}">Get Image</button>

            </div>

            <div class="results_imagesearch">

                <ul id="dynic-dlimagelist"></ul>

            </div>



        </div>

    </div>
    <!--this is web modal close here-->

    <div class="cropmodal" id="cropmodal">

        <p style="color: white;
    float: right;
    /* margin-right: 29%; */
    font-size: 50px;
    z-index: 9;
    left: 65%;
    margin-top: 5%;
    position: absolute;
    /* position: absolute;" id="closecropmodal"><img src="img/Icons/close.png" style="width: 52%;"></p>

        <div class="cropmodalcontent">

            <div class="buttonsright">

                <button id="cropbutton" type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: auto;
    margin-top: 0%;
    color: #000000;
    border-radius: 30px;">Apply Crop</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 2%;
    margin-top: 4%;
    border-radius: 30px;
    color: #000000;" id="resetmodal1">Reset</button>



            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>

                <div class="leftsupport"></div>
                <div id="views" style="float: left;"></div>

            </div>

            <div style="width: 100%;
    position: absolute;
    height: 12%;
    bottom: 18px;
    padding-top: 19px;
    background: white;">

                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 26px;
  
    background: none;
    border: none;
    border-radius: 18px;
    background: #1d959a;
    color: #d8d4d4;" id="submitcropp">Submit</button>
            </div>

        </div>


    </div>

    <div class="cropmodal" id="cropmodalcallingimage">

        <p style="  color: white;
    float: right;
    font-size: 50px;" id="closecropmodalbb">X</p>

        <div class="cropmodalcontent">

            <div class="imagecroppart" style="width: 100%;">
                <br>
                <br><br>
                <br>


                <div class="gallery"></div>

            </div>


        </div>


    </div>


    <!--	//This modal to crop web image url-->

    <div class="cropmodal" id="cropmodalweburldeals2">

        <p style="color: white;
    float: right;
    /* margin-right: 29%; */
    font-size: 50px;
    z-index: 9;
    left: 65%;
    margin-top: 5%;
    position: absolute;" id="closecropmodalddssaa"><img src="img/Icons/close.png" style="width: 52%;"></p>

        <div class="cropmodalcontent">



            <div class="buttonsright">

                <button id="cropbutton2" type="button" style="    width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: -29%;
    /* margin-top: 33%; */
    color: #000000;
    border-radius: 30px;">Apply Cropee</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 11px;
    margin-top: 5%;
    border-radius: 30px;
    color: #000000;
}">Reset</button>


            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>

                <div class="leftsupport"></div>
                <div id="viewsdeals2" style="float: left;"></div>


            </div>


            <div style="width: 100%;
    position: absolute;
    height: 12%;
    bottom: 0px;
    padding-top: 19px;
    background: white;">


                <button type="button" style="width: 30%;
    height: 47px;
    font-size: 26px;
    /* background: #1289e0; */
    /* border: 1px solid; */
    background: none;
    border: none;
    /* margin-top: 99%; */
    border-radius: 18px;
    background: #d67208;
    color: #d8d4d4;" id="submitcropp2">Submit</button>

            </div>

        </div>


    </div>


    <!--	End here-->


    <div class="cropmodal" id="cropmodal2">

        <div class="cropmodalcontent">



            <div class="buttonsright">

                <button id="cropbuttondelweb4" type="button" style="    width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: -29%;
    /* margin-top: 33%; */
    color: #000000;
    border-radius: 30px;">Apply Crop</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 11px;
    margin-top: 5%;
    border-radius: 30px;
    color: #000000;
">Reset</button>

                <p style="color: white;
    float: right;
    /* margin-right: 29%; */
    font-size: 50px;
    z-index: 9;
    left: 86%;
    margin-top: -10%;
    position: absolute;" id="closecopmodldeal4"><img src="img/Icons/close.png" style="width: 52%;"></p>


            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>

                <div class="leftsupport"></div>
                <!--				<div id="views2" style="float: left;"></div>-->
                <div id="viewswebdeal4" style="float: left;"></div>
                <!--				<img src="" style="width: 100%;" id="jcrop_target">-->

            </div>


            <div style="width: 100%;
    position: absolute;
    height: 12%;
    bottom: 0px;
    padding-top: 19px;
    background: white;">


                <button type="button" style="width: 30%;
    height: 47px;
    font-size: 26px;
    /* background: #1289e0; */
    /* border: 1px solid; */
    background: none;
    border: none;
    /* margin-top: 99%; */
    border-radius: 18px;
    background: #d67208;
    color: #d8d4d4;" id="submitcroppdelsweb4">Submit</button>

            </div>
        </div>
    </div>


    <div class="cropmodal" id="cropmodal3">

        <div class="cropmodalcontent">



            <div class="buttonsright">

                <button id="applycropping3" type="button" style="    width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: -29%;
    /* margin-top: 33%; */
    color: #000000;
    border-radius: 30px;">Apply Crop</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 11px;
    margin-top: 5%;
    border-radius: 30px;
    color: #000000;
">Reset</button>

                <p style="color: white;
    float: right;
    /* margin-right: 29%; */
    font-size: 50px;
    z-index: 9;
    left: 83%;
    margin-top: -12%;
    position: absolute;" id="closecropmodal3"><img src="img/Icons/close.png" style="width: 52%;"></p>


            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>


                <div class="leftsupport"></div>
                <div id="views3" style="float: left;"></div>

            </div>


            <div style="width: 100%;
    position: absolute;
    height: 15%;
    bottom: 0px;
    padding-top: 19px;
    background: white;">


                <button type="button" style="width: 30%;
    height: 47px;
    font-size: 26px;
    /* background: #1289e0; */
    /* border: 1px solid; */
    background: none;
    border: none;
    /* margin-top: 99%; */
    border-radius: 18px;
    background: #d67208;
    color: #d8d4d4;" id="sbmtlcl4dealright">Submit</button>

            </div>
        </div>
    </div>


    <!--	</div>-->


    <div class="cropmodal" id="cropmodal4">

        <div class="cropmodalcontent">



            <div class="buttonsright">

                <button id="cropbutton4" type="button" style="    width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: -29%;
    /* margin-top: 33%; */
    color: #000000;
    border-radius: 30px;">Apply Crop</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 11px;
    margin-top: 5%;
    border-radius: 30px;
    color: #000000;
">Reset</button>

                <p style="color: white;
    float: right;
    font-size: 50px;
    z-index: 9;
    left: 85%;
    margin-top: -12%;
    position: absolute;" id="closecropmodal4"><img src="img/Icons/close.png" style="width: 52%;"></p>


            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>

                <div class="leftsupport"></div>
                <div id="views4" style="float: left;"></div>

            </div>


            <div style="width: 100%;
    position: absolute;
    height: 15%;
    bottom: 0px;
    padding-top: 19px;
    background: white;">


                <button type="button" style="width: 30%;
    height: 47px;
    font-size: 26px;
    /* background: #1289e0; */
    /* border: 1px solid; */
    background: none;
    border: none;
    /* margin-top: 99%; */
    border-radius: 18px;
    background: #d67208;
    color: #d8d4d4;" id="submitcropp4">Submit</button>

            </div>
        </div>
    </div>

    <div class="cropmodal" id="cropmodallogodeals">

        <div class="cropmodalcontent">



            <div class="buttonsright">

                <button id="cropbuttonlogodeals" type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: -29%;
    /* margin-top: 33%; */
    color: #000000;
    border-radius: 30px;">Apply Crop</button>


                <button type="button" style="width: 30%;
    height: 40px;
    font-size: 20px;
    /* background: #1289e0; */
    border: 1px solid;
    background: none;
    margin-left: 11px;
    margin-top: 5%;
    border-radius: 30px;
    color: #000000;
">Reset</button>

                <p style="color: white;
    float: right;
    /* margin-right: 29%; */
    font-size: 50px;
    z-index: 9;
        left: 84%;
    margin-top: -13%;
    position: absolute;" id="closecropmodallogodeals"><img src="img/Icons/close.png" style="width: 52%;"></p>


            </div>

            <div class="imagecroppart">
                <br>
                <br><br>
                <br>

                <div class="leftsupport"></div>
                <div id="viewslogodeals" style="float: left;"></div>

            </div>


            <div style="width: 100%;
    position: absolute;
    height: 16%;
    bottom: 0px;
    padding-top: 19px;
    background: white;">


                <button type="button" style="width: 30%;
    height: 47px;
    font-size: 26px;
    /* background: #1289e0; */
    /* border: 1px solid; */
    background: none;
    border: none;
    /* margin-top: 99%; */
    border-radius: 18px;
    background: #d67208;
    color: #d8d4d4;" id="submitcropplogodeals">Submit</button>

            </div>
        </div>
    </div>


    <script>
        document.getElementById('openDLlogomodal').addEventListener('click', function (){
        			
        			
        			var cropmodalclose = document.getElementById('logo-deal-web-modal');
        			
        			cropmodalclose.style.display="block";
        			
        		});
        		
        				
        			document.getElementById('closecopmodldeal4').addEventListener('click', function (){
        			
        			var cropmodal2 = document.getElementById('cropmodal2');
        			
        			cropmodal2.style.display="none";
        			
        		});	
        		
        		
        //		document.getElementById('submitdeals4').addEventListener('click', function (){
        //			
        //			var cropmodal2 = document.getElementById('cropmodal2');
        //			
        //			cropmodal2.style.display="none";
        //			
        //		});
        //		
        				
        		
        		document.getElementById('closecropmodalddssaa').addEventListener('click', function (){
        			
        			var cropmodal2 = document.getElementById('cropmodal2');
        			
        			cropmodal2.style.display="none";
        			
        		});
        		
        		
        		document.getElementById('closecropmodal3').addEventListener('click', function (){
        			
        			var cropmodal3 = document.getElementById('cropmodal3');
        			
        			cropmodal3.style.display="none";
        			
        		});
        		
        		
        		document.getElementById('closecropmodalbb').addEventListener('click', function (){
        			
        			var cropmodalcallingimage = document.getElementById('cropmodalcallingimage');
        			
        			cropmodalcallingimage.style.display="none";
        			
        		});
        		
        		
        	
        		
        		
        		document.getElementById('close-websearchmodal').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('logo-deal-web-modal');
        			
        			cropmodalclose.style.display="none";
        			
        		});
        		
        		
        //		This is opening modla web button click 
        		
        		document.getElementById('openmodalwebsearch').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('closewebsearch2');
        			
        			cropmodalclose.style.display="block";
        			
        		});
        		
        //		This is opening modla web button click 
        		
        		document.getElementById('openmodalwebsearch').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('closewebsearch2');
        			
        			cropmodalclose.style.display="block";
        			
        		});
        		
        		document.getElementById('closewebmodal2').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('closewebsearch2');
        			
        			cropmodalclose.style.display="none";
        			
        			var cropmodalclose = document.getElementById('close-image-coupons');
        			
        			cropmodalclose.style.display="none";
        			
        			
        		});
        		
        		
        		document.getElementById('close-websearchimage').addEventListener('click', function (){
        			
        			var dealimagwweb = document.getElementById('image-deal-web-modal');
        			
        			dealimagwweb.style.display="none";
        			
        			var cropmodalclose = document.getElementById('close-image-coupons');
        			
        			cropmodalclose.style.display="none";
        			
        			
        		});
        		
        		//		This is opening modla web button click 
        		
        		
        	
        		document.getElementById('closecropmodal').addEventListener('click', function (){
        
        			var cropmodal2 = document.getElementById('cropmodal');
        
        			cropmodal2.style.display="none";
        			
        		});
        
        		
        		
        		
        		document.getElementById('closemodalchose').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('close-chosoptn');
        			
        			cropmodalclose.style.display="none";
        			
        		});
        		
        		document.getElementById('openwebsearch').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('closewebsearch');
        			
        			cropmodalclose.style.display="block";
        			
        		});
        		
        		document.getElementById('closewebmodal').addEventListener('click', function (){
        			
        			var cropmodalclose = document.getElementById('closewebsearch');
        			
        			cropmodalclose.style.display="none";
        			
        			
        			var cropmodalclose = document.getElementById('close-chosoptn');
        			
        			cropmodalclose.style.display="none";
        			
        			var cropmodalclose = document.getElementById('close-image-coupons');
        			
        			cropmodalclose.style.display="none";
        			
        		});
    </script>
    <!--croppp modal-->



    <div class="container-fluid">

        <div class="row">


            <div class="col-sm-3" style="box-shadow: 0px 3px 6px #00000029;">
			<div class="searchDiv">
			   <button class="cupons" onclick="mycupons()" id="cubtcolor">
				<img src="img/Icons/cuponslight.png" id="cuposnimage" onClick="mycupons()">
				</button>
				<button class="deals" onclick="mydeal()" id="btncolor">
					<img id="dealsimage" src="img/Icons/dealsoff.png">
				</button>
                <input type="text" placeholder="Search for coupons" id="searchtextfild" onKeyUp="myFunction()">
                <input type="text" placeholder="Search for deals " id="searchdeals" onKeyUp="myFunction2()">
			</div>
			<div class="selectall">
			<input type="checkbox" name="select" value="" onchange="selectAllChangeCoupons()" id="coupon_selectall">
			<input type="checkbox" name="select" value="" onchange="selectAllChangeDeals()" id="deals_selectall" style="display:none;">
			<label for="select"> Select all</label>
			<div style="float:right"><i class="fa fa-filter"></i>Sort & filters
			<i class="material-icons">delete</i>Delete</div>
			</div>

                <!--				<ul id="dynamic-list1"></ul>-->
                <div class="couns_search">

					<div class="downloadedImg"></div>
                    <ul id="couponsimage"></ul>
                    <ul id="cupsearch"></ul>
                    <ul id="couponsimagedeal"></ul>
                </div>
            </div>
            <div class="col-sm-9">
                <div class="bodysearch" id="bodysearch1">
                    <img src="img/logo_community.png" style="width: 40%;margin-top: 24%;">
                    <datalist id="searchresults"></datalist>
                </div>
                <div class="maincontainer" id="mainconainercup">
                    <div class="cupons_intract">
					<div class="links">
						<span class="createlink">
						<a href="creatingcoupons.html"><button id="createnewcouponsbtn22"> <i class="fa fa-plus-circle" aria-hidden="true"></i> Create New Coupons</button></a>
						</span>
						<span class="ResetDel">
						<button id="restbtnop" onclick="ResetCoupons()"><i class="material-icons">refresh</i> Reset</button>
						<button  id="delete"><i class="material-icons">delete_forever</i>Delete</button>
						</span>
					</div>
                        <div class="cupons_intact1" id="couponsimage">
                            <img  src="img/blankcoupons/Food_&_Drinks.png" style="width: 100%; height: 100%;" id="imagebackground">
                            <div class="cupons_intact2">
                                <div class="addlogo">
                                    <img id="myImg" src="compman.gif">
                                    <div class="inconclick"  style="display:none">
									<i class="fas fa-image"></i>
                                        <p style="text-align: center;margin-top: 13px;" id="selectlogotext">Upload Your logo here</p>
                                        <div class="showoption" id="calloption"></div>
                                        <img id="output1" src="">
                                    </div>
                                </div>
                                <!--//onChange='inform()'-->

                                <div class="comname">
                                    <input type="text" placeholder="Company name here*" class="inpt" id="entcname" value="">
                                    <input type="text" class="input-search-new" id="listsearch" placeholder="Company Name Here" list="searchresults" autocomplete="off">
                                </div>


                                <div class="offdescript">
                                    <textarea cols="5" rows="4" class="offerdes" placeholder="Offer description here*" id="printdes"></textarea>
                                </div>
                                <div class="offer" id="catrogires">
                                    <input placeholder="Your offer here *" class="inpt_offer" style=" width: 92%; padding-left: 42px; height: 121px; padding-left: 10px; border: none;margin-left: -43px;margin-top: 10px; background: none; color: white; resize:vertical"
                                        id="printoffer"/>
                                </div>
                                <div class="adding_image">
                                    <div class="imagescoupons" id="images_coupons">
									<i class="fas fa-image imageupload"></i>
									<span class="textdealimage">Upload image here</span></span>
								<img id="output" src="">
                                    </div>
                                    <p style="font-size: 12px;margin-top: 90px; display: none; float: left; margin-left: 12%;" id="datepicc">This coupon will expire on <span id="dateon" style="margin-left: 4px; float: right;"></span></p>
                                    <input type="text" placeholder="Choose expiry date" id="expiraydate2" onchange="handlercup(event);">
                                </div>
                            </div>
                        </div>
                    </div>
                    <br>
					<div class="details">
                    <h2 style="color:black; margin-top: 100px; display: inline-block;padding-bottom: 11px;">Coupons details <span id="modalcalling"><img src="img/location.png" style="width: 50px; visibility: hidden;"></span></h2>
					<div class="buttons_divelement">

					<button type="button" class="btn_proceed bntconf" onClick="submitdata()" id="confim_copons">SAVE</button>

					<button type="button" class="" onClick="" id="cancelbtn">CANCEL</button>

					<button type="button" class="btn_proceed" onClick="updatesubmit()" style="display: none;" id="updatebtn">UPDATE</button>
					<button type="button" class="btn_proceed2" style="display: none;" id="addnewbtn121">Add New One</button>
					<button type="button" class="btn_proceed2" onClick="addnewsubmit()" style="display: none;" id="addnewbtn">Add New One</button>
					</div>
                   
                    <div class="formdeal" style="display:none">

                        <input type="text" placeholder="Company name here *" class="" id="entcname1" value="" style="visibility: hidden;">
                        <input type="text" placeholder="Your offer here *" class="" id="offer" value="" style="visibility: hidden;">
                        <input type="text" placeholder="Your description here *" class="" id="entdesc" value="" style="visibility: hidden;">
                    </div>


				<div class="formdeal">
					<span><label for="address1">Business Address/Location <b class="star">*</b></label>
					<input type="text" placeholder="address *" class="input_form" id="address1" name="address1" value=""></span>
					<span><label for="address1">Select Category <b class="star">*</b></label>
					<input type="text" placeholder="Category *" id="category" value="" style="position: absolute; visibility: hidden;">

					<div class="selectdivedccate">

					<select class="select_catego" name="category" id="select" onChange="myNewFunction(this);">
						<option>Select category</option>
						<option value="Food & Drinks">Food & Drinks</option>
						<option value="Services">Services</option>	
						<option value="Shoppings">Shoppings</option>				
						<option value="Things to Do">Things to Do</option>
						<option value="Professional Services">Professional Services</option>				
						<option value="Health">Health</option>	
						<option value="Education">Education</option>
						<option value="Place of WorkShip">Place of WorkShip</option>
						<option value="Government Facilities">Government Facilities</option>
						<input type="text" placeholder="Category *"  id="backgrondurl" value="" style="position: absolute; visibility: hidden;">	
					</select>
					</div></span>
					
					<span><label for="qrcode">Coupon Code/Link  <b class="star">*</b></label>
					<input type="text" placeholder="Add coupons code here *" class="input_form" style="margin-top: 12px;" id="qrcode" value=""></span>
					<span><label for="area">Select Area <b class="star">*</b></label>
					<input type="text" name="area" placeholder="Select nearby area" class="input_form" style="margin-top: 12px;" id="qrcode" value=""></span>
					
					<span><label for="expiraydate">Expiration Date <b class="star">*</b></label>
					<div class="selectdiveddatedcoupons">
						<input type="date" class="" placeholder="Expiry date" name="expiraydate" id="expiraydate" onchange="handler(event);" value="">
					</div></span>
					
					<span><label for="expiraydate">Promotion Type <b class="star">*</b></label>
					<div class="selectdivedsreachtype">
					<select id="searchtype" onchange="showDiv(this)">
					<option>Search Type</option>
					<option value="2">Single / Multiple</option>
					<option value="4">Global</option>
					<option value="5">Range</option>
					</select>
					</div>
					</span>

					<span><label for="">Zipcode <b class="star">*</b></label>
					<input type="text" placeholder="Enter a single zipcode" class="input_form" id="zipcode" required value="">
					<input type="text" placeholder="Single / multiple zipcode" class="input_form" style=" display: none;" id="multiple" onkeypress="document.getElementById('multiple').style.border='none';">
					<input type="submit" value="Add muliple zipcode" onClick="addingobjects()" id="addbtn" style=" display: none;" >
					<input type="submit" value="See added zipcode" onClick="" id="seezipadded">
					<p id="zipaddednotification">The <span id="datacount"></span> zipcode has been added.</p></span>
					
					<span><label for="priority">Priority value  <b class="star">*</b></label>
					<div class="selectdivedpriorities">
					<select id="priority">selectapiimage
						<option>Priority Values</option>
						<option value="0">0</option>
						<option value="1">1</option>
						<option value="2">2</option>
						<option value="3">3</option>
						<option value="4">4</option>
						<option value="5">5</option>
						<option value="6">6</option>
						<option value="7">7</option>
						<option value="8">8</option>
						<option value="9">9</option>
					</select>
					</div></span>
					
					<select id="selector"></select>
					<input type="text" class="input_form" style="margin-left: 65%; margin-top: 12px; display: none; position: absolute;" id="globle" required value="00000">
					<input type="text" class="input_form" placeholder="Enter Range of zipcode" style="margin-left: 65%; margin-top: 12px; position: absolute; display: none;" id="range" required>
					<input type="text" placeholder=" *" class="input_form placeid_field" style="margin-left: 31px; margin-top: 12px; display: none;" id="editplaceid" value="">
					
					<button id="addnewplacezipcode"> <p style="margin: 0;display: inline;">Select Location</p> <i class="fa fa-map-marker" aria-hidden="true"></i></button>
					<span><label for="tersconditons" class="labelterms">Terms & Conditions <b class="star">*</b></label>
					<textarea  placeholder="Terms & condition here*" id="tersconditons"></textarea>
					</span>
					
					<input type="text" placeholder="Coupons's image link *" class="" style="margin-left: 31px; margin-top: 12px; visibility: hidden;" id="imagelink" value="">
					<input type="text" id="imageurl11" value="" style="visibility: hidden;">
					<input type="text" id="logourl11" value="" style="visibility: hidden;">
					<input type="text" id="unslctcoups" value="sharukh" style="position: absolute; visibility: hidden;">
					<input type="text" id="unslctcoups1" value="sharukh" style="position: absolute; visibility: hidden; ">
					<input type="text" id="selectapiimage" value="" style="position: absolute; visibility:hidden;">
					<input type="text" id="selectapiimage22" value="">
					<input type="text" id="cropgetimagecode" value="" >
					<input type="text" id="cropgetimagecode1" value="">
					<input type="text" id="oferrdescdublicate" value="" style="position: absolute; margin-top: -15px; width: 19%;height: 34px; visibility:hidden;">
					<div class="selectdivedpromecoupons" style="display:none;">
						<select id="trfl">
						<option>PROMOTED SELECT</option>
						<option value="9">TRUE</option>
						<option value="10">FALSE</option>
						</select>
					</div>
				</div>
				</div>
            </div>

	<script>
				document.getElementById('backgrondurl').value = "https://firebasestorage.googleapis.com/v0/b/mycommunity-a734d.appspot.com/o/couponsblnk%2FFood_%26_Drinks.png?alt=media&token=e2cb1649-fc0f-4f66-a8e0-907376d9f040";

				function myNewFunction(sel) {
			
				var valuebgselect = sel.options[sel.selectedIndex].value;
				var valuetextselect = sel.options[sel.selectedIndex].text;

				document.getElementById('category').value = valuetextselect;

				document.getElementById('backgrondurl').value = 'img/dealsimagebg/'+valuebgselect+'.png';

				var imagebackgrond = document.getElementById('imagebackground');
				imagebackgrond.src='img/dealsimagebg/'+valuebgselect+'.png';
				}

				document.getElementById('images_coupons').addEventListener('click',function(){

				var imagecoupons_coupons = document.getElementById('close-image-coupons');
				imagecoupons_coupons.style.display="block";


				document.getElementById('close-imagecoupons').addEventListener('click',function(){

				var imagecoupons_couponsclose = document.getElementById('close-image-coupons');
				imagecoupons_couponsclose.style.display="none";

				});

				document.getElementById('openmodalwebsearch').addEventListener('click',function(){

				var imagecoupons_couponsclose = document.getElementById('closewebsearch2');
				imagecoupons_couponsclose.style.display="block";

				});

				$(function() {
				$( "#expiraydate" ).datepicker({ minDate: 0});
				});
				
				
				$(function() {
				$( "#delexpirydate" ).datepicker({ minDate: 0});
				});

				$(function() {
				$( "#expiraydate2" ).datepicker({ minDate: 0});
				});

				$(function() {
				$( "#deldate" ).datepicker({ minDate: 0});
				});

				function handlerdel(e){

				document.getElementById('dateon1').innerHTML = e.target.value;
				document.getElementById('delexpirydate').value = e.target.value;

				var dateon1 = document.getElementById('dateon1');
				dateon1.style.display="block";

				var detetoo = document.getElementById('deldateshow');
				detetoo.style.display="block";

				var datapicq = document.getElementById('deldate');
				datapicq.style.display="none";
				//				
				}	

				//					
				function handlercup(e){

				document.getElementById('dateon').innerHTML = e.target.value;
				document.getElementById('expiraydate').value = e.target.value;

				var detetoo = document.getElementById('datepicc');
				detetoo.style.display="block";
				//				
				}	

				function handler(e){

				document.getElementById('dateon').innerHTML = e.target.value;
				document.getElementById('oferrdescdublicate').value = e.target.value;


				var detetoo = document.getElementById('datepicc');
				detetoo.style.display="block";
				}	

				function delhandler(e){

				document.getElementById('dateon1').innerHTML = e.target.value;
				//					
				var detetoo = document.getElementById('dateon1');
				detetoo.style.display="block";
				//					
				var datapicq = document.getElementById('deldateshow');
				datapicq.style.display="block";

				var deldate = document.getElementById('deldate');
				deldate.style.display="none";



				}															  
				});

					$('#priority').change(function(){

						var bb = document.getElementById('priority').value;
						
						document.getElementById('oferrdescdublicate').value = bb;
						
					});
                    					
                    function showDiv(select){
						if(select.value==2){

						document.getElementById('multiple').value ="";						
						document.getElementById('multiple').style.display = "block";
						document.getElementById('addbtn').style.display = "block";
						document.getElementById('clearbtn').style.display = "block";


						}
						if(select.value==4){
						document.getElementById('multiple').value ="00000";
						document.getElementById('multiple').style.display = "block";
						document.getElementById('addbtn').style.display = "block";
						document.getElementById('clearbtn').style.display = "block";

						}
						if(select.value==5){
						document.getElementById('range').style.display = "block";
						}
						else{
						document.getElementById('range').style.display = "none";
						}
                    }
                </script>

                <!--Main Container Deal-->
                <div class="maincontainerdeal" id="maincondeal">

                    <div class="leftpos">
						<div class="links">
						<span class="createlink">
						<a href="creatingcoupons.html"><button id="createnewcouponsdeals">  <i class="fa fa-plus-circle" aria-hidden="true"></i> Create New Deals</button></a>
						</span>
						<span class="ResetDel">
						<button id="restbtnop" onclick="ResetDeal()"><i class="material-icons">refresh</i> Reset</button>
						<button  id="delete"><i class="material-icons">delete_forever</i>Delete</button>
						</span>
					</div>
                        <div class="dealimage" id="delbackgroundurl">
                            <div class="topnamelogo">


                                <div class="deallogo">
								    <i class="fas fa-image"></i>
                                    <p class="logotext">Upload Your logo here</p>
                                    </span>

                                    <input type="file" name="image" id="file1" accept="image/*" onchange="loadFile3(event)" class="hide_file">

                                    <img id="output3" src="">
                                    <div class="dellogo" id="mv-del-logo">
                                        <img src="" id="deloutput">

                                    </div>
                                    <img id="dellogo" src="compman.gif">
                                </div>
                                <div class="decomname">
                                    <input type="text" class="input-search-new secondsearchbar" id="listsearch1" placeholder="Your Company name here" list="searchresults" autocomplete="off">
                                    <input type="text" placeholder="company name here*" class="deconame" id="entcname3" value="">
                                </div>

                            </div>
                            <div class="dealimageupload">
                                <br>
                                <br>
                                <br>
                                <br>
                                <br>
								<i class="fas fa-image imageupload"></i><br>
                                <span style="font-size: 26px;text-align: center;margin-left: 16px;color: dimgrey;">Upload image Here</span>

                                <input type="file" name="image" id="dlimage" accept="image/*" onchange="loadFile3(event)" class="hide_file">

                                <img id="dlimageoutput" src="" >
                            </div>

                            <div class="dealdetail">
                                <div class="deoffer">
                                    <input type="text" placeholder="Your offer here*" class="decoffer" id="delofferc">
                                </div>
                                <div class="determs">
                                    <input type="text" id="trmsdelpreivew" placeholder="Deal category here" style="background: none;border: none; padding-left: 13px;">
                                </div>
                                <div class="deoffdes">
                                    <textarea rows="3" placeholder="Offer description here" class="deoffdesinput" id="deldescriptnc"></textarea>
                                </div>
                                <div class="categoriestextnode"><span>Category here</span></div>
                                <div class="dedate">
                                    <input type="text" placeholder="Deal expiration Date here" class="ddateinpt" id="deldate" onchange="handlerdel(event);">
                                    <p style="font-size: 11px; display: none; margin-top: 0px;" id="deldateshow">Deal will expire on <span id="dateon1" style="margin-left: 4px; display: none;"></span></p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="rightpos">
						   <span class="dealsdetail">Deal Details</span>
						   <div class="actionbutton"><button type="button" class="dbt" onClick="delsubmit()" id="confrm_dealbtn">Save</button>
                           <button type="button" class="dbt" style="background: #E9E9E9;color: black;">Cancel</button></div>
							<div class="drightform" id="drightform1">
							<span><label for="area">Business Address/Location <b class="star">*</b></label>
                             <input type="text" placeholder="Address " class="drightinput input_form" id="deladdress"></span>
							 <span><label for="address1">Select Category <b class="star">*</b></label>
                            <input type="text" placeholder="Select category" class="" id="delcate" style="display:none; position: absolute;">
                            <div class="selectdivedcategory formargin">

							<select class="drightinputh2" id="selectdel" name="selectdel" onChange="myNewFunction1(this);">
							<option value="blue">Select category</option>
							<option value="Food and Drinks">Food and Drinks</option>
							<option value="Healths">Healths</option>
							<option value="professnals services">professnals services</option>
							<option value="Services">Services</option>
							<option value="Shoppings">Shoppings</option>
							<option value="Gym">Gym</option>
							<input type="text" placeholder="Category *"  id="backgrondurl" value="" style="position: absolute; visibility: hidden;">	 
							</select>
                            </div></span>
							<span><label for="area">Coupon Code/Link <b class="star">*</b></label>
							<input type="text" placeholder="Add deal code or links here" class="drightinput" id="delqrcode" onkeyup="m5()"></span>
							<span><label for="area">Select Area <b class="star">*</b></label>
							<input type="text" name="area" placeholder="Select nearby area" class="input_form" id="qrcode" value=""></span>
							<span><label for="area">Expiration Date <b class="star">*</b></label>
							<div class="selectdivedated formargin">
                                <input type="date" class="drightinputh2" placeholder="Expiry date" id="delexpirydate" onchange="delhandler(event);" onkeyup="m3()">
                            </div></span>
							<span><label for="expiraydate">Promotion Type <b class="star">*</b></label>
							<div class="selectdived">
                            <select id="delsearchtype" onchange="delshowDiv(this)">	
							<option selected>Search Type</option>
							  <option value="2">Single / Multiple</option>
							  <option value="4">Global</option>
							  <option value="5">Range</option>
							</select>
                            </div></span>
							<span><label for="">Zipcode <b class="star">*</b></label>
								<input type="text" placeholder="Enter a single zipcode" class="input_form" id="zipcode" required value="">
								<input type="text" placeholder="Single / multiple zipcode" class="input_form" style=" display: none;" id="multiple" onkeypress="document.getElementById('multiple').style.border='none';">
								<input type="submit" value="Add muliple zipcode" onClick="addingobjects()" id="addbtn" style=" display: none;" >
								<input type="submit" value="See added zipcode" onClick="" id="seezipadded">
								<p id="zipaddednotification">The <span id="datacount"></span> zipcode has been added.</p></span>
								
							<span><label for="priority">Priority value  <b class="star">*</b></label>
                            <div class="selectdivedpriotry formargin" id="promdealsdopdown1">
							<select id="delpriority">
								<option>Priority Values</option>
								<option value="0">0</option>
								<option value="1">1</option>
								<option value="2">2</option>
								<option value="3">3</option>
								<option value="4">4</option>
								<option value="5">5</option>
								<option value="6">6</option>

								<option value="7">7</option>
								<option value="8">8</option>
								<option value="9">9</option>
							</select>
                            </div></span>
                            <button type="button" class="dbt" onClick="delupdate()" id="update_dealbtn" style="display: none;">Update</button>
                            <button type="button" class="dbt" onClick="addnewonedel()" id="addnewonedel" style="display: none;">Add New One</button>
                            
                         
                         
                            <input type="text" placeholder="company Name Here*" class="" id="delcomname" value="" style="display:none;">
                            <input type="text" placeholder="Your offer here*" class="" id="deloffer" onkeyup="m1()" style="display:none;">
                            
                            <input type="text" placeholder="Single / multiple zipcode" class="drightinput multizicode" style=" display: none;" id="delmultiple" onkeypress="document.getElementById('addbtn').style.border='2px solid white';">


                            <input type="submit" value="Add muliple zipcode" onClick="deladdingobjects2()" id="deladdbtn2">
                            <button id="addnewplacezipcode"> <p style="margin: 0;display: inline;">Select Location</p> <i class="fa fa-map-marker" aria-hidden="true"></i></button>
                            
                            <textarea placeholder="Offer desciption Here*" class="" rows="4" style="display: none;" id="deldescription" onkeyup="m2()"></textarea>
                            <input type="text" placeholder="Zipcode" class="" id="delzipcode" onkeyup="m4()" style="display: none; position: absolute;">
                            <span><label for="priority">Terms & Conditions  <b class="star">*</b></label><textarea placeholder="Term & conditions here*" class="drighttextarea" rows="4" id="delcondtions"></textarea></span>
                            <input type="text" placeholder="deal image link" class="" id="delimagelink" onkeyup="m6()">
							<select id="delselector"></select>
                            <input type="text" placeholder="placeid" class="" id="delplaceid" style="visibility: hidden; position: absolute;">
                            <input type="text" placeholder="imagelogodel" id="imagelogodel" style="visibility: hidden; position: absolute;">
                            <input type="text" placeholder="imagedel" id="imagedel" style="visibility: hidden; position: absolute;">
                            <input type="text" id="rimgeurlmpapi" style="position: absolute; visibility: hidden;">
                            <input type="text" id="rimgeurlmpapi1" style="position: absolute; visibility: hidden;">
                            <input type="text" id="webrightsearchlink" style="position: absolute; margin-top: 30px; visibility: hidden;">
                            <input type="text" id="colorbackgroudurl" style="position: absolute; visibility: hidden;">
                            <input type="text" id="cropgetimagecode3" style="position: absolute; margin-top: 20px; visibility: hidden;">
                            <input type="text" id="cropgetimagecode4" style="position: absolute; margin-top: 10px; visibility: hidden;">
                        </div>
                    </div>
                    <!--End Deal and coupns modal 500-->
                    <!--Being coupns qr code -->
                    <!--Bing deals qr code -->
                    <div class="dealaddQRCODE" id="dealscodeQR" style="display: none;">
                        <div class="addcupancode" id="dealcodeQR">
                            <p style="text-align: center;font-size: 27px;padding: 24px;">Add coupons code here</p>
                        </div>
                        <h2 align="center" style="color: white;">AND</h2>
                        <div class="addlink">
                            <p style="font-size: 24px;padding: 8px;padding-left: 22px;">Pest Link Here</p>
                        </div>

                        <button type="button" class="btn_proceed">CONFIRM</button>
                    </div>
                    <!--Ends deals qr code -->
                </div>
                <!--Main Container Deal End--
				</div><!--Main Container-->
            </div>
        </div>

        <!--End Here The page-->

        <script>
				
				function delshowDiv(select){



				if(select.value==2){
				document.getElementById('delmultiple').value ="";
				document.getElementById('delmultiple').style.display = "block";
				document.getElementById('deladdbtn').style.display = "block";


				}

				if(select.value==4){
				document.getElementById('delmultiple').value ="00000";
				document.getElementById('delmultiple').style.display = "block";
				document.getElementById('deladdbtn').style.display = "block";
				document.getElementById('delclearbtn').style.display = "block";
				}
			}


            function myNewFunction1(sel) {            			
					var valuebgselect = sel.options[sel.selectedIndex].value;
					var valuetextselect = sel.options[sel.selectedIndex].text;

					console.log(valuetextselect);

					document.getElementById('colorbackgroudurl').value = valuebgselect;



					var backgroundurlimage = document.getElementById('backgroundurlimage');
					 backgroundurlimage.src=valuebgselect;

            }
        </script>
        </head>
        <body>
            <!-- The Modal -->
            <div id="myModal" class="modal">

                <!-- Modal content -->
                <div class="modal-content" style="border-radius: 39px;">

                    <div id="floating-panel">
                        <input id="address" type="textbox" placeholder="Search place by name or address..." class="inputsearch" value="">
                        <!--      <input id="submit" type="button" value="Search" class="btnsearch">-->
                        <button type="button" style="width: 55px;
    font-size: 20px;
    margin-left: -62px;
    background: none;
    border: none;" id="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
                        <input type="button" value="Select place" class="btnsearch" id="getlist" style="width: 16%;
    position: absolute;
    border-radius: 19px;
    top: 43px;
    margin-left: 15px;">
                        <input type="button" value="Select Place New" class="btnsearch" id="getlistnew" style="display: none; float: right;
        top: 43px; width: 14%; margin-left:77%;
    position: absolute;border-radius: 21px;">
                    </div>


                    <input type="text" id="valueofdatago" style="width: 7%;
    visibility: hidden;">
                    <input type="submit" id="databtngo" value="Select" style="width: 7%;
    background: #0dbaff;
    font-size: 14px;
    color: white;
    border: none; position: absolute;
    margin-top: -4px; visibility: hidden;">
                    <input type="submit" id="databtngoee" value="Unselect" style="width: 7%;
    background: #0dbaff;
    font-size: 14px;
    color: white;
    border: none; position: absolute;
    margin-top: -4px; margin-left: 110px; visibility: hidden;">
                    <p style="font-size: 30px;
    color: black;
    /* margin-right: 17px; */
    margin-left: 93%;
    position: absolute;
    margin-top: -12px;
    float: right;" align="right" id="xclosemodal"><span class="glyphicon glyphicon-remove-circle"></span></p>

                    <div class="content-list" id="content-list-list">



                        <ul id="dynamic-list"></ul>
                    </div>

                    <div id="panel"></div>
                    <div id="map"></div>
                    <!--	  <p id="test">test</p>-->

                </div>
            </div>




            <!-- The Modal -->
            <div id="zipshowadded" class="modal" style="padding: 3%;">
                <p style="font-size: 30px;
    color: white;
    margin-right: 17px;
    margin-top: -41px;" align="right" id="closemodalzipshowadded"><span class="glyphicon glyphicon-remove-circle"></span></p>
                <!-- Modal content -->
                <div class="modal-content" style="width: 68%; height: 598px;">

                    <h3 style="margin-left: 10%;">All Zipcode</h3>

                    <select id="zipshowcode" style="width: 28%;
    box-shadow: 2px 2px black;
    margin-left: 118px;" onChange="mychgeplace(this)">
	 
	  </select>


                    <span style="font-size: 25px;
    float: right;
    margin-right: 24px;"><span id="modulecountzip"></span> ZipCode Has Been Added<br> 4 Places with 110095</span>


                    <p style="font-size: 16px;
    float: right;
    margin-top: 43%;">Select any of zipcdeo from dropdown you can update any of zipcode and chose zipcode places as well.</p>



                </div>
            </div>




            <script>
                document.getElementById('databtngo').addEventListener('click',function (){
                		
                		
                		var  valueofdatago = document.getElementById('valueofdatago').value="bbll";
                		    
                		
                		var databtngoee = document.getElementById('databtngoee');
                		              databtngoee.style.border="0px solid black";
                		   databtngoee.style.boxShadow="box-shadow: 0px 0px 0px black";
                		
                		      var databtngo = document.getElementById('databtngo');
                		              databtngo.style.border="2px solid black";
                		   databtngo.style.boxShadow="box-shadow: -1px 0px 3px black";
                	
                		      
                		 
                	});
                	
                	
                	document.getElementById('databtngoee').addEventListener('click',function (){
                		
                		
                		var  valueofdatago = document.getElementById('valueofdatago').value="";
                		
                		
                	      var databtngo = document.getElementById('databtngo');
                		              databtngo.style.border="0px solid black";
                		   databtngo.style.boxShadow="box-shadow: 0px 0px 0px black";
                	
                		
                		var databtngoee = document.getElementById('databtngoee');
                		              databtngoee.style.border="2px solid black";
                		   databtngoee.style.boxShadow="box-shadow: -1px 0px 3px black";
                		
                		
                		
                		
                		 
                	});
                	
                	
                	document.getElementById('seezipadded').addEventListener('click',function (){
                		
                		
                		var  zipshowadded = document.getElementById('zipshowadded');
                		     zipshowadded.style.display="block";
                		
                	
                	});
                	
                	
                	
                	
                	document.getElementById('closemodalzipshowadded').addEventListener('click',function (){
                		
                		
                		var  zipshowadded = document.getElementById('zipshowadded');
                		     zipshowadded.style.display="none";
                		
                	
                	});
                	
                	
                	
                $('#printoffer').on('keypress', function(e) {
                    var that = $(this),
                        textLength = that.val().length;
                    
                    if(textLength > 28) {
                        that.css('font-size', '28px');
                	}
                //    } else if(textLength > 20) {
                //        that.css('font-size', '10px');
                //    } else if(textLength > 60) {
                //        that.css('font-size', '15px');
                //    }
                });
                	
                	
                	
                	
                	
                	document.getElementById('mv-del-logo').addEventListener('click',function (){
                		
                		
                		var  mvmodalview = document.getElementById('deal-logo-modal');
                		     mvmodalview.style.display="block";
                		
                	
                	});
                	
                	
                	document.getElementById('close-delogomodal').addEventListener('click',function (){
                		
                		var  clsemodal = document.getElementById('deal-logo-modal');
                		     clsemodal.style.display="none";
                		
                	});
                	
                	
                	
                	
                //	var addscreen = document.getElementById('address');
                //console.log(inputBoxoffer);	
                //
                //addscreen.onkeyup = function(){
                //		console.log('okokok');
                //
                //    document.getElementById('address').value = this.value;
                //}
                	
                	
                	
                //	// Get the text field that we're going to track
                //let field = document.getElementById("listsearch");
                // 
                //// See if we have an autosave value
                //// (this will only happen if the page is accidentally refreshed)
                //if (sessionStorage.getItem("autosave")) {
                //  // Restore the contents of the text field
                //  field.value = sessionStorage.getItem("autosave");
                //}
                // 
                //// Listen for changes in the text field
                //field.addEventListener("change", function() {
                //  // And save the results into the session storage object
                //  sessionStorage.setItem("autosave", field.value);
                //});
                	
                	
                	
                	
                	
                	
                //	This is calling search image api being here
                	
                	document.getElementById('imagesearch').addEventListener('click',getsearch);
                		
                	var selectedlink;
                
                		function getsearch()
                			{
                				
                			list = document.getElementById("dynamic-list1");
                			
                			for (var i=document.getElementById("dynamic-list1").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("dynamic-list1").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                				
                			var searchkeyword =  document.getElementById('searhdata').value;
                //				
                    for (var i = 1; i < 100; i+=10)
                    {
                				
                					
                		const pos = i;
                //				var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&num=10&start=1",function(response){
                				
                				var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&start="+pos+"&imgSize=large",function(response){
                //					
                					
                					var obj = JSON.parse(response);
                //					 console.log(obj);
                //					console.log(obj);
                								
                //					console.log(response); 
                					
                								for (var i = 0; i < obj.items.length; i++) {
                				
                                                      const item = obj.items[i];
                									
                									const datalink = item.link;
                									
                //									console.log(datalink);
                //      console.log(item);
                									
                									var ul = document.getElementById("dynamic-list1");
                		  var li=document.createElement('li');
                        li.innerHTML='<img src='+item.link+' style="float:left;  width: 180px; margin-top: 10px; height: 126px; object-fit: cover; margin-left: 3%;" id="photosearchlistwebsearch">';
                        ul.appendChild(li);
                								
                									
                									li.addEventListener('click',searchwebimage);
                									
                									
                									function searchwebimage()
                									{
                										
                										console.log(datalink);
                										
                										selectedlink = datalink;
                										
                										document.getElementById('myImg').src = selectedlink;
                										document.getElementById('oferrdescdublicate').value = selectedlink;
                										
                										var myimagelogo = document.getElementById('myImg');
                										    myimagelogo.style.visibility="visible";
                										
                										var selectlogotext = document.getElementById('selectlogotext');
                										    selectlogotext.style.display="none";
                										
                										
                										
                										var closemodalimagesearch = document.getElementById('closewebsearch');
                										    closemodalimagesearch.style.display="none";
                										
                										var closemodalimagesearch = document.getElementById('close-chosoptn');
                										    closemodalimagesearch.style.display="none";
                								
                									};
                								}
                				});
                		
                	}
                			
                				
                	}

                //	this is end of search image logo uploding
                			
                	
                	//	This is calling search image api being here
                	
                	document.getElementById('imagesearch2').addEventListener('click',imagecoupons);
                	
                		
                	var selectedlink2;
                
                		function imagecoupons()
                			{
                				
                				
                			list = document.getElementById("dynamic-list22");
                			
                			for (var i=document.getElementById("dynamic-list22").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("dynamic-list22").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                
                				for (var i = 1; i < 100; i+=10)
                    {
                				
                					
                		const pos = i;
                				
                			var searchkeyword =  document.getElementById('searhdata2').value;
                							var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&start="+pos+"&imgSize=large",function(response){
                					
                					
                					
                //					console.log(response);
                					
                					var obj = JSON.parse(response);
                					
                					console.log(obj);
                								
                								for (var i = 0; i < obj.items.length; i++) {
                				
                                                      const item = obj.items[i];
                									
                									const datalink = item.link;
                      
                									
                									var ul = document.getElementById("dynamic-list22");
                		  var li=document.createElement('li');
                        li.innerHTML='<img src='+item.link+' style="float:left;  width: 180px; margin-top: 10px; height: 126px; object-fit: cover; margin-left: 3%;" id="photosearchlistwebsearch">';
                        ul.appendChild(li);
                								
                									
                									li.addEventListener('click',searchwebimage2);
                									
                									
                									function searchwebimage2()
                									{
                										
                										console.log(datalink);
                										
                										selectedlink2 = datalink;
                										
                										document.getElementById('output').src = selectedlink2;
                										
                										document.getElementById('oferrdescdublicate').value = selectedlink2;
                										
                										
                										var closemodalimagesearch = document.getElementById('closewebsearch2');
                										    closemodalimagesearch.style.display="none";
                										
                										var closemodalimagesearch = document.getElementById('close-image-coupons');
                										    closemodalimagesearch.style.display="none";
                										
                										var carediticon = document.getElementById('cmraeditlogo');
                										    carediticon.style.visibility="visible";
                										
                										var output_image_cpupons = document.getElementById('output');
                										    output_image_cpupons.style.visibility="visible";
                										
                									
                									};
                										
                								}
                				});
                	}
                	}
                			
                	
                
                	
                	
                //	this is end of search image logo uploding
                			
                	
                	
                	//	This is calling search image api being here
                	
                	document.getElementById('dl-logo-submit').addEventListener('click',logoDLwebsearch);
                	
                		
                	var selectedlink3;
                
                		function logoDLwebsearch()
                			{
                				
                				
                			list = document.getElementById("dynic-dllogolist");
                			
                			for (var i=document.getElementById("dynic-dllogolist").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("dynic-dllogolist").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                				
                			var searchkeyword =  document.getElementById('dllogosearch').value;
                				
                					for (var i = 1; i < 100; i+=10)
                    {			
                		const pos = i;
                				
                				
                				var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&num=10&start="+pos+"&imgSize=large",function(response){
                					
                					
                					
                //					console.log(response);
                					
                					var obj = JSON.parse(response);
                					
                					console.log(obj);
                								
                								for (var i = 0; i < obj.items.length; i++) {
                				
                                                      const item = obj.items[i];
                									
                									const datalink = item.link;
                      
                									
                									var ul = document.getElementById("dynic-dllogolist");
                		  var li=document.createElement('li');
                        li.innerHTML='<div style="width: 156px; height: 97px; float:left; margin-left:25px; margin-top:10px;"><img src='+item.link+' style="float:left; width: 156px; margin-top: 10px; height: 97px; object-fit: cover; margin-left: 3%; position: relative;" id="photosearchlist"><div style="width: 156px; height: 97px; background:#2b24248c; margin-top: 10px; position: relative; margin-left: 6px; z-index: 2;"><input type="checkbox" style="position: absolute;right: 10px;"></div></div>';
                        ul.appendChild(li);
                								
                									
                									li.addEventListener('click',searchwebimage2);
                									
                //									nassru
                									function searchwebimage2()
                									{
                										
                										console.log(datalink);
                										
                //										selectedlink3 = datalink;
                										
                										console.log(datalink);
                										
                //										imgurldellogo = datalink;
                										
                										arrayweblinkposionlogo.push(datalink);
                										
                										
                											var newArrweblogo = arrayweblinkposionlogo;
                	
                
                	for(var h = 0; h < arrayweblinkposionlogo.length; h++) {
                    var curItem = arrayweblinkposionlogo[h];
                    var foundCount = 0;
                    // search array for item  
                									   
                	
                    for(var i = 0; i < arrayweblinkposionlogo.length; i++) {
                        if (arrayweblinkposionlogo[i] == arrayweblinkposionlogo[h])
                            foundCount++;
                    }
                	
                	
                    if(foundCount > 1) {
                        // remove repeated item from new array
                        for(var j = 0; j < newArrweb.length; j++) {
                            if(newArrweb[j] == curItem) {                
                                newArrweb.splice(j, 1);
                                j = j - 1;
                					
                            }
                			
                			  
                        }  
                		
                    }
                		
                }	
                			var str = newArrweb.toString();
                 listthecheckmarwebsearchlogo = str.split();
                  listchecbarraywebsearchlogo = JSON.parse("[" + listthecheckmarwebsearchlogo + "]");
                
                										
                									console.log(arrayweblinkposionlogo);
                										
                									
                									};
                										
                								}
                				});
                	}
                			}
                	
                
                
                
                	
                	document.getElementById('dl-image-submit').addEventListener('click',imagewebsearchapi);
                	
                	
                	 var selectedlink4;
                	
                	
                	var listthecheckmarwebsearch;
                	var listchecbarraywebsearch;
                	var arrayweblink;
                	    arrayweblink = [];	
                		var newArrweb = arrayweblink;
                	
                	
                	
                	var selectedimage;
                	    selectedimage = [];
                	
                		var removeitemmod;
                	        removeitemmod = [];
                	
                	var imageurlwebtocrop;
                	
                	var imgurldellogo;
                	
                	
                	
                	
                	//calling this funciton to append the orlist list on modal
                	function webimagecalling()
                		{
                			
                			 if (arrayweblink.length == 1)
                				 {
                					 var imagelistlocal = document.getElementById("imagelistlocal"); 
                											       imagelistlocal.style.marginLeft="19%";
                				 }
                			 if (arrayweblink.length == 2)
                				 {
                					 var imagelistlocal = document.getElementById("imagelistlocal"); 
                											       imagelistlocal.style.marginLeft="37%";
                				 }
                			
                			 if (arrayweblink.length == 3)
                				 {
                					 var imagelistlocal = document.getElementById("imagelistlocal"); 
                											       imagelistlocal.style.marginLeft="55%";
                				 }
                			
                			
                			 if (arrayweblink.length == 4)
                				 {
                					 var imagelistlocal = document.getElementById("imagelistlocal"); 
                											       imagelistlocal.style.marginLeft="74%";
                				 }
                			
                			 if (arrayweblink.length <= 5)
                         {
                			 
                			 
                			 
                        list = document.getElementById("webimageslist");
                //			
                			for (var i=document.getElementById("webimageslist").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("webimageslist").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                				
                		arrayweblink.forEach(function(item,index){
                			
                			const imageurl = item;
                			
                			var ul = document.getElementById("webimageslist");
                		  var li = document.createElement('li');
                			
                			
                		li.innerHTML='<div style="width: 127px; height: 97px; float:left; margin-left:20px; margin-top:10px;"><img src='+imageurl+' style="float:left; width: 127px; margin-top: 10px; height: 97px; object-fit: cover; margin-left: 3%; position: relative;" id="photosearchlist"><div style="width: 127px; height: 97px; background:#2b24248c; margin-top: 10px; position: relative; margin-left: 6px; z-index: 2;"><input type="checkbox" style="position: absolute;right: 10px;"></div></div>';
                		ul.appendChild(li);	
                			
                //        li.innerHTML='<div style="width: 75%; margin-left: -18px;"><div style="width:30px; height:30px; background:red; position: relative; float:left;left: 41px;"></div><img src='+imageurl+' style="width: 18%; float: left; padding: 4px; border: 1px solid black;" id="photosearchlist2"></div>';
                //        ul.appendChild(li);
                					
                			
                			li.addEventListener('click',function (){
                				
                				selectedimage.push(index);
                				console.log(selectedimage);
                				
                				imageurlwebtocrop = item;
                				
                				var buttonremove = document.getElementById('removeselted');
                				    buttonremove.style.display="block";
                				
                				var cropimagewebslct = document.getElementById('cropimagewebslct');
                				    cropimagewebslct.style.display="block";
                				
                				var getimgloclinmodule = document.getElementById('getimgloclinmodule');
                				    getimgloclinmodule.style.display="none";
                				
                				var delitemdeals = document.getElementById('delitemdeals');
                				    delitemdeals.style.display="none";
                				
                				
                				
                					
                			});
                			
                		});
                			 var modal= document.getElementById("image-deal-web-modal");
                		     modal.style.display="none";
                         }
                         else
                         {
                            alert("Maxmium 5 can be selected");
                			 return;
                         }
                			
                			
                			
                		}
                	
                	
                	
                	
                	//Removing selected image on web modal
                	
                	document.getElementById('removeselted').addEventListener('click',function(){
                				
                		
                var i = arrayweblink.length;
                while (i--) {
                	for( var k = 0; k < selectedimage.length; k++){
                    if (i == selectedimage[k]) {
                        arrayweblink.splice(i, 1);
                    }
                	}
                }
                		
                		webimagecalling();
                		imagewebsearchapi();
                		
                console.log(arrayweblink);
                		selectedimage = [];
                		
                	});
                	
                	//sawej
                	document.getElementById('delitemdeals').addEventListener('click',function(){
                		
                		console.log(removeitemmod);
                	
                var i = arraylistfile.length;
                while (i--) {
                	for( var k = 0; k < removeitemmod.length; k++){
                    if (i == removeitemmod[k]) {
                        arraylistfile.splice(i, 1);
                    }
                	}
                }
                		refeshingarray();
                		removeitemmod = [];
                		
                	});
                	
                	
                	document.getElementById('sbtdeals4').addEventListener('click',function(){
                		
                //		console.log(arrayweblink);
                		
                			var myCarousel = document.getElementById('myCarousel');
                				myCarousel.style.display="block";
                		
                		myCarousel.style.zIndex="3";
                	    dlgetmodal.style.cssText = "width: 10%; height: 13%; position: absolute; z-index: 3; right: -6px;";
                		var editiconsdeals = document.getElementById('editiconsdeals');
                             editiconsdeals.style.width="100%";
                		
                		
                		arrayweblink.forEach(function(item,index){
                										  
                				
                			list = document.getElementById("sliderlist");
                //			
                			for (var i=document.getElementById("sliderlist").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("sliderlist").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                					console.log('remove'+i);
                
                				}
                			
                			//sam
                		  var ul = document.getElementById("sliderlist");
                		  var div = document.createElement('div');
                				div.className = "item";
                			    div.innerHTML = '<div style="width: 489px; height: 332px; background: white;"><img src='+item+' style="width:100%; height:100%;"></div>';
                        ul.appendChild(div);
                										  	   
                									   });
                
                		
                		
                		                                 document.getElementById('dlimageoutput').src = selectedlink4;
                //										
                										 document.getElementById('webrightsearchlink').value = selectedlink4;
                								 
                										
                										
                										var closemodalimagesearch = document.getElementById('image-deal-web-modal');
                										    closemodalimagesearch.style.display="none";
                										
                										var closemodalimagesearch = document.getElementById('deal-image-modal');
                										    closemodalimagesearch.style.display="none";
                										
                //									
                										var output_image_cpupons = document.getElementById('dlimageoutput');
                										    output_image_cpupons.style.zIndex="2";
                		
                		
                	});
                	
                	document.getElementById('localsbtdeals4').addEventListener('click',function(){
                		
                			
                		
                		dealimagelocalbbvines = "kkk"
                		
                			var myCarousel = document.getElementById('myCarousel');
                				myCarousel.style.display="block";
                		
                		myCarousel.style.zIndex="3";
                	    dlgetmodal.style.cssText = "width: 10%; height: 13%; position: absolute; z-index: 3; right: -6px;";
                	    dlgetmodal.style.cssText = "width: 10%; height: 13%; position: absolute; z-index: 3; right: -6px;";
                		var editiconsdeals = document.getElementById('editiconsdeals');
                             editiconsdeals.style.width="100%";
                		
                		console.log(arraylistfile);
                		arraylistfile.forEach(function(item,index){
                								  	
                			   if (item) 
                			 {
                				 
                     reader = new FileReader();
                    canvas = null;
                    reader.onload = function(e) {
                      image = new Image();
                		console.log(e.target.result);
                //      image.onload = validateImage;
                      image.src = e.target.result;
                		
                		 var ul = document.getElementById("sliderlist");
                		  var div = document.createElement('div');
                				div.className = "item";
                			   div.innerHTML = '<div style="width: 489px; height: 332px; background: white;"><img src='+e.target.result+' style="width:100%; height:100%;"></div>';
                        ul.appendChild(div);	
                    }	
                   reader.readAsDataURL(item);
                	  console.log(reader);			  
                				 
                  }
                						
                	
                										  	   
                									   });
                
                		
                		
                //		                                 document.getElementById('dlimageoutput').src = selectedlink4;
                //										
                										 document.getElementById('webrightsearchlink').value = selectedlink4;
                								 		
                										
                										var closemodalimagesearch = document.getElementById('image-deal-web-modal');
                										    closemodalimagesearch.style.display="none";
                										
                										var closemodalimagesearch = document.getElementById('deal-image-modal');
                										    closemodalimagesearch.style.display="none";
                										
                //									
                										var output_image_cpupons = document.getElementById('dlimageoutput');
                										    output_image_cpupons.style.zIndex="2";
                		
                		
                	});
                	
                	//Get image from web search image google.
                	document.getElementById('Getimageweb').addEventListener('click',function(){
                			
                		
                		//calling this funciton to append the orlist list on modal
                		webimagecalling();
                		
                		var sbtdeals4 = document.getElementById('sbtdeals4');
                			sbtdeals4.style.display="block";
                		
                		
                //	document.getElementById('localsbtdeals4').style.display="block";
                		
                //		document.getElementById('sbtdeals4').style.display="block";
                		
                		
                		
                		
                	});
                	
                	
                	
                	
                	
                	
                	function imagewebsearchapi()
                			{
                				
                				
                						
                			list = document.getElementById("dynic-dlimagelist");
                			
                			for (var i=document.getElementById("dynic-dlimagelist").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("dynic-dlimagelist").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                				
                				
                				
                			var searchkeyword =  document.getElementById('dlimagesearch').value;
                				
                					for (var i = 1; i < 100; i+=10)
                    {			
                		const pos = i;
                					
                				var values = httpGetAsync("https://www.googleapis.com/customsearch/v1?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&cx=010919822463553969394:ngczdhj2s08&q="+searchkeyword+"&searchType=image&num=10&start="+pos+"&imgSize=large",function(response){
                					
                //					console.log(response);
                					
                					var obj = JSON.parse(response);
                					
                					console.log(obj);
                								
                								for (var i = 0; i < obj.items.length; i++) {
                				
                                                      const item = obj.items[i];
                									
                									const datalink = item.link;
                      
                									const possion = [i];
                									
                									var ul = document.getElementById("dynic-dlimagelist");
                		  var li=document.createElement('li');
                									
                									
                									
                        li.innerHTML='<div style="width: 156px; height: 97px; float:left; margin-left:25px; margin-top:10px;"><img src='+item.link+' style="float:left; width: 156px; margin-top: 10px; height: 97px; object-fit: cover; margin-left: 3%; position: relative;" id="photosearchlist"><div style="width: 156px; height: 97px; background:#2b24248c; margin-top: 10px; position: relative; margin-left: 6px; z-index: 2;"><input type="checkbox" style="position: absolute;right: 10px;"></div></div>';
                        ul.appendChild(li);
                								
                									
                									li.addEventListener('click',searchwebimage2);
                									
                									function searchwebimage2()
                									{
                										
                	  //deepak
                										console.log(datalink);
                										
                										selectedlink4 = datalink;
                										
                										arrayweblink.push(selectedlink4);
                										
                										console.log(arrayweblink);
                							
                										console.log(possion);
                												
                //										arrayweblinkposion.push(possion);
                										
                										
                										
                	for(var h = 0; h < arrayweblink.length; h++) {
                    var curItem = arrayweblink[h];
                    var foundCount = 0;
                    // search array for item  
                									   
                	
                    for(var i = 0; i < arrayweblink.length; i++) {
                        if (arrayweblink[i] == arrayweblink[h])
                            foundCount++;
                    }
                	
                	
                    if(foundCount > 1) {
                        // remove repeated item from new array
                        for(var j = 0; j < newArrweb.length; j++) {
                            if(newArrweb[j] == curItem) {                
                                newArrweb.splice(j, 1);
                                j = j - 1;
                					
                            }
                			
                			  
                        }  
                		
                    }
                		
                }	
                			var str = newArrweb.toString();
                 listthecheckmarwebsearch = str.split();
                  listchecbarraywebsearch = JSON.parse("[" + listthecheckmarwebsearch + "]");
                
                										
                						
                										
                									};
                									
                										
                								}
                				});
                	}
                			}
                	
                
                	
                	
                	
      
     
                			
                			function httpGetAsync(theUrl, callback)
                {
                    var xmlHttp = new XMLHttpRequest();
                    xmlHttp.onreadystatechange = function() { 
                        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                            callback(xmlHttp.responseText);
                    }
                    xmlHttp.open("GET", theUrl, true); // true for asynchronous 
                    xmlHttp.send(null);
                }

                	
                document.getElementById("xclosemodal").addEventListener("click", function(){
                  
                	document.getElementById("listsearch").value='';
                	
                });
             	
                var inputBoxoffer = document.getElementById('printoffer');
                
                inputBoxoffer.onkeyup = function(){
                		console.log('okokok');
                
                    document.getElementById('offer').value = this.value;
                	document.getElementById('oferrdescdublicate').value = this.value;
                	
                }
                             
                var delcnamec = document.getElementById('delcomname');
                
                delcnamec.onkeyup = function(){
                
                    document.getElementById('entcname3').value = this.value;
                }
                
                
                var delzipcode = document.getElementById('delzipcode');
                
                delzipcode.onkeyup = function(){
                	
                	 var x = document.getElementById("delzipcode");
                  x.style.border="0px solid red";
                
                }
                
                var delexpirydate = document.getElementById('delexpirydate');
                
                delexpirydate.onkeyup = function(){
                	
                	 var x = document.getElementById("delexpirydate");
                  x.style.border="0px solid red";
                	
                	
                }
                
                var delqrcode = document.getElementById('delqrcode');
                
                delqrcode.onkeyup = function(){
                	
                	 var x = document.getElementById("delqrcode");
                  x.style.border="0px solid red";
                	
                	
                }
                
                
                
                
                var deloffer = document.getElementById('deloffer');
                
                deloffer.onkeyup = function(){
                	
                	 var x = document.getElementById("deloffer");
                  x.style.border="0px solid red";
                
                    document.getElementById('delofferc').value = this.value;
                	
                	
                }
                
                var delofferc = document.getElementById('delofferc');
                
                delofferc.onkeyup = function(){
                
                
                    document.getElementById('deloffer').value = this.value;
                	
                	
                }
                
                var deldescriptnc = document.getElementById('deldescriptnc');
                
                deldescriptnc.onkeyup = function(){
                
                
                    document.getElementById('deldescription').value = this.value;
                	
                	
                }

                var deldescription = document.getElementById('deldescription');
                
                deldescription.onkeyup = function(){
                	
                		 var x = document.getElementById("deldescription");
                  x.style.border="0px solid red";
                	
                    document.getElementById('deldescriptnc').value = this.value;
                }

                var inputdes = document.getElementById('printdes');
                
                inputdes.onkeyup = function(){
                		
                    document.getElementById('entdesc').value = this.value;
                	document.getElementById('oferrdescdublicate').value = this.value;
                }
                
                var qrcode = document.getElementById('qrcode');
                
                qrcode.onkeyup = function(){
                	
                	document.getElementById('oferrdescdublicate').value = this.value;
                		
                    var imagelink = document.getElementById('imagelink');
                	    imagelink.style.border="2px solid white";
                }
                
                var imagelink = document.getElementById('imagelink');
                
                imagelink.onkeyup = function(){
                		
                    var qrcode = document.getElementById('qrcode');
                	    qrcode.style.border="2px solid white";
                }
                
                  // Initialize Firebase
                  var config = {
                    apiKey: "AIzaSyCFgW7VCEKkko_t42HBjXBL0guNmJgl-94",
                    authDomain: "mycommunity-a734d.firebaseapp.com",
                    databaseURL: "https://mycommunity-a734d.firebaseio.com",
                    projectId: "mycommunity-a734d",
                    storageBucket: "mycommunity-a734d.appspot.com",
                    messagingSenderId: "885464413077"
                  };
                  firebase.initializeApp(config);
                	
                	
                		  var filesforcroplocal;
                		  var arraylistfile = [];
                		  var arraylistposremoving = [];
                	
                
                	var listthecheckmarwebsearchlogo;
                	var listchecbarraywebsearchlogo;	
                	var arrayweblinkposionlogo;
                        arrayweblinkposionlogo = [];
                
                	function refeshingarray()
                	{
                	
                			list = document.getElementById("imagelistlocal");
                			
                			for (var i=document.getElementById("imagelistlocal").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("imagelistlocal").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                		
                		
                		arraylistfile.forEach(function(item,index){
                			
                			if (item) {
                	  
                     reader = new FileReader();
                    canvas = null;
                    reader.onload = function(e) {
                      image = new Image();
                      image.src = e.target.result;
                	
                		
                					
                		var ul = document.getElementById("imagelistlocal");
                		var li = document.createElement('li');			
                        li.innerHTML='<div style="width: 127px; height: 90px; float:left; margin-left:20px; margin-top:10px;"><img src='+image.src+' style="float:left; width: 127px; margin-top: 10px; height: 90px; object-fit: cover; margin-left: 3%; position: relative;" id="photosearchlist"><div style="width: 127px; height: 89px; background:#2b24248c; margin-top: 10px; position: relative; margin-left: 8px; z-index: 2;"><input type="checkbox" style="position: absolute;right: 10px;"></div><div style="visibility:hidden;">'+item+'</div></div>';
                        ul.appendChild(li);	
                		
                		li.addEventListener('click',dealslocalmutiple);
                									
                									function dealslocalmutiple()
                									{
                										
                										console.log(index);
                										
                										arraylistposremoving.push(index);
                										removeitemmod.push(index);
                										
                										filesforcroplocal = item;
                										
                										document.getElementById('getimgloclinmodule').style.display="block";
                										
                										console.log(arraylistposremoving);
                										
                										 var cropimagewebslct = document.getElementById("cropimagewebslct"); 
                											       cropimagewebslct.style.display="none";
                									
                										 var getimgloclinmodule = document.getElementById("getimgloclinmodule"); 
                											       getimgloclinmodule.style.display="block";
                										
                										 var delitemdeals = document.getElementById("delitemdeals"); 
                											       delitemdeals.style.display="block";
                										
                										var removeselted = document.getElementById("removeselted"); 
                											       removeselted.style.display="none";
                										
                										
                										
                										
                										
                									}
                		
                    }	
                   reader.readAsDataURL(item);
                	  console.log(reader);
                  }
                			
                			
                			
                		});
                		
                		
                		
                	}
                	
                	document.getElementById('sbmtlcl4dealright').addEventListener('click',function(){
                		
                		
                		
                		setTimeout(function(){
                		
                			refeshingarray();
                		
                		}, 1000);
                		
                		
                		
                		
                	});
                	
                	
                	document.getElementById('submitcroppdelsweb4').addEventListener('click',function(){
                		
                		
                		
                		setTimeout(function(){
                		
                				webimagecalling();
                		   imagewebsearchapi();
                		
                		}, 2000);
                		
                		
                		
                		
                	});
                	
                	
                	 window.onload = function(){
                    //Check File API support
                    if(window.File && window.FileList && window.FileReader)
                    {	
                	
                			
                        var filesInput = document.getElementById("dlloclinput");
                        
                        filesInput.addEventListener("change", function(event){ 
                            
                			
                			  var localsbtdeals4 = document.getElementById("localsbtdeals4");
                		       localsbtdeals4.style.display="block";
                			
                			var sbtdeals4 = document.getElementById("sbtdeals4");
                		       sbtdeals4.style.display="none";
                			
                			
                			
                            var files = event.target.files; //FileList object
                //            var output = document.getElementById("result");
                			
                            for(var i = 0; i< files.length; i++)
                            {
                                var file = files[i];
                				   
                				arraylistfile.push(file);
                                
                                //Only pics
                                if(!file.type.match('image'))
                                  continue;
                                
                                var picReader = new FileReader();
                                
                				const filedata = file;
                				const pos = i;
                				
                				
                                picReader.addEventListener("load",function(event){
                                    
                                    var picFile = event.target;
                                    
                					const pacefile =  event.target;	
                					
                					
                		var ul = document.getElementById("imagelistlocal");
                		var li = document.createElement('li');			
                        li.innerHTML='<div style="width: 127px; height: 90px; float:left; margin-left:20px; margin-top:10px;"><img src='+picFile.result+' style="float:left; width: 127px; margin-top: 10px; height: 89px; object-fit: cover; margin-left: 3%; position: relative;" id="photosearchlist"><div style="width: 127px; height: 87px; background:#2b24248c; margin-top: 10px; position: relative; margin-left: 7px; z-index: 2;"><input type="checkbox" style="position: absolute;right: 10px;"></div><div style="visibility:hidden;">'+filedata+'</div></div>';
                        ul.appendChild(li);
                					
                					li.addEventListener('click',dealslocalmutiple);
                									
                									function dealslocalmutiple()
                									{
                										
                										console.log(pos);
                										
                										arraylistposremoving.push(pos);
                										removeitemmod.push(pos);
                										
                										filesforcroplocal = filedata;
                										
                										document.getElementById('getimgloclinmodule').style.display="block";
                										
                										console.log(arraylistposremoving);
                										
                										 var cropimagewebslct = document.getElementById("cropimagewebslct"); 
                											       cropimagewebslct.style.display="none";
                									
                										 var getimgloclinmodule = document.getElementById("getimgloclinmodule"); 
                											       getimgloclinmodule.style.display="block";
                										
                										 var delitemdeals = document.getElementById("delitemdeals"); 
                											       delitemdeals.style.display="block";
                										
                										var removeselted = document.getElementById("removeselted"); 
                											       removeselted.style.display="none";
                										
                										
                									}
                                    
                //                    output.insertBefore(div,null);            
                                
                                });
                                
                                 //Read the image
                                picReader.readAsDataURL(file);
                				
                				
                            }                               
                           
                        });
                			
                			
                		
                    }
                    else
                    {
                        console.log("Your browser does not support File API");
                    }
                }
	
                var key;
                var starCountRef;
                var starCountRef2;
                var key2;
                var starCountRefselected;
                var selectedplace_get;
                var starCountRef1;
                var usuarios = new Array();
                var ref = firebase.database().ref('coupons_new');
                
                	var objects_array;
                	
                	//shahrukhkhan
                var dataobjects;
                		
                	document.getElementById('addnewbtn121').addEventListener('click',function ()
                		 {
                		
                		   var r = confirm("Do you wanna create with old zipcode");
                  if (r == true) 
                  {
                	  var addnewbtn121 = document.getElementById('addnewbtn121');
                	      addnewbtn121.style.display="none";
                	  
                	  var addnewbtn = document.getElementById('addnewbtn');
                	      addnewbtn.style.display="block";
                	  
                	   var selector = document.getElementById('selector');
                	      selector.style.display="none";
                	  
                	  var oferrdescdublicate = document.getElementById('oferrdescdublicate').value;
                	
                	if(oferrdescdublicate=="")
                			{
                				
                				alert('Please change something on Coupons');
                			}
                	    
                  }
                			
                	     	else
                				{
                						
                					dataobjects = "";
                					
                					var selector = document.getElementById('selector');
                	      selector.style.display="none";
                					
                					  var addnewbtn121 = document.getElementById('addnewbtn121');
                	      addnewbtn121.style.display="none";
                	  
                	      var addnewbtn = document.getElementById('addnewbtn');
                	      addnewbtn.style.display="block";
                				
                					 var addbtn = document.getElementById('addbtn');
                	      addbtn.style.visibility="visible";
                					return;
                					
                				}
                		
                	});
                
                	function addingobjectsaddnew()
                	{
                		console.log(dataobjects);
                		
                		
                		if (ddeeplace=="")
                			{
                				alert('Please choose a place');
                				return;
                			}
                		
                		document.getElementById('addbtn').style.border='2px solid';
                		
                	var zipcode = document.getElementById('multiple').value;
                
                var str = zipcode.split(",");
                		
                  var bb = {};		
                            
                			  str.forEach((key, i) => bb[key] = ddeeplace);
                	         
                
                	console.log(bb);
                		
                		dataobjects.push(bb);
                		
                		alert('Zipcode has been added with places.');
                		 document.getElementById("zipaddednotification").style.display="block";
                		document.getElementById("datacount").innerHTML = dataobjects.length;
                	    document.getElementById("modulecountzip").innerHTML = dataobjects.length;
                			
                		
                		for (var i =0; i<dataobjects.length; i++)
                			{
                				
                				 console.log(dataobjects[i]);
                				 bldk = dataobjects[i];
                				 blueprint =   Object.values(bldk);
                				 gettingquals = Object.keys(bldk);
                				console.log(bldk);
                				console.log(blueprint.length);
                				console.log(blueprint);
                				
                				for (var j=0; j<blueprint.length; j++)
                					{
                						
                						console.log(blueprint[j]);
                						console.log(blueprint[j].length);
                						placesforzipcode = blueprint[j];
                						
                					}
                				
                				
                			}
                		
                		        var option = document.createElement('option');
                		        option.value = Object.keys(bldk);
                				option.innerHTML = Object.keys(bldk);
                				zipshowcode .appendChild(option);
                	
                	
                  setTimeout(function(){ 
                  document.getElementById("multiple").placeholder = "Add more zipcode or confirm it.";
                	  document.getElementById("multiple").focus();
                	  document.getElementById('multiple').value = '';
                	  
                		 return uniqueNames = [];
                	  
                  }, 1000);
                				
                }
                	
                 
                	var listthecheckmar;
                	var listchecbarray;
                	var getitemlist;
                	getitemlist = [];
                	
                	var newArr = getitemlist;
                	

					starCountRef = firebase.database().ref("/coupons_new/");

					starCountRef.on('value', function (snapshot2) {


					objects_array = snapshot2.val();


					var listIndex = 1;           

					});
                	
                	function myFunction() {
						var input, filter, ul, li, a, i, txtValue;
						input = document.getElementById("searchtextfild");
						filter = input.value.toUpperCase();
						ul = document.getElementById("couponsimage");
						li = ul.getElementsByTagName("li");
						for (i = 0; i < li.length; i++) {
							a = li[i];
							txtValue = a.textContent || a.innerText;
							if (txtValue.toUpperCase().indexOf(filter) > -1) {
								li[i].style.display = "";
							} else {
								li[i].style.display = "none";
							}
						}
                }
                	
                	
                	
                //	being This is for refrance from deals 9999
                	
                	
                	
                var keydeal;
                var starCountRefdeal;
                var starCountRef2deal;
                var selectedplace_get;
                var logoimage;
                var starCountRef1;
                
                var objects_arraydeal;
                var usuariosdeal = new Array();
                var refdeal = firebase.database().ref('deals_new');
                	
                	 var deldataobjects;
                	
                	function deladdingobjects2()
                	{
                		
                		console.log(deldataobjects);
                		
                		if (ddeeplace=="")
                			{
                				alert('Please choose a place');
                				return;
                			}
                		
                		document.getElementById('deladdbtn').style.border='2px solid';
                		
                	var zipcode = document.getElementById('delmultiple').value;
                
                var str = zipcode.split(",");
                		
                //console.log(str);
                
                  var bb = {};		
                            
                			  str.forEach((key, i) => bb[key] = ddeeplace);
                	         
                
                	console.log(bb);
                		
                		deldataobjects.push(bb);
                		
                		
                		
                			alert('Zipcode has been added with places.');
                		
                		 setTimeout(function(){ 
                  document.getElementById("delmultiple").placeholder = "Add more zipcode or confirm it.";
                	  document.getElementById("delmultiple").focus();
                	  document.getElementById('delmultiple').value = '';
                
                		  
                		  var deladdbtn2 = document.getElementById('deladdbtn2');
                		    deladdbtn2.style.border="0px solid red";
                		
                		 return ddeeplace = [];
                	  
                	  
                	  
                  }, 1000);
 		
                }

                	
                	function myFunction2() {
                    var input, filter, ul, li, a, i, txtValue;
                    input = document.getElementById("searchdeals");
                    filter = input.value.toUpperCase();
                    ul = document.getElementById("couponsimagedeal");
                    li = ul.getElementsByTagName("li");
                    for (i = 0; i < li.length; i++) {
                        a = li[i];
                        txtValue = a.textContent || a.innerText;
                        if (txtValue.toUpperCase().indexOf(filter) > -1) {
                            li[i].style.display = "";
                        } else {
                            li[i].style.display = "none";
                        }
                    }
                }
                	
                	
                //  ends this is for refrance from deals 9999
                	
                	
                	
                	function addnewonedel()
                	{
                	
                	                              var uniqueId = Math.random().toString(36).substring(2) 
                                                 + (new Date()).getTime().toString(36);
                		
                		
                		                            var name  =   document.getElementById('delcomname').value;
                									var deloffer=	document.getElementById('delofferc').value;
                									var description	= document.getElementById('deldescription').value;
                									var category =  document.getElementById('delcate').value ;
                									var exprydate =	document.getElementById('delexpirydate').value;
                									var tersconditons =	document.getElementById('delcondtions').value;
                									var address =	document.getElementById('deladdress').value;
                									var zipcode =	document.getElementById('delzipcode').value;
                		                            var placeid = document.getElementById('delplaceid').value;
                									var qrcode	= document.getElementById('delqrcode').value;
                									var imagelink=  document.getElementById('delimagelink').value;
                		                            var logourl11 =  document.getElementById('imagelogodel').value;
                									var imageurl11  = document.getElementById('imagedel').value;
                		                            var delpriority  = document.getElementById('delpriority').value;
                		                            var dltrfl  = document.getElementById('dltrfl').value;
                		                            var colorbackgroudurl  = document.getElementById('colorbackgroudurl').value;
                		
                		
                		
                //		console.log(str);
                		
                		
                //		                            var file = document.getElementById('dlimage').files[0];
                var file = blob3;
                //		                            var logofile = document.getElementById('dealogo').files[0];
                		var logofile = blob4;
                		
                		
                		if(selectedlink3==null)
                			{
                				
                				
                				if(logofile==null)
                					{	
                						
                						if(file==null)
                							{
                								
                								if(selectedlink4==null)
                									{
                										
                //									alert('url logo url image');
                								
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			offer:deloffer,
                			imagelink:imagelink,
                			offer:offer,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			zipcode:deldataobjects,
                			colorbackgroudurl:colorbackgroudurl,
                			imagelogo:logourl11,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                		
                										
                										
                									}
                								else
                									{
                //										alert('right image from web and set url logo');
                									
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										
                										var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink4
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			imagelink:imagelink,
                			offer:deloffer,
                			zipcode:deldataobjects,
                			imagelogo:logourl11,
                			colorbackgroudurl:colorbackgroudurl,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+zipcode+'/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                										
                		 
                										
                										
                									}
                									
                							}
                						
                						else
                							{
                //												
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						
                						 var thisRef;
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                //    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                //	  	  console.log(url);  
                		  
                		  		
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			offer:deloffer,
                			imagelink:imagelink,
                			offer:offer,
                			priority:delpriority,
                			colorbackgroudurl:colorbackgroudurl,
                			isPromoted:dltrfl,
                			zipcode:deldataobjects,
                			imagelogo:logourl11,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                		  
                		  
                	  });
                		 
                
                								
                							}
                						
                					}
                				else if (file==null)
                						{
                						 
                							if(selectedlink4==null)
                								{
                									 
                									
                //							
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								
                							 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                //		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:deloffer,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			colorbackgroudurl:colorbackgroudurl,
                			zipcode:deldataobjects,
                			imagelogo:url1,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });	
                //		console.log(objToSubmit);
                		 
                									
                									
                								}
                							else
                								{
                									
                								
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                //		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                									
                					 
                					 var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:deloffer,
                			zipcode:deldataobjects,
                						 colorbackgroudurl:colorbackgroudurl,
                		   priority:delpriority,
                			isPromoted:dltrfl,
                			imagelogo:url1,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });
                									
                									
                								
                								}
                							
                						 }
                			
                				else
                				{
                					
                					
                					 var thisRef;
                					
                					 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded del submited shahrukh!');
                	  
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);  
                					
                					
                					 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:deloffer,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			zipcode:deldataobjects,
                			imagelogo:url1,
                			colorbackgroudurl:colorbackgroudurl,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });
                		  
                		   });	
                							 });
                //		console.log(objToSubmit);
                		 
                					
                				}
                				
                				
                			}
                		
                		else if(selectedlink4==null)
                			{
                				
                				if(file==null)
                					{
                						
                						
                						
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:deloffer,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			zipcode:deldataobjects,
                			imagelogo:selectedlink3,
                			colorbackgroudurl:colorbackgroudurl,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                						
                		 
                						
                						
                					}
                				else
                					{
                						
                						
                						
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                
                						
                						
                						 var thisRef;
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);  
                		  
                		  		
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:deloffer,
                			zipcode:deldataobjects,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			imagelogo:selectedlink3,
                			placeid:placeid,
                			expiryDate:exprydate,
                			colorbackgroudurl:colorbackgroudurl,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                		  
                		  
                		  
                		  
                		  
                		  
                		  
                	  });
                						
                		 
                					}
                				
                				
                				
                			}
                		else
                			{
                				 
                				 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                				
                				 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink4
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                		offer:deloffer,
                			zipcode:deldataobjects,
                			priority:delpriority,
                			isPromoted:dltrfl,
                			imagelogo:selectedlink3,
                			colorbackgroudurl:colorbackgroudurl,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                						
                				
                				
                			
                			}
                		
                	}
                	
                	
                	function delupdate()	
                		{
                			
                			
                				var uniqueId = Math.random().toString(36).substring(2) 
                               + (new Date()).getTime().toString(36);
                		
                		
                		                            var name  =   document.getElementById('entcname3').value;
                									var offer=	document.getElementById('deloffer').value;
                									var description	= document.getElementById('deldescription').value;
                									var category =  document.getElementById('delcate').value ;
                									var exprydate =	document.getElementById('delexpirydate').value;
                									var tersconditons =	document.getElementById('delcondtions').value;
                //									var address =	document.getElementById('deladdress').value;
                //									var zipcode =	document.getElementById('delzipcode').value;
                //		                            var placeid = document.getElementById('delplaceid').value;
                									var qrcode	= document.getElementById('delqrcode').value;
                			                        var delpriority	= document.getElementById('delpriority').value;
                			                        var dltrfl	= document.getElementById('dltrfl').value;
                //									var imagelink=  document.getElementById('delimagelink').value;
                //		                            var logourl11 =  document.getElementById('imagelogodel').value;
                //									var imageurl11  = document.getElementById('imagedel').value;
                		                            var file = document.getElementById('dlimage').files[0];
                		                            var logofile = document.getElementById('dealogo').files[0];
                			                        var delmultiple	= document.getElementById('delmultiple').value;
                			
                			
                			
                	if (delmultiple!="")
                			{	
                	
                	
                		if (ddeeplace=="")
                			{
                				
                				var deladdnewplacezipcode = document.getElementById('deladdnewplacezipcode');
                		    deladdnewplacezipcode.style.border="3px solid red";
                				
                				alert('Please choose a place for new zipcode');
                				return;	
                				
                			}
                				
                				var deladdbtn2 = document.getElementById('deladdbtn2');
                		    deladdbtn2.style.border="3px solid red";
                				
                			alert('Press The add multiple zipcode');
                				return;		
                				
                				
                			}
                			
                			
                			
                			
                					
                		if(selectedlink3==null)
                			{
                				
                				
                				if(logofile==null)
                					{	
                						
                						if(file==null)
                							{
                								
                								if(selectedlink4==null)
                									{
                										
                										
                
                //									alert('url logo url image');
                										
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,delpriority,dltrfl) {
                		 
                			
                			 
                  starCountRef1.update({
                	 name:name,
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	  priority:delpriority,
                isPromoted:dltrfl,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                										
                									}
                								else
                									{
                										alert('right image from web and set url logo');
                										
                										writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink4,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink4,delpriority,dltrfl) {
                		 
                			
                			  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink4
                		  });
                			 
                			 
                  starCountRef1.update({
                	  name:name,
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	 priority:delpriority,
                isPromoted:dltrfl,
                	discalmer:tersconditons,
                	image:imageobject,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                										
                										
                									}
                									
                							}
                						
                						else
                							{
                //								alert('right image from computer and set url logo');
                								
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                					 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                
                	  	  console.log(url); 
                					
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url,delpriority,dltrfl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	  priority:delpriority,
                isPromoted:dltrfl,
                	discalmer:tersconditons,
                	image:imageobject,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                				
                				
                								
                								
                								
                								
                							}
                						
                					}
                				else if (file==null)
                						{
                						 
                							if(selectedlink4==null)
                								{
                									
                //									alert('compute logo and set url');
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,delpriority,dltrfl) {
                		 
                			 
                	
                			 
                  starCountRef1.update({
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                //	image:imageobject,
                	  priority:delpriority,
                isPromoted:dltrfl,
                	code:qrcode,
                	imagelogo:url1,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                									
                									
                									
                								}
                							else
                								{
                									
                //									alert('computer logo and selected2 web');
                									
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,selectedlink4,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,selectedlink4,delpriority,dltrfl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink4
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	image:imageobject,
                	 priority:delpriority,
                isPromoted:dltrfl,
                	code:qrcode,
                	imagelogo:url1,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                									
                									
                								}
                							
                						 }
                			
                				else
                				{
                					
                //					alert('succeed from computer and computer');
                					
                					 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                					
                					 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url); 
                					
                					 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo.name);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,url,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,url1,url,delpriority,dltrfl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	 priority:delpriority,
                isPromoted:dltrfl,
                	image:imageobject,
                	code:qrcode,
                	imagelogo:url1,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                				 });
                						});
                				
                					
                					
                				}//				This is for computer to computer load on firebase
                				
                				
                			}
                		
                		else if(selectedlink4==null)
                			{
                				
                				if(file==null)
                					{
                						
                //						alert('logo web and set url');
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						 writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,delpriority,dltrfl) {
                		 
                		
                			 
                  starCountRef1.update({
                	  
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	 priority:delpriority,
                isPromoted:dltrfl,
                	imagelogo:selectedlink3,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                		  
                						
                						
                					}
                				else
                					{
                						
                						
                //						alert('web logo and computer');
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                					 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url); 
                					
                	
                		  writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,url,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,url,delpriority,dltrfl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                  starCountRef1.update({
                	  
                	  
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	  priority:delpriority,
                isPromoted:dltrfl,
                	imagelogo:selectedlink3,
                	image:imageobject,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                		  
                		  
                		  
                		  
                		  
                	  });
                  });
                						
                					
                						
                					}
                				
                				
                				
                			}
                		else
                			{
                				
                //				alert('succeed web and web');
                				
                				 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                				
                				writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,selectedlink4,delpriority,dltrfl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,deldataobjects,qrcode,selectedlink3,selectedlink4,delpriority,dltrfl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink4
                		  });
                			 
                  starCountRef1.update({
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	image:imageobject,
                	 priority:delpriority,
                isPromoted:dltrfl,
                	imagelogo:selectedlink3,
                	code:qrcode,
                	zipcode:deldataobjects 
                	  
                	  
                  });
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                				
                			}
                			
                			
                		}//		End here the update deal
                	
                	
                	function  updatesubmit()
                	{
                		
                		var uniqueId = Math.random().toString(36).substring(2) 
                               + (new Date()).getTime().toString(36);
                		
                	    var name = document.getElementById('entcname').value;
                		var offer = document.getElementById('offer').value;
                		var description = document.getElementById('entdesc').value;
                		var address = document.getElementById('address1').value;
                		var exprydate = document.getElementById('expiraydate').value;
                		var tersconditons = document.getElementById('tersconditons').value;
                		var qrcode = document.getElementById('qrcode').value;
                		var  priority = document.getElementById('priority').value;
                		var trfl = document.getElementById('trfl').value;
                		
                		var backgrondurl = document.getElementById('backgrondurl').value;
                	
                		
                			
                		
                		
                			var multiple = document.getElementById('multiple').value;
                	if (multiple!="")
                			{	
                	
                	
                		if (uniqueNames=="")
                			{
                				var addnewplacezipcode = document.getElementById('addnewplacezipcode');
                		    addnewplacezipcode.style.border="3px solid red";
                				
                				alert('Please choose a place for new zipcode');
                				return;	
                				
                			}
                				
                			alert('Press The add multiple zipcode');
                				return;		
                				
                				
                			}
                		
                		
                	
                		var file = blob2;
                		var logofile = blob;
                		
                		if(selectedlink==null)
                			{
                				
                				if(logofile==null)
                					{	
                						
                
                						if(file==null)
                							{
                								
                								if(selectedlink2==null)
                									{
                										
                							
                										
                										 loader = document.getElementById("loader");
                			                             loader.style.display = "block";	
                										
                										
                										
                										
                										writeUserData(name,offer,exprydate,description,tersconditons,qrcode,priority,trfl,backgrondurl,dataobjects); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,qrcode,priority,trfl,backgrondurl,dataobjects) {
                		 //zohankhan
                			
                			 
                  starCountRef1.update({
                	  
                	 
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	priority:priority,
                	backgroundurl:backgrondurl,
                	isPromoted:trfl,
                	code:qrcode,
                	zipcode:dataobjects
                	  
                	  
                  });
                			
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                										
                									}
                								else
                									{
                //										alert('right image from web and set url logo');
                										
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink2,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink2,priority,trfl,backgrondurl) {
                		 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                			 
                			 
                			 
                  starCountRef1.update({
                	 
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	code:qrcode,
                	  priority:priority,
                	  backgroundurl:backgrondurl,
                	isPromoted:trfl,
                	image:imageobject,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                										
                									}
                									
                							}
                						
                						else
                							{
                //								alert('right image from computer and set url logo');
                								
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url); 
                					
                					 
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,ur,priorityl,trfl,backgrondurl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	  backgroundurl:backgrondurl,
                	  priority:priority,
                	isPromoted:trfl,
                	image:imageobject,
                	code:qrcode,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                				
                								
                								
                							}
                						
                
                					}
                				else if (file==null)
                						{
                						 
                							if(selectedlink2==null)
                								{
                									
                //									alert('compute logo and set url');
                									
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo.name);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,priority,trfl,backgrondurl) {
                		 
                			
                			 
                			 
                  starCountRef1.update({
                	  
                    name:name,
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	code:qrcode,
                	  backgroundurl:backgrondurl,
                	  priority:priority,
                	isPromoted:trfl,
                	imagelogo:url1,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                									
                									
                									
                								}
                							else
                								{
                									
                //									alert('computer logo and selected2 web');
                									
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo.name);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,selectedlink2,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,selectedlink2,priority,trfl,backgrondurl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	  backgroundurl:backgrondurl,
                	image:imageobject,
                	  priority:priority,
                	isPromoted:trfl,
                	code:qrcode,
                	imagelogo:url1,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                									
                									
                								}
                							
                						 }
                			
                				else
                				{
                					
                					alert('ss');
                					
                					 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                				
                					 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url); 
                					
                					 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					
                					 
                					  writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,url,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,url1,url,priority,trfl,backgrondurl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                			 
                  starCountRef1.update({
                	  
                	  
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	image:imageobject,
                	  backgroundurl:backgrondurl,
                	    priority:priority,
                	isPromoted:trfl,
                	code:qrcode,
                	imagelogo:url1,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                					  
                					 
                					 
                				 });
                						});
                					 
                				 });
                						});
                				
                					
                					
                				}//				This is for computer to computer load on firebase
                				
                				
                			}
                		
                		else if(selectedlink2==null)
                			{
                				
                				if(file==null)
                					{
                						
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                					
                						 writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,priority,trfl,backgrondurl) {
                		 
                			 
                			
                  starCountRef1.update({
                	  
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	backgroundurl:backgrondurl,
                	imagelogo:selectedlink,
                	      priority:priority,
                	isPromoted:trfl,
                	code:qrcode,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                						
                						
                					}
                				else
                					{
                						
                						
                //						alert('web logo and computer');
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                					 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url); 
                					
                	
                		  writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,url,priority,trfl,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,url,priority,trfl,backgrondurl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                			 
                  starCountRef1.update({
                	  
                	name:name,  
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	discalmer:tersconditons,
                	imagelogo:selectedlink,
                	  backgroundurl:backgrondurl,
                	image:imageobject,
                	    priority:priority,
                	isPromoted:trfl,
                	code:qrcode,
                	zipcode:dataobjects 
                	  
                	  
                	  
                  });
                			 
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                		  
                		  
                		  
                		  
                		  
                	  });
                  });
                						
                					
                						
                					}
                				
                				
                				
                			}
                		else
                			{
                				
                //				alert('succeed web and web');
                				
                				 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                				
                				writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,selectedlink2,priority,backgrondurl); 
                		
                		 function writeUserData(name,offer,exprydate,description,tersconditons,dataobjects,qrcode,selectedlink,selectedlink2,trfl,backgrondurl) {
                		 
                			 
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                			 
                  starCountRef1.update({
                	  
                	  
                	 name:name, 
                    offer: offer,
                	expiryDate:exprydate,
                	description:description,
                	  backgroundurl:backgrondurl,
                	discalmer:tersconditons,
                	imagelogo:selectedlink,
                	image:imageobject,
                	priority:priority,
                	isPromoted:trfl,
                	code:qrcode,
                	zipcode:dataobjects 
                	  
                	  
                  });
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			 
                			 alert('Update it Successfully!');
                		window.location.href = "creatingcoupons.html"; 
                										   
                		 }	
                				
                			}		
                			
                	}
                	
                	
                		function dataURLtoBlob4(dataURL) {
                  var BASE64_MARKER = ';base64,';
                  if (dataURL.indexOf(BASE64_MARKER) == -1) {
                    var parts = dataURL.split(',');
                    var contentType = parts[0].split(':')[1];
                    var raw = decodeURIComponent(parts[1]);
                
                    return new Blob([raw], {
                      type: contentType
                    });
                  }
                	
                  var parts = dataURL.split(BASE64_MARKER);
                  var contentType = parts[0].split(':')[1];
                  var raw = window.atob(parts[1]);
                  var rawLength = raw.length;
                  var uInt8Array = new Uint8Array(rawLength);
                  for (var i = 0; i < rawLength; ++i) {
                    uInt8Array[i] = raw.charCodeAt(i);
                  }
                
                  return new Blob([uInt8Array], {
                    type: contentType
                  });
                }
                	
                	
                	
                	var formData4;
                	var blob4;
                	
                	
                		document.getElementById('submitcropp4').addEventListener('click',function(){
                		
                //		 document.getElementById('selectapiimage').value='';
                			
                			var cropgetimagecode3 = document.getElementById('cropgetimagecode3').value;
                			
                			if(cropgetimagecode3=="")
                				{
                					alert("Please Crop the image");
                				}
                			else
                				{
                			
                			
                	image4 = new Image();
                			
                    image4.src = canvas4.toDataURL('image/png');
                	
                			formData4 = image4.src;
                			
                			console.log(image4.src);
                		console.log(image4);
                			
                			
                		 blob4 = dataURLtoBlob4(formData4);
                			
                		console.log(blob4);
                		
                			
                			var cropmodal4 = document.getElementById('cropmodal4');
                			    cropmodal4.style.display="none";
                			
                			var deloutput = document.getElementById('deloutput');
                		        deloutput.src = formData4;
                			deloutput.style.zIndex="1";
                			deloutput.style.visibility="visible";
                			
                			var dealimagemodal = document.getElementById('deal-image-modal');
                		        dealimagemodal.style.display="none";
                			
                					}
                					
                	});
                	
                	function dataURLtoBlob2(dataURL) {
                  var BASE64_MARKER = ';base64,';
                  if (dataURL.indexOf(BASE64_MARKER) == -1) {
                    var parts = dataURL.split(',');
                    var contentType = parts[0].split(':')[1];
                    var raw = decodeURIComponent(parts[1]);
                
                    return new Blob([raw], {
                      type: contentType
                    });
                  }
                	
                  var parts = dataURL.split(BASE64_MARKER);
                  var contentType = parts[0].split(':')[1];
                  var raw = window.atob(parts[1]);
                  var rawLength = raw.length;
                  var uInt8Array = new Uint8Array(rawLength);
                  for (var i = 0; i < rawLength; ++i) {
                    uInt8Array[i] = raw.charCodeAt(i);
                  }
                
                  return new Blob([uInt8Array], {
                    type: contentType
                  });
                }
                	
                	
                	
                	var formData2;
                	var blob2;
                	
                	
                		document.getElementById('submitcropp2').addEventListener('click',function(){
                		
                		 document.getElementById('selectapiimage').value='';
                			
                			var getimagecode = document.getElementById('cropgetimagecode').value;
                			
                			if(getimagecode=="")
                			   {
                			   alert("Please Crop the Image");
                			   }
                			else
                				{
                			
                	 image2 = new Image();
                			
                    image2.src = canvas2.toDataURL('image/png');
                	
                			formData2 = image2.src;
                			
                			console.log(image2.src);
                		console.log(image2);
                			
                			
                		 blob2 = dataURLtoBlob2(formData2);
                			
                		console.log(blob2);
                		
                			
                		 document.getElementById('oferrdescdublicate').value = "dd";
                			var cropmodal = document.getElementById('cropmodal2');
                			    cropmodal.style.display="none";
                			
                			var output = document.getElementById('output');
                		        output.src = formData2;
                			
                			var myImg1 = document.getElementById('myImg');
                		        myImg1.style.visibility ="visible";
                			
                			var selectlogotext = document.getElementById('selectlogotext');
                		        selectlogotext.style.display ="none";
                		
                					
                					}
                					
                	});
                	
                	
                	function dataURLtoBlob(dataURL) {
                  var BASE64_MARKER = ';base64,';
                  if (dataURL.indexOf(BASE64_MARKER) == -1) {
                    var parts = dataURL.split(',');
                    var contentType = parts[0].split(':')[1];
                    var raw = decodeURIComponent(parts[1]);
                
                    return new Blob([raw], {
                      type: contentType
                    });
                  }
                	
                  var parts = dataURL.split(BASE64_MARKER);
                  var contentType = parts[0].split(':')[1];
                  var raw = window.atob(parts[1]);
                  var rawLength = raw.length;
                  var uInt8Array = new Uint8Array(rawLength);
                  for (var i = 0; i < rawLength; ++i) {
                    uInt8Array[i] = raw.charCodeAt(i);
                  }
                
                  return new Blob([uInt8Array], {
                
                    type: contentType
                  });
                }
                	
                	var formData;
                	var blob;
                	var image;
                	
                		document.getElementById('submitcropp').addEventListener('click',function(){
                			
                			var cropgetimagecode1 = document.getElementById('cropgetimagecode1').value;
                			
                			if(cropgetimagecode1=="")
                				{
                					alert("Please Crop the image");
                				}
                			else
                				{
                
                	image = new Image();
                    image.src = canvas.toDataURL('image/png');
                		
                			formData= image.src;
                			
                			console.log(image.src);
                		console.log(image);
                			
                		 blob = dataURLtoBlob(formData);
                			
                		console.log(blob);
                			
                			
                			document.getElementById('oferrdescdublicate').value="bb";
                			
                			var cropmodal = document.getElementById('cropmodal');
                			    cropmodal.style.display="none";
                			
                			var myImg = document.getElementById('myImg');
                		        myImg.src = formData;
                			
                			
                			var chosoptn = document.getElementById('close-chosoptn');
                		        chosoptn.style.display="none";
                			
                			var myImg1 = document.getElementById('myImg');
                		        myImg1.style.visibility ="visible";
                			
                			var selectlogotext = document.getElementById('selectlogotext');
                		        selectlogotext.style.display ="none";
                	
                					   }
                				
                				});
                	
                	function  addnewsubmit()
                	{
                			
                		var uniqueId = Math.random().toString(36).substring(2) 
                               + (new Date()).getTime().toString(36);
                		
                		var name = document.getElementById('entcname1').value;
                		var category = document.getElementById('category').value;
                		var address = document.getElementById('address1').value;
                		var placeid = document.getElementById('editplaceid').value;
                		var offer = document.getElementById('offer').value;
                		var description = document.getElementById('entdesc').value;
                		var address = document.getElementById('address1').value;
                		var exprydate = document.getElementById('expiraydate').value;
                		var tersconditons = document.getElementById('tersconditons').value;
                //		var zipcode = document.getElementById('zipcode').value;
                		var qrcode = document.getElementById('qrcode').value;
                		var imagelink = document.getElementById('imagelink').value;
                		var imageurl11 = document.getElementById('imageurl11').value;
                		var logourl11 = document.getElementById('logourl11').value;
                        var priority = document.getElementById('priority').value;
                		var trfl = document.getElementById('trfl').value;
                		var backgroundurl = document.getElementById('backgrondurl').value;
                		var multiple1 = document.getElementById('multiple').value;
                		var oferrdescdublicate = document.getElementById('oferrdescdublicate').value;
                		
                		const file = blob2;
                		var logofile = blob;	
                		
                		console.log(dataobjects);
                		
                		if(dataobjects=="")
                			{
                				
                				alert('Please Add zipcode and places');
                			}
                		
                		if(oferrdescdublicate=="")
                			{
                				
                				alert('Please change something on Coupons');
                			   return;
                			}
                		
                			if (multiple1!="")
                			{
                				
                				
                	
                		if (ddeeplace=="")
                			
                			{
                				
                				var addnewplacezipcode = document.getElementById('addnewplacezipcode');
                		    addnewplacezipcode.style.border="3px solid red";
                				
                				
                				alert('Please choose a place for new zipcode');
                				return;	
                				
                			}
                				
                				
                				alert('Press the button add new');
                				return;	
                				
                			}
                				
                		
                		//samreenkhan
                		
                		
                		
                //		const logofile = blob;
                		
                //	 var str = zipcode.split(",");
                		
                //		console.log(str);
                		
                		if(selectedlink==null)
                			{
                				
                				
                				if(logofile==null)
                					{	
                						
                						if(file==null)
                							{
                								
                								if(selectedlink2==null)
                									{
                										
                										alert('srk1');
                										
                										
                //										  for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //									
                										
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                										console.log(dataobjects);
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			zipcode:dataobjects,
                			imagelogo:logourl11,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                			 setTimeout(function(){
                				   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                				
                		}, 5000);
                		
                		 
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/'+arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		 setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                //									}
                										
                										
                									}
                								else
                									{
                										alert('srk2');
                //										alert('1');
                //										  for(var i =0; i<str.length; i++)
                //		 {
                			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //										alert('right image from web and set url logo');
                										
                										 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                										
                										var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			imagelogo:logourl11,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	setTimeout(function(){
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                
                			
                		 
                		
                			
                	}	
                
                			  });
                //									}
                										
                										
                										
                										
                									}
                
                									
                							}
                						
                						else
                							{
                								alert('srk3');
                //								alert('2');
                //								alert('right image from computer and set url logo');
                								
                //								  for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                							 
                								
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						
                						 var thisRef;
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded with exist url!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);  
                		  
                		  		
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			imagelogo:logourl11,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	 setTimeout(function(){
                		   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                		
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		 setTimeout(function(){
                			   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                			
                	
                		
                			
                	}	
                
                			  });	
                					  });	
                		  
                		  
                		  
                		  
                		  
                		  
                		  
                	  });
                //							}
                
                								
                							}
                						
                					}
                				else if (file==null)
                						{
                						 
                							if(selectedlink2==null)
                								{
                									alert('srk4');
                //									alert('3');
                									
                									
                //									  for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //						
                //									alert('compute logo and set url');
                									
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								
                							 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			priority:priority,
                			isPromoted:trfl,
                			zipcode:dataobjects,
                			backgroundurl:backgroundurl,
                			imagelogo:url1,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                		
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	setTimeout(function(){
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                			
                		
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });	
                //		console.log(objToSubmit);
                //		 }
                									
                									
                								}
                							else
                								{
                									
                //									alert('4');
                //									 for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                							 
                									
                //									alert('computer logo and selected2 web');
                									 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                									
                									 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                
                			  imageUrl:selectedlink2
                		  });
                									
                					 
                					 var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			imagelogo:url1,
                		    priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	setTimeout(function(){
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                	
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                			
                	
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });
                //		 }
                
                									
                								}
                							
                						 }
                			
                				else
                				{
                					alert('srk5');
                //					alert('5');
                //					alert('hello brother'); 
                //					alert('succeed from computer and computer'); gurug	
                					
                //	 for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //					
                					 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                					
                					
                
                					 var thisRef;
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage sonu
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);  
                					
                					
                					 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                							
                		  console.log('logo has been uploaded done it!');
                							
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                					 
                					 
                				
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			priority:priority,
                			backgroundurl:backgroundurl,
                			isPromoted:trfl,
                			zipcode:dataobjects,
                			imagelogo:url1,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 console.log('duck');
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		
                		setTimeout(function(){
                			loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                //		
                		
                		
                		  
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                //		window.location.href = "creatingcoupons.html";
                		
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });
                		  
                		   });	
                							 });
                			 
                //			 }//loop end here
                					
                //		console.log(objToSubmit);
                					
                					
                					
                				}
                				
                				
                			}
                		
                		else if(selectedlink2==null)
                			{
                				
                				if(file==null)
                					{
                						alert('srk6');
                						
                ////						alert('6');
                //						  for(var i =0; i<str.length; i++)
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                						
                //						alert('logo web and set url');
                						
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:imageurl11
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			imagelogo:selectedlink,
                			placeid:placeid,
                			priority:priority,
                			backgroundurl:backgroundurl,
                			isPromoted:trfl,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		setTimeout(function(){
                			  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                	
                		
                			
                	}	
                
                			  });
                						
                						
                //		 }
                						
                					}
                				else
                					{
                						alert('srk7');
                //						alert('7');
                						
                //						  for(var i =0; i<str.length; i++)
                
                //		 {
                //			 
                //			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //						alert('web logo and computer');
                						
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						
                						 var thisRef;
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);  
                		  
                		  		
                		 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			backgroundurl:backgroundurl,
                			priority:priority,
                			isPromoted:trfl,
                			imagelogo:selectedlink,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	 setTimeout(function(){
                		   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                	
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		 setTimeout(function(){
                			   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                		
                			
                	}	
                
                			  });	
                					  });	
                		  
                		  
                		  
                		  
                		  
                		  
                		  
                	  });
                //		 }
                						
                						
                					}
                				
                				
                				
                			}
                		else
                			{
                				alert('srk8');
                //				alert('8');
                //				
                //				alert('succeed web and web');
                				
                				
                							 
                				
                				 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                				
                				 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                				
                
                		var objToSubmit = {
                			address:address,
                			cateogry:category,
                			code:qrcode,
                			imagelink:imagelink,
                			offer:offer,
                			zipcode:dataobjects,
                			priority:priority,
                			backgroundurl:backgroundurl,
                			isPromoted:trfl,
                			imagelogo:selectedlink,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description,
                			discalmer:tersconditons,
                			name:name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedplace_get
                			
                			
                			
                		};
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	 setTimeout(function(){
                		   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                		
                	
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                	 setTimeout(function(){
                		   loader = document.getElementById("loader");
                			loader.style.display = "none";
                		window.location.href = "creatingcoupons.html";
                		}, 5000);
                	
                		
                			
                	}	
                
                			  });
                						
                //		 }
                				
                			}
                		  
                		
                	}
                	
                	
                	
                	var loadFile = function(event) {
                    var reader = new FileReader();
                    reader.onload = function(){
                      var output = document.getElementById('output');
                		
                	
                      output.src = reader.result;
                		
                		output.style.zIndex="1";
                		output.style.visibility="";
                		
                		
                		
                		var closingimagecopns = document.getElementById('close-image-coupons');
                		    closingimagecopns.style.display="none";
                		
                		
                    };
                    reader.readAsDataURL(event.target.files[0]);
                  };
                	
                	
                //	This is for deal logo 200
                	
                	var loadFiledlogo = function(event) {
                    var reader = new FileReader();
                    reader.onload = function(){
                      var deloutput = document.getElementById('deloutput');
                      deloutput.src = reader.result;
                		deloutput.style.zIndex="1";
                		deloutput.style.visibility="visible";
                		
                		var deallogomodal = document.getElementById('deal-logo-modal');
                		    deallogomodal.style.display="none";
                		
                		
                    };
                    reader.readAsDataURL(event.target.files[0]);
                  };
                	
                	
                	
                	
                	//	This is for deal logo 200 vikas on reader 3
                	
                //	var loadFiledlimage = function(event) {
                //    var reader = new FileReader();
                //    reader.onload = function(){
                //      var dlimageoutput = document.getElementById('dlimageoutput');
                //      dlimageoutput.src = reader.result;
                //
                //		dlimageoutput.style.zIndex="1";
                //		dlimageoutput.style.visibility="visible";
                //		
                //		var deallogomodal = document.getElementById('deal-image-modal');
                //		    deallogomodal.style.display="none";
                //		
                //		
                //    };
                //    reader.readAsDataURL(event.target.files[0]);
                //  };
                	
                //	var loadFile1 = function(event) { zuhair
                
                //    var reader = new FileReader();
                //    reader.onload = function(){
                //      var output1 = document.getElementById('output1');
                //      output1.src = reader.result;
                //		output1.style.zIndex="1";
                //		output1.style.background="white";
                //		output1.style.visibility="visible";
                //		var imageiconslogo = document.getElementById('imageiconlogo');
                //		 imageiconlogo.style.zIndex="2";
                //		var chooptionclose = document.getElementById('close-chosoptn');
                //		     chooptionclose.style.display="none";
                //		
                //		
                //    };
                //    reader.readAsDataURL(event.target.files[0]);
                //  };
                
                	
                //	
                //	var loadFile3 = function(event) {
                //    var reader = new FileReader();
                //    reader.onload = function(){
                //      var output3 = document.getElementById('output3');
                //      output3.src = reader.result;
                //		output3.style.zIndex="1";
                //    };
                //    reader.readAsDataURL(event.target.files[0]);
                //  };
                ////	
                	
                	
                	   function httpGet(theUrl)
                {
                    var xmlHttp = new XMLHttpRequest();
                    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
                    xmlHttp.setRequestHeader("Access-Control-Allow-Origin","*");
                     xmlHttp.setRequestHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept");
                     xmlHttp.setRequestHeader('Access-Control-Allow-Credentials', 'true');
                
                    xmlHttp.send( null );
                    return xmlHttp.responseText;
                }
                	
                	function zoomeExtends(){
                  var bounds = new google.maps.LatLngBounds();
                  if (markers.length>0) { 
                      for (var i = 0; i < markers.length; i++) {
                         bounds.extend(markers[i].getPosition());
                        }    
                        map.fitBounds(bounds);
                    }
                
                }
                	
                	// Sets the map on all markers in the array.
                      function setMapOnAll(map) {
                        for (var i = 0; i < markers.length; i++) {
                          markers[i].setMap(map);
                        }
                      }
                	
                	
                	// Deletes all markers in the array by removing references to them.
                      function deleteMarkers() {
                		  
                		  setMapOnAll(null);
                          markers = [];
                		  
                      }
                	
                	
                	var markers = [];
                	
                	function function2()
                	{
                		
                		var local = selectedlink;
                		console.log(local);
                	}
                	
                	
                	
                	
                
                	
                	var zipobjects;
                	   zipobjects = [];
                	
                	
                	function deladdingobjects()
                	{
                	
                		
                		if (ddeeplace=="")
                			{
                				alert('Please choose a place');
                				return;
                			
                			}
                		
                		
                		document.getElementById('deladdbtn').style.border='2px solid';
                		
                	var zipcode = document.getElementById('delmultiple').value;
                
                var str = zipcode.split(",");
                		
                //console.log(str);
                
                  var bb = {};		
                            
                			  str.forEach((key, i) => bb[key] = ddeeplace);
                	         
                
                	console.log(bb);
                		
                		zipobjects.push(bb);
                		
                		
                		
                			alert('Zipcode has been added with places.');
                		
                		 setTimeout(function(){ 
                  document.getElementById("delmultiple").placeholder = "Add more zipcode or confirm it.";
                	  document.getElementById("delmultiple").focus();
                	  document.getElementById('delmultiple').value = '';
                		
                		 return uniqueNames = [];
                	  
                			 
                	  
                  }, 1000);
                
                	return ddeeplace = [];	
                			
                		
                }
                	
                	
                	
                	function delsubmit()
                	
                	{
                		 
                	var und = "undefined";
                		
                		
                		var uniqueId = Math.random().toString(36).substring(2) 
                               + (new Date()).getTime().toString(36);
                		
                		var deloffer = document.getElementById('deloffer');
                		var deldescription = document.getElementById('deldescription');
                		var delexpirydate = document.getElementById('delexpirydate');
                		var delcondtions = document.getElementById('delcondtions');
                		var delmultiple = document.getElementById('delmultiple').value;
                		var delqrcode = document.getElementById('delqrcode');
                		var delimagelink = document.getElementById('delimagelink');
                		var rimgeurlmpapibb = document.getElementById('rimgeurlmpapi').value;
                		var rimgeurlmpapi1 = document.getElementById('rimgeurlmpapi1').value;
                		var colorbackgroudurl = document.getElementById('colorbackgroudurl').value;
                		
                //		var logodel = document.getElementById('dealogo').files[0];
                //		var dealimage = document.getElementById('dlimage').files[0];		
                		
                		    var imageobject;
                	            imageobject = [];
                		
                		 var mapimageright;
                	            mapimageright = [];
                		
                		    var imageobject1 = [];	
                		
                	arrayweblink.forEach(function(item,index){
                	
                		const  weburl = item;
                		
                		imageobject.push(weburl);
                		
                		
                	});	
                		
                		
                		  console.log(arraylistfile);
                						
                						//deepakrawat
                						
                						  for(var i = 0; i< arraylistfile.length; i++)
                            {
                                var imageFile = arraylistfile[i];
                				
                				console.log(imageFile);
                				
                				   uploadImageAsPromise(imageFile);
                				
                			}
                									
                		//Handle waiting to upload each file using promise
                function uploadImageAsPromise (imageFile) {
                    return new Promise(function (resolve, reject) {
                		
                		var storageRef = firebase.storage().ref("/dealimageupload/"+imageFile.name+uniqueId);
                					
                			//put request upload file to firebase storage
                		
                  storageRef.put(imageFile).then(function(url) {
                	  
                    console.log('image has been uploaded googli!');
                	  
                	 var urlPromise = storageRef.getDownloadURL();
                	  
                	  urlPromise.then(url => {
                	  	 
                						const dataurl = url;
                		  
                		  console.log("rep1");
                		  
                		   console.log(dataurl);
                		  
                		  imageobject.push(dataurl);
                		  
                		  console.log(imageobject);
                		  
                		
                		
                		  });
                	  });
                		
                		 });
                	}
                			 console.log(imageobject);	
                		
                		if (und === rimgeurlmpapi1) {
                		
                var res = rimgeurlmpapibb.substr(70);
                var newStr = res.slice(0, -69);
                		
                		rimgeurlmpapi = "https://maps.googleapis.com/maps/api/place/photo?photoreference="+newStr+"&sensor=false&maxheight=500&maxwidth=500&key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50";
                		
                			console.log(rimgeurlmpapi);
                			
                			mapimageright.push(rimgeurlmpapi);
                		}
                		
                		else
                		{
                //		    rimgeurlmpapi =  rimgeurlmpapi1;
                			mapimageright.push(rimgeurlmpapi);
                			
                		}
                		
                		
                		
                		var logodel = blob4;
                		
                //	 var str = delzipcode.split(",");
                		
                //		console.log(str);
                		
                		
                		if (zipobjects === undefined || zipobjects.length == 0) {
                   
                		
                
                		var deladdbtn = document.getElementById('deladdbtn');
                		deladdbtn.style.border="3px solid red";
                		
                		if (delmultiple=="")
                			{
                				var delmultiple = document.getElementById('delmultiple');
                		    delmultiple.style.border="3px solid red";
                				
                			}
                		
                //		
                		
                			alert('Press The add multiple zipcode OR Fill zipcode text field');
                			return;
                		
                		
                }
                	
                		if (delmultiple!="")
                			{	
                	
                //	
                		if (ddeeplace=="")
                			{
                				alert('Please choose a place for new zipcode');
                				return;	
                				
                			}
                				
                				var deladdbtn = document.getElementById('deladdbtn');
                		    deladdbtn.style.border="3px solid red";
                				
                			alert('Press The add multiple zipcode');
                				return;		
                				
                				
                			}
                		
                			
                		if( $('#deloffer').val().length === 0 ) {
                			
                			var deloffer = document.getElementById('deloffer');
                			    deloffer.style.border="4px solid red";
                			
                        alert('Please select offer');
                			return;
                		}
                
                		
                		if( $('#deldescription').val().length === 0 ) {
                			var deldescription = document.getElementById('deldescription');
                			    deldescription.style.border="4px solid red";
                        alert('Please select description');
                			return;
                		}
                		
                		if( $('#delexpirydate').val().length === 0 ) {
                			var delexpirydate = document.getElementById('delexpirydate');
                			    delexpirydate.style.border="4px solid red";
                        alert('please select expiry date');
                			return;
                		}
                		
                	
                		if( $('#delqrcode').val().length === 0 ) {
                			var delqrcode = document.getElementById('delqrcode');
                			    delqrcode.style.border="4px solid red";
                        alert('please select qurcode');
                			return;
                		}
                		
                		
                		
                		
                	
                	if(selectedlink3==null)
                			{
                				
                				if(logodel==null)//	from computer logo modal
                					{	
                						
                						alert('Please select an image');
                					}
                				
                				else if(Array.isArray(arraylistfile) && arraylistfile.length)//	from computer image modal
                					{
                						
                						alert('03');
                						
                							loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						setTimeout(function(){
                							
                					 console.log(imageobject);	
                						imageobject1.push({
                			  imageUrl:imageobject
                		  });
                		
                	var  thisRef1
                		 thisRef1 = firebase.storage().ref("/dealimagelogo/"+logodel+uniqueId);
                		
                		 
                		//put request upload file to firebase storage
                  thisRef1.put(logodel).then(function(url1) {
                	  
                    console.log('logo has been uploaded google but!');
                	  
                	 var urlPromise1 = thisRef1.getDownloadURL();
                	  urlPromise1.then(url1 => {
                	  	  console.log(url1);
                		  
                		placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                			
                		  
                		  
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			discalmer:delcondtions.value,
                			imagelogo:url1,
                			placeid:placeid,
                		    colorbackgroudurl:colorbackgroudurl,
                			zipcode:zipobjects,
                			delimagelink:delimagelink,
                			image:imageobject1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			
                	}
                			
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}					
                				
                		
                		  	});
                	  });
                		
                		
                		
                		
                    });
                
                		}, 6000);		
                						
                					}
                				
                				else
                					{
                						
                						if(selectedlink4==null)// from web for image modal
                							{
                								
                								alert('01');				
                				
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								 var thisRef;
                			 thisRef = firebase.storage().ref("/dealimageupload/"+dealogo+uniqueId);
                							//put request upload file to firebase storage
                  thisRef.put(logodel).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);	
                								
                								
                			
                					 var mapimageright1 = [];
                		  mapimageright1.push({
                			  imageUrl:mapimageright
                		  });
                			
                			placeid = selectedGooglePlace.place_id;
                
                		address = selectedGooglePlace.formatted_address;
                		  
                					
                					var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			placeid:placeid,
                			colorbackgroudurl:colorbackgroudurl,
                			discalmer:delcondtions.value,
                			imagelogo:url,
                			zipcode:zipobjects,
                			delimagelink:delimagelink,
                			image:mapimageright1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                	  });
                  });
                		 }
                						
                						else
                							{ // this is for uploading computer from computer logo and image from web.
                							
                //							
                								alert('02');
                								
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								 var thisRef;
                			 thisRef = firebase.storage().ref("/dealimageupload/"+dealogo+uniqueId);
                							//put request upload file to firebase storage
                  thisRef.put(logodel).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                
                
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);	
                								
                								
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:arrayweblink
                		  });
                				
                			
                			
                			placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                					
                					var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			placeid:placeid,
                			discalmer:delcondtions.value,
                			imagelogo:url,
                			colorbackgroudurl:colorbackgroudurl,
                			zipcode:zipobjects,
                			delimagelink:delimagelink,
                			image:imageobject,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                	  });
                  });
                		 }
                						
                														
                					}
                				
                				
                			}
                		
                		else if(selectedlink4==null)
                			
                			{
                				
                				if(Array.isArray(arraylistfile) && arraylistfile.length)
                					{	
                //						
                						alert('05');
                						
                							
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                						
                						setTimeout(function(){
                						
                					 console.log(imageobject);	
                						imageobject1.push({
                			  imageUrl:imageobject
                		  });
                		  
                		placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                			
                		  
                		  
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			discalmer:delcondtions.value,
                			imagelogo:selectedlink3,
                			placeid:placeid,
                		    colorbackgroudurl:colorbackgroudurl,
                			zipcode:zipobjects,
                			delimagelink:delimagelink,
                			image:imageobject1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			
                	}
                			
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                		  	});
                
                		}, 5000);		
                						
                					}
                				
                				else
                					{
                					
                					alert('04');
                					
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                						
                					
                					 var mapimageright1 = [];
                		  mapimageright1.push({
                			  imageUrl:mapimageright
                		  });
                //				
                			
                			
                			placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                					
                					var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			discalmer:delcondtions.value,
                			imagelogo:selectedlink3,
                			colorbackgroudurl:colorbackgroudurl,
                		    placeid:placeid,
                			zipcode:zipobjects,
                			delimagelink:delimagelink,
                			image:mapimageright1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                						
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                //		 }
                				}
                				
                				
                				
                //				alert('plaase fill get the image ');
                			}
                		
                		else
                			{
                				
                			 alert('06');
                				
                			if(Array.isArray(imageobject) && imageobject.length)
                				{
                					
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                		
                						setTimeout(function(){
                			 var imageobject1 = [];
                		  imageobject1.push({
                			  imageUrl:imageobject
                		  });
                					
                			
                			placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                					
                					var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			discalmer:delcondtions.value,
                			imagelogo:selectedlink3,
                			colorbackgroudurl:colorbackgroudurl,
                			zipcode:zipobjects,
                			placeid:placeid,
                			delimagelink:delimagelink,
                			image:imageobject1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                		};
                		
                	
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });
                							
                							}, 6000);	
                					
                				}
                				else
                			    {
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                		
                			 var imageobject1 = [];
                		  imageobject1.push({
                			  imageUrl:arrayweblink
                		  });
                					
                			
                			placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                					
                					var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:delqrcode.value,
                			imagelink:delimagelink.value,
                			offer:deloffer.value,
                			expiryDate:delexpirydate.value,
                			description:deldescription.value,
                			discalmer:delcondtions.value,
                			imagelogo:selectedlink3,
                			colorbackgroudurl:colorbackgroudurl,
                			zipcode:zipobjects,
                			placeid:placeid,
                			delimagelink:delimagelink,
                			image:imageobject1,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                		};
                		
                	
                		
                		firebase.database().ref('/deals_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('deals_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('deals_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                						
                					}

                } 
                	
                		
                		
                	}//	This is delsubmit funciton end 700	
                	
                	
                	
                	
                	
                	function cleartxtarray()
                	{
                		document.getElementById('multiple').value = '';
                		
                		 return uniqueNames = [];
                		
                	}
                	
                	
                	var zipobjects;
                	   zipobjects = [];
                	
                		var bldk;
                		var blueprint;
                		var placesforzipcode;
                	    var gettingquals;
                		
                	
                	function addingobjects()
                	{
                		
                		var contentlistlist =  document.getElementById('content-list-list');
                		    contentlistlist.style.display="none";
                		
                		 document.getElementById('address').value='';
                		
                		console.log(ddeeplace);
                		console.log(zipobjects);
                		
                		
                		if (ddeeplace=="")
                			{
                				alert('Please choose a place');
                				return;
                			}
                		
                		document.getElementById('addbtn').style.border='2px solid';
                		
                	var zipcode = document.getElementById('multiple').value;
                
                var str = zipcode.split(",");
                		
                
                  var bb = {};		
                            
                			  str.forEach((key, i) => bb[key] = ddeeplace);
                	         
                
                //	console.log(bb);
                		
                		zipobjects.push(bb);
                		
                		alert('Zipcode has been added with places.');
                		 document.getElementById("zipaddednotification").style.display="block";
                //		 document.getElementById("seezipadded").style.display="block";
                		document.getElementById("datacount").innerHTML = zipobjects.length;
                	    document.getElementById("modulecountzip").innerHTML = zipobjects.length;
                			
                		
                		for (var i =0; i<zipobjects.length; i++)
                			{
                				
                //				 console.log(zipobjects[i]);
                				 bldk = zipobjects[i];
                				 blueprint =   Object.values(bldk);
                				 gettingquals = Object.keys(bldk);
                //				console.log(bldk);
                //				console.log(blueprint.length);
                				console.log(blueprint);
                				
                				for (var j=0; j<blueprint.length; j++)
                					{
                						
                //						console.log(blueprint[j]);
                //						console.log(blueprint[j].length);
                						placesforzipcode = blueprint[j];
                						
                					}
                				
                				
                			}
                		
                		        var option = document.createElement('option');
                		        option.value = Object.keys(bldk);
                				option.innerHTML = Object.keys(bldk);
                				zipshowcode .appendChild(option);
                		
                //		
                	
                	
                  setTimeout(function(){ 
                  document.getElementById("multiple").placeholder = "Add more zipcode or confirm it.";
                	  document.getElementById("multiple").focus();
                	  document.getElementById('multiple').value = '';
                	  
                		 return uniqueNames = [];
                	     
                  }, 1000);
                
                	return ddeeplace = [];			
                }
                //
                
                function mychgeplace(sel) {
                //  alert(sel.options[sel.selectedIndex].value); gulgul
                						
                						var valuebgselect = sel.options[sel.selectedIndex].value;
                //						var valuetextselect = sel.options[sel.selectedIndex].text;	
                						console.log(valuebgselect);
                	
                		
                		 
                					
                }
                
                
                	
                	function submitdata()
                	
                	{
                		var webimagepai;
                	var und = "undefined";
                		var newStr;
                		
                		
                		console.log(zipobjects);
                		
                		var uniqueId = Math.random().toString(36).substring(2) 
                               + (new Date()).getTime().toString(36);
                		console.log(selectedlink2);
                		
                		var offer = document.getElementById('offer');
                		var description = document.getElementById('entdesc');
                		var exprydate = document.getElementById('expiraydate').value;
                		var offerdesc = document.getElementById('tersconditons');
                //		var zipcode = document.getElementById('multiple').value;
                		var multiple = document.getElementById('multiple').value;
                		var priority11 = document.getElementById('priority').value;
                		var trfl11 = document.getElementById('trfl').value;
                		var qrcode = document.getElementById('qrcode');
                		var imagelink = document.getElementById('imagelink');
                		var urlimagelogo = document.getElementById('urlimagelogo');
                //		var webimagepai = document.getElementById('selectapiimage').value;
                		
                		var webimagepaibb = document.getElementById('selectapiimage').value;
                		var iconlinkurl = document.getElementById('selectapiimage22').value;
                		
                	if (und === iconlinkurl) {
                		
                		var res = webimagepaibb.substr(70);
                         newStr = res.slice(0, -69);
                		webimagepai = "https://maps.googleapis.com/maps/api/place/photo?photoreference="+newStr+"&sensor=false&maxheight=500&maxwidth=500&key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50";
                //		
                 selectedGooglePlace.photos[0].photo_reference=newStr;
                		
                	}
                		else {
                  
                		webimagepai = iconlinkurl;
                  }
                		
                		
                		console.log(webimagepai);
                				
                		var backgroundurl = document.getElementById('backgrondurl').value;
                		
                //		var zipcode = document.getElementById('globle').value;
                //		var file = document.getElementById('files').files[0];
                //		var logofile = document.getElementById('filelogo').files[0];
                		var file = blob2;
                		var logofile = blob;
                		
                		var trfl = Boolean(10 > trfl11);
                		
                
                		var priority = parseInt(priority11);
                		console.log(priority);
                		
                
                		var exprydate1 = document.getElementById('expiraydate');
                		var zipcode1 = document.getElementById('zipcode');
                		
                			        offer.style.border="2px solid white";
                			        description.style.border="2px solid white";
                		
                		            exprydate1.style.border="2px solid white";
                			        zipcode1.style.border="2px solid white";
                		
                			
                	if (zipobjects === undefined || zipobjects.length == 0) {
                   
                		
                		var addbtn = document.getElementById('addbtn');
                		addbtn.style.border="3px solid red";
                		
                		if (multiple=="")
                			{
                				var multiple = document.getElementById('multiple');
                		    multiple.style.border="3px solid red";
                				
                			}
                		
                //		
                		
                			alert('Press The add multiple zipcode OR Fill zipcode text field');
                			return;
                		
                		
                }
                	
                		if (multiple!="")
                			{	
                	
                	
                		if (uniqueNames=="")
                			{	
                				
                		    var addnewplacezipcode = document.getElementById('addnewplacezipcode');
                		    addnewplacezipcode.style.border="3px solid red";
                				
                				alert('Please choose a place for new zipcode');
                				return;		
                			}
                				
                				var multiple = document.getElementById('addbtn');
                		    multiple.style.border="3px solid red";
                				
                			alert('Press The add multiple zipcode');
                				return;		
                				
                				
                			}
                		
                		
                		
                		
                		
                		
                		
                		if(offer.value=="")
                			
                			{
                				
                		     offer.style.border="2px solid red";
                				alert('Please fill the offer');
                				return;
                				
                			}
                		
                		if(description.value=="")
                
                			
                			{
                				
                				description.style.border="2px solid red";
                				alert('Please fill the description');
                				return;
                				
                			}
                		
                		if(exprydate1.value=="")
                			
                			{
                				
                				exprydate1.style.border="2px solid red";
                				alert('Please fill the date');
                				return;
                				
                			}
                		
                		
                		
                //		if(zipcode1.value=="")
                //			
                //			{
                //				
                //				zipcode1.style.border="2px solid red";
                //				alert('Please fill the zipcode');
                //				return;
                //				
                //			}
                		
                		
                		
                		else
                			{
                			
                				if(qrcode.value==0){
                					
                					if(imagelink.value == 0){
                			
                						imagelink.style.border="2px solid red";
                						qrcode.style.border="2px solid red";
                						alert('Please fill Coupon code or put QR image link!');
                						return;
                						
                					}else{
                						// do nothing
                					}
                					
                				}else{
                					
                					// do nothing
                				}
                			}
                				
                //		console.log(file);
                //		console.log(logofile);
                		
                // var str = zipcode.split(",");
                		
                		if(selectedlink==null)
                			
                			{
                				
                				if(logofile==null)
                					{	
                							
                						alert('Please Select image from web or local computer');
                				         return;
                						
                					}
                				
                				else if (file==null)
                					{
                						
                						
                						if(selectedlink2==null)
                							{
                								
                								
                // for(var i =0; i<str.length; i++)
                //		 {
                			 
                //			 console.log(str[i]);
                					
                //			 const zipcode = str[i];
                								
                //								alert('please slect an image from web goodone');
                								
                							 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								
                							 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                									
                								
                		placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  	 
                					 
                		  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:webimagepai
                		  });
                					 
                	 
                					 
                					 
                					 				 	 
                   //returns true
                					 
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                
                			priority:priority,
                			backgroundurl:backgroundurl,
                			isPromoted:trfl,
                			imagelogo:url1,
                			zipcode:zipobjects,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });	
                								
                //		 }
                							}
                						
                						else
                							{
                								
                //								alert('testing4');
                								
                //								 for(var i =0; i<str.length; i++)
                //		 {
                //			 
                ////			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                								
                								 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                								
                							 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                		  console.log('logo has been uploaded!');
                			  
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                								
                								
                								
                								placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                					 
                					 
                		  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                					 
                					 
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                			priority:priority,
                			isPromoted:trfl,
                			imagelogo:url1,
                			zipcode:zipobjects,
                			placeid:placeid,
                			backgroundurl:backgroundurl,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/'+ arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                					  });	
                							 });	
                //		console.log(objToSubmit);
                								
                								
                //		 }
                							}
                						
                					}
                				
                				else 
                					{	
                						//shahrukh
                //						alert('tsting3');
                			
                		
                						 loader = document.getElementById("loader");
                			             loader.style.display = "block";	
                						
                						
                						 var thisRef;
                		
                
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage vijay
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  	 var  thisRef1;
                			thisRef1 = firebase.storage().ref("/logoimage/"+filelogo+uniqueId);
                						
                						thisRef1.put(logofile).then(function(url1) {
                							
                		  console.log('logo has been uploaded done it!');
                							
                			   var urlPromise1 = thisRef1.getDownloadURL();
                		  
                	             urlPromise1.then(url1 => {	
                
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);
                
                			
                		
                		  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                 		  });
                //	
                	    placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                //		 
                //		  var placeid = [];
                //		  
                //		  console.log(placeid);
                		  
                //		   var bb = {};		
                //            
                //			  str.forEach((key, i) => bb[key] = ddeeplace);
                		   
                //		  str.forEach((key, i) => bb[key] = ddeeplace[i]);
                		  
                //		   for(var i =0; i<str.length; i++)
                //		 {
                //			 const zipcode = str[i];
                //			 
                //			 bb[zipcode]=ddeeplace;
                //			 
                //	    }
                		
                		
                					 
                		  
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                			imagelogo:url1,
                			priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			zipcode:zipobjects,
                			image:imageobject,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added aman!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			
                	}
                			
                	else{
                				
                
                		firebase.database().ref('coupons_new/'+arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added srk!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                			
                
                			  });	
                						
                					});
                	  });
                	  });
                	  });
                		  
                		  
                		  
                //		console.log(objToSubmit);
                						
                //		 }
                					}//				else Ending for computer upload
                				
                						 
                			}
                		
                		else if(selectedlink2==null)
                				{
                				
                					if(file==null)
                						{
                //							
                //							 for(var i =0; i<str.length; i++)
                //		 {
                //			 
                ////			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                //			 
                							
                							 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                								
                							
                								placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                		  
                							
                			
                					 
                		  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:webimagepai
                		  });
                					 
                					 
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                			priority:priority,
                			isPromoted:trfl,
                			imagelogo:selectedlink,
                			zipcode:zipobjects,
                			placeid:placeid,
                			backgroundurl:backgroundurl,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });		
                //		 }
                						}
                					
                					else
                					{
                						
                //						alert('tsting');
                						
                //						 for(var i =0; i<str.length; i++)
                //		 {
                			 
                //			 console.log(str[i]);
                					
                //			 const zipcode = str[i];
                						 loader = document.getElementById("loader");
                			loader.style.display = "block";	
                							
                						 var thisRef;
                		
                			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                			//put request upload file to firebase storage
                  thisRef.put(file).then(function(url) {
                	  
                    console.log('image has been uploaded!');
                	  
                	  
                	 var urlPromise = thisRef.getDownloadURL();
                	  urlPromise.then(url => {
                	  	  console.log(url);
                
                			
                		
                		  var imageobject = [];
                		  imageobject.push({
                			  imageUrl:url
                		  });
                						
                					 
                		
                		placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                					 
                		  
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                			imagelogo:selectedlink,
                			zipcode:zipobjects,
                			priority:priority,
                			isPromoted:trfl,
                			backgroundurl:backgroundurl,
                			placeid:placeid,
                			image:imageobject,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";	
                			
                	}
                			
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                						
                					});
                	
                			});
                		  
                //		 }
                						
                						
                								
                						
                					}
                					
                				}
                		else			
                		{	
                			
                //			 for(var i =0; i<str.length; i++)
                //		 {
                //			 
                ////			 console.log(str[i]);
                //					
                //			 const zipcode = str[i];
                ////			alert('testing6');
                //			haroon
                			
                //			loader = document.getElementById("loader");
                //			loader.style.display = "block";	
                //									
                //						 var thisRef;
                //		
                //			 thisRef = firebase.storage().ref("/fieupload/"+file+uniqueId);
                //			//put request upload file to firebase storage vijay
                //  thisRef.put(file).then(function(url) {
                //	  
                //    console.log('image has been uploaded!');
                //	  
                //	  	
                //	 var urlPromise = thisRef.getDownloadURL();
                //	  urlPromise.then(url => {
                //	  	  console.log(url);
                //			
                			 var imageobject = [];
                		  imageobject.push({
                			  imageUrl:selectedlink2
                		  });
                //				
                			
                			
                		placeid = selectedGooglePlace.place_id;
                		address = selectedGooglePlace.formatted_address;
                			
                			
                			
                		var objToSubmit = {
                			address:address,
                			cateogry:selectedGooglePlace.types[0],
                			code:qrcode.value,
                			imagelink:imagelink.value,
                			offer:offer.value,
                			zipcode:zipobjects,
                			backgroundurl:backgroundurl,
                			priority:priority,
                			isPromoted:trfl,
                			imagelogo:selectedlink,
                			placeid:placeid,
                			expiryDate:exprydate,
                			description:description.value,
                			discalmer:offerdesc.value,
                			id:uniqueId,
                			name:selectedGooglePlace.name,
                			image:imageobject,
                			website:"google.com",
                			place:selectedGooglePlace
                			
                			
                			
                		};
                		
                		
                		
                		firebase.database().ref('/coupons_new/').once('value').then(function(snapshot) {
                 
                	
                	var arr = snapshot.val();
                	if(arr==null ||arr.length ==0){
                		
                	
                //  firebase.database().ref('coupons_new/'+33333+'/' + selectedGooglePlace.place_id).set(JSON.parse(JSON.stringify(objToSubmit)));
                  firebase.database().ref('coupons_new/'+0).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                		
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}
                	else{
                				
                
                		firebase.database().ref('coupons_new/' + arr.length).set(JSON.parse(JSON.stringify(objToSubmit)));
                		alert('Successfully Added!');
                		window.location.href = "creatingcoupons.html";
                			
                		  loader = document.getElementById("loader");
                			loader.style.display = "none";
                		
                			
                	}	
                
                			  });	
                //		 }
                		  
                //		console.log(objToSubmit);
                			
                			
                		}//		else ending here for urllink 
                		
                //		This is for the image of coupons 20019
                		
                	}//	This is submit funciton end 
                	
                	 var uniqueNames;
                		 uniqueNames = [];
                	
                //		var selectedGooglePlace = null;
                
                	var listthecheckmar;
                	var listthecheckmarmap;
                	var ddeeplace;
                	 ddeeplace= [];
                	var newArr = ddeeplace;
                	
                	
                
                	
                	//This is the second oen calling google api for new.
                	
                	document.getElementById('getlistnew').addEventListener('click', function() {
                		
                		var addnewplacezipcode = document.getElementById('addnewplacezipcode');
                		    addnewplacezipcode.style.border="0px solid red";
                		
                		
                		var deladdnewplacezipcode = document.getElementById('deladdnewplacezipcode');
                		    deladdnewplacezipcode.style.border="0px solid red";
                		
                		
                          
                		var photoss;
                		
                							if(selectedGooglePlace==null)
                								{
                									alert('Please Select any place');
                									return;
                								}	
                		
                		
                		if(selectedGooglePlace.photos!=null && selectedGooglePlace.photos.length>=1){
                			
                			
                			        photoss = selectedGooglePlace.photos[0].getUrl();
                			
                			     selectedGooglePlace.photos[0].photo_reference=photoss;
                
                		   }
                		
                		else {
                			
                			//amanjha
                //			   photoss = place.icon;
                			
                		   }
                		
                		y = document.getElementById("bodysearch1");
                			                             y.style.display = "none";
                                                     modal.style.display = "none";
                		
                		
                        });
                	
                // This is for for first time call google api	
                	
                	document.getElementById('getlist').addEventListener('click', function() {
                          
                		console.log(uniqueNames);
                		
                		var photoss;
                		var photos;
                		
                		var rightimage;
                		var webrightsearchlink;
                		
                		
                          
                //							if(selectedGooglePlace==null)
                //								{
                //									alert('Please Select any placekk');
                //									return;
                //								}
                		
                //		var placeiddd =  selectedGooglePlace.place_id;
                		
                //		ddeeplace.push(placeiddd);
                		
                	console.log(ddeeplace);
                									
                		                      document.getElementById('entcname').value = selectedGooglePlace.name;
                							  document.getElementById('entcname1').value = selectedGooglePlace.name;
                		                      document.getElementById('entcname3').value = selectedGooglePlace.name;
                							  document.getElementById('address1').value = selectedGooglePlace.formatted_address;
                							  document.getElementById('category').value = selectedGooglePlace.types[0];
                		
                		
                //		This is for deals
                		
                		
                		                      document.getElementById('delcomname').value = selectedGooglePlace.name;
                		                      document.getElementById('delcate').value = selectedGooglePlace.types[0];
                		                      document.getElementById('deladdress').value = selectedGooglePlace.name;
                		                      document.getElementById('delplaceid').value = selectedGooglePlace.place_id;
                //		                      document.getElementById('editplaceid').value = selectedGooglePlace.place_id;
                	
                		
                		 rightimage = document.getElementById("oferrdescdublicate").value;
                		  webrightsearchlink = document.getElementById("webrightsearchlink").value;
                		
                		if(selectedGooglePlace.photos!=null && selectedGooglePlace.photos.length>=1){
                			
                			
                			        photoss = selectedGooglePlace.photos[0].getUrl();
                			   console.log(photoss);
                			
                			if (rightimage=="")
                				{
                					
                						document.getElementById("output").src = photoss;
                		var copnsimage = document.getElementById("output");
                		    copnsimage.style.visibility="visible";
                					
                				}
                			
                			if (webrightsearchlink=="")
                				{
                					 document.getElementById("dlimageoutput").src = photoss;
                				}
                			
                			
                		}
                		
                		else {
                			//amanjha
                			   photos = selectedGooglePlace.icon;
                				
                				if (rightimage=="")
                				{
                			
                		 document.getElementById("output").src = photos;
                		var copnsimage2 = document.getElementById("output");
                		    copnsimage2.style.visibility="visible";	
                		
                				}
                			
                			if (webrightsearchlink=="")
                				{
                					 document.getElementById("dlimageoutput").src = photos;
                				}	
                			
                		}
                		 
                		 document.getElementById("selectapiimage").value = photoss;
                	
                		 document.getElementById("selectapiimage22").value = photos;	
                		
                				     
                		var dlimageoutput = document.getElementById("dlimageoutput");
                		    dlimageoutput.style.zIndex="0";
                		
                		 document.getElementById("rimgeurlmpapi").value = photoss;
                		 document.getElementById("rimgeurlmpapi1").value = photos;
                		
                							y = document.getElementById("bodysearch1");
                			                             y.style.display = "none";
                                                     modal.style.display = "none";	
                		
                        });
                	
                	//zohankhan
                	document.getElementById('addnewplacezipcode').addEventListener('click', function() {
                          
                
                modal.style.display = "block";	
                		
                //		var getlistnew = document.getElementById("getlistnew");
                //    getlistnew.style.display = "block";	
                		
                //	var getlist = document.getElementById("getlist");
                //    getlist.style.display = "none";	
                		
                		
                
                
                		
                //			getlist = document.getElementById("getlist");
                //			       getlist.style.display = "none";
                //		
                        });
                	
                	
                	
                	
                	
                	
                	
                	
                //		document.getElementById('getlist2').addEventListener('click', function() {
                //          
                //		var photoss;
                //		
                //          
                //							if(selectedGooglePlace==null)
                //								{
                //									alert('Please Select any place');
                //									return;
                //								}
                //		
                //		
                //	
                //		var placeiddd =  selectedGooglePlace.place_id;
                //		ddeeplace.push(placeiddd);
                //		
                //	console.log(ddeeplace);
                //		
                //		
                //		if(selectedGooglePlace.photos!=null && selectedGooglePlace.photos.length>=1){
                //			
                //			
                //			        photoss = selectedGooglePlace.photos[0].getUrl();
                //			     selectedGooglePlace.photos[0].photo_reference=photoss;
                //
                //		   }
                //		
                //		else {
                //			
                ////			   photos = place.icon;  babu
                //			
                //		   }
                //		   
                //		
                //							y = document.getElementById("bodysearch1");
                //			                             y.style.display = "none";
                //                                     modal.style.display = "none";	
                //		
                //        });
                	
                	document.getElementById('xclosemodal').addEventListener('click', function() {
                	
                  modal.style.display = "none";		
                        });
                	document.getElementById('modalcalling').addEventListener('click', function() {
                          
                
                modal.style.display = "block";		
                        });
                	
                	
                	
                	/* Note: This example requires that you consent to location sharing when
                     * prompted by your browser. If you see the error "Geolocation permission
                     * denied.", it means you probably did not give permission for the browser * to locate you. */
                    let pos;
                    let map;
                
                    let bounds;
                    let infoWindow;
                    let currentInfoWindow;
                    let service;
                    let infoPane;
                	
                	
                	
                	
                	function removeAllMarkers() {
                  map.data.forEach((feature) => {
                    feature.getGeometry().getType() === 'Point' ? map.data.remove(feature) : null
                
                  });
                }
                	
                	
                    function initMap()
                	  {
                		  
                      // Initialize variables
                      bounds = new google.maps.LatLngBounds();
                      infoWindow = new google.maps.InfoWindow;
                      currentInfoWindow = infoWindow;
                      infoPane = document.getElementById('panel');
                      // Try HTML5 geolocation
                      if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(position => {
                          pos = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                          };
                			
                			
                				
                			
                			
                          map = new google.maps.Map(document.getElementById('map'), {
                            center: pos,
                            zoom: 15
                          });
                			
                			
                			var input = document.getElementById('listsearch');
                			var input1 = document.getElementById('listsearch1');
                			var autocomplete = new google.maps.places.Autocomplete(input);
                			var autocomplete1 = new google.maps.places.Autocomplete(input1);
                			
                			autocomplete.bindTo('bounds', map);
                			autocomplete1.bindTo('bounds', map);
                        // Set the data fields to return when the user selects a place.
                            autocomplete.setFields(
                            ['address_components', 'geometry', 'icon', 'name']);
                			autocomplete1.setFields(
                            ['address_components', 'geometry', 'icon', 'name']);
                		
                			
                			var modaldddress = document.getElementById('address');
                			var autocomplete2 = new google.maps.places.Autocomplete(modaldddress);
                			
                			autocomplete2.bindTo('bounds', map);
                        // Set the data fields to return when the user selects a place.
                            autocomplete2.setFields(
                            ['address_components', 'geometry', 'icon', 'name']);
                			
                			
                
                			
                			 autocomplete.addListener('place_changed', function() { 
                				 
                				 var searlist = document.getElementById('listsearch').value;
                            document.getElementById('address').value = searlist;
                				 
                				 
                				 
                				var modalmap =  document.getElementById('myModal');
                				 modalmap.style.display="block";
                				 
                				 searchlist();
                			   
                		   });
                			
                			
                			 autocomplete1.addListener('place_changed', function() { 
                				 
                				 var listsearch1 = document.getElementById('listsearch1').value;
                            document.getElementById('address').value = listsearch1;
                				 
                				 
                				 
                				var modalmap =  document.getElementById('myModal');
                				 modalmap.style.display="block";
                				 
                				 searchlist();
                			   
                		   });
                		
                			
                          bounds.extend(pos);
                          infoWindow.setPosition(pos);
                          infoWindow.setContent('Your Location.');
                          infoWindow.open(map);
                          map.setCenter(pos);
                          // Call Places Nearby Search on user's location
                          
                        }, () => {
                          // Browser supports geolocation, but user has denied permission
                          handleLocationError(true, infoWindow);
                        });
                      } else {
                        // Browser doesn't support geolocation
                        handleLocationError(false, infoWindow);
                      }
                		  
                		  document.getElementById('submit').addEventListener('click',searchlist);
                		  
                		  
                       function searchlist() {
                		   
                			var address = document.getElementById('address').value;
                			if(address=="")
                				{
                					alert('please search something');
                					return;
                				}
                			
                			deleteMarkers();
                			
                			selectedGooglePlace = null;
                		   
                			
                			list = document.getElementById("dynamic-list");
                			
                			for (var i=document.getElementById("dynamic-list").getElementsByTagName("li").length-1; i>=0; i--)
                				{
                					
                					var itemview = document.getElementById("dynamic-list").getElementsByTagName("li")[i];
                					list.removeChild(itemview);
                					
                								console.log(' remove'+i);
                
                				}
                			
                			
                		    getNearbyPlaces(pos);
                			
                			
                        };
                    }
                	
                    // Handle a geolocation error
                    function handleLocationError(browserHasGeolocation, infoWindow) {
                		
                      // Set default location to Sydney, Australia
                      pos = { lat: -33.856, lng: 151.215 };
                      map = new google.maps.Map(document.getElementById('map'), {
                        center: pos,
                        zoom: 15
                      });
                		
                		
                      // Display an InfoWindow at the map center
                      infoWindow.setPosition(pos);
                      infoWindow.setContent(browserHasGeolocation ?
                        'Geolocation permissions denied. Using default location.' :
                        'Error: Your browser doesn\'t support geolocation.');
                      infoWindow.open(map);
                      currentInfoWindow = infoWindow;
                      // Call Places Nearby Search on the default location
                      getNearbyPlaces(pos);
                		
                
                    }
                	
                	
                	//scoll
                	
                	
                	
                    // Perform a Places Nearby Search Request
                    function getNearbyPlaces(position) {
                      let request = {
                        location: map.center,
                        rankBy: google.maps.places.RankBy.DISTANCE,
                        query: document.getElementById('address').value
                      };
                      service = new google.maps.places.PlacesService(map);
                      service.textSearch(request, nearbyCallback);
                		
                		
                    }
                    // Handle the results (up to 20) of the Nearby Search
                    function nearbyCallback(results, status) {
                	
                      if (status == google.maps.places.PlacesServiceStatus.OK) {
                		 
                		  
                			  y = document.getElementById("content-list-list");
                			  y.style.display = "block";
                        createMarkers(results);
                      }
                		else
                			{
                				alert('Please Enter valid address');
                				return;
                			}
                    }
                	
                    // Set markers at the location of each place result
                    function createMarkers(places) {
                      places.forEach(place => {
                        let marker = new google.maps.Marker({
                          position: place.geometry.location,
                          map: map,
                          title: place.name
                        });
                		  
                		  
                		  markers.push(marker);
                		  
                
                		  marker.set('place_id', place.place_id);
                
                		  
                		  var photos;
                		  
                		   if(place.photos!=null &&place.photos.length>=1){
                			   
                			        photos = place.photos[0].getUrl();
                
                		   }else {
                			   
                			   photos = place.icon;
                			   
                		   }
                		  
                //		 var alreadySeen; 
                //		 alreadySeen = [];
                		  
                		  
                		 
                    var name = place.name;
                    var address = place.formatted_address;
                    var placeid;
                    placeid = place.place_id;
                
                		  
                		  var ul = document.getElementById("dynamic-list");
                		  var li=document.createElement('li');
                        li.innerHTML='<img src='+photos+' style="float:left; width: 22%; height: 53px; margin-top: 10px; margin-left: 10px; object-fit: cover;" id="photosearchlistsearchlist">'+'<p style="float: left; margin-top: 10px; font-size: 19px; width: 73%; height: auto;" id="namesearchlist"><input type="checkbox" style="float: right; right: 13px; top: 10px; width:20px; height:20px;" id="checkboxmaplist">'+name+'</p>'+'<p style="float: right; margin-top: -32px; font-size: 13px; width: 74%; margin-top: 0px; height: auto;" id="addresssearchlist">'+address+'</p>';
                		 ul.appendChild(li);
                		  
                		  //shama
                		  
                		  
                		li.addEventListener('click', function() {
                			
                			var valurofdatago = document.getElementById("valueofdatago").value;
                			
                			
                			for (var i=0; i<places.length; i++)
                				{		
                				
                					var place= places[i];
                					
                					
                					
                					  if(placeid==place.place_id){
                						  
                						
                						var lis = document.getElementById("dynamic-list").getElementsByTagName("li");
                						var itemview = lis[i];
                						
                						selectedGooglePlace=place;
                         showDetails(selectedGooglePlace.formatted_address,selectedGooglePlace, marker, google.maps.places.PlacesServiceStatus.OK)
						
                					}
                				}
                											  
                		 ddeeplace.push(placeid);
                									     
                		console.log(ddeeplace);
                									   
                for(var h = 0; h < ddeeplace.length; h++) {
                    var curItem = ddeeplace[h];
                    var foundCount = 0;
                    // search array for item  
                									   
                	
                    for(var i = 0; i < ddeeplace.length; i++) {
                        if (ddeeplace[i] == ddeeplace[h])
                            foundCount++;
                    }
                	
                	
                    if(foundCount > 1) {
                        // remove repeated item from new array
                        for(var j = 0; j < newArr.length; j++) {
                            if(newArr[j] == curItem) {                
                                newArr.splice(j, 1);
                                j = j - 1;
                					
                            }
                			
                			  
                        }  
                		
                    }
                		
                }	
                		});   //End of li click
                		  
                	  
                		 
                        // Add click listener to each marker
                        google.maps.event.addListener(marker, 'click', () => {
                          let request = {
                           placeId: placeid,
                           fields: ['name', 'formatted_address', 'geometry', 'rating',
                            'website', 'photos']
                };
                          /* Only fetch the details of a place when the user clicks on a marker.
                           * If we fetch the details for all place results as soon as we get
                           * the search response, we will hit API rate limits. */
                       service.getDetails(request, (placeResult, status) => {
                         showDetails(address,placeResult, marker, status)
                       });
                			
                			
                        });
                        // Adjust the map bounds to include the location of this marker
                //        bounds.extend(place.geometry.location);
                      });
                      /* Once all the markers have been placed, adjust the bounds of the map to
                       * show all the markers within the visible area. */
                //      map.fitBounds(bounds);
                		zoomeExtends();
                    }
                	
                	
                    // Builds an InfoWindow to display details above the marker
                    function showDetails(address,placeResult, marker, status) {
                      if (status == google.maps.places.PlacesServiceStatus.OK) {
                        let placeInfowindow = new google.maps.InfoWindow();
                        let rating = "None";
                        if (placeResult.rating) rating = placeResult.rating;
                        placeInfowindow.setContent('<div><strong>' + placeResult.name +
                          '</strong><br>' + '' + address + '</div>');
                        placeInfowindow.open(marker.map, marker);
                        currentInfoWindow.close();
                
                
                        currentInfoWindow = placeInfowindow;
                        //showPanel(placeResult);
                      } else {
                        console.log('showDetails failed: ' + status);
                      }
                    }
                    // Displays place details in a sidebar
                    function showPanel(placeResult) {
                      // If infoPane is already open, close it
                      if (infoPane.classList.contains("open")) {
                        infoPane.classList.remove("open");
                      }
                      // Clear the previous details
                      while (infoPane.lastChild) {
                        infoPane.removeChild(infoPane.lastChild);
                      }
                      // Add the primary photo, if there is one
                      if (placeResult.photos) {
                        let firstPhoto = placeResult.photos[0];
                        let photo = document.createElement('img');
                        photo.classList.add('hero');
                        photo.src = firstPhoto.getUrl();
                        infoPane.appendChild(photo);
                      }
                      // Add place details with text formatting
                      let name = document.createElement('h1');
                      name.classList.add('place');
                      name.textContent = placeResult.name;
                      infoPane.appendChild(name);
                      if (placeResult.rating) {
                        let rating = document.createElement('p');
                        rating.classList.add('details');
                        rating.textContent = `Rating: ${placeResult.rating} \u272e`;
                        infoPane.appendChild(rating);
                      }
                      let address = document.createElement('p');
                      address.classList.add('details');
                      address.textContent = placeResult.formatted_address;
                      infoPane.appendChild(address);
                      if (placeResult.website) {
                        let websitePara = document.createElement('p');
                        let websiteLink = document.createElement('a');
                        let websiteUrl = document.createTextNode(placeResult.website);
                        websiteLink.appendChild(websiteUrl);
                        websiteLink.title = placeResult.website;
                        websiteLink.href = placeResult.website;
                        websitePara.appendChild(websiteLink);
                        infoPane.appendChild(websitePara);
                      }
                      // Open the infoPane
                      infoPane.classList.add("open");
                    }
                
                	
                	
                // Get the modal
                var modal = document.getElementById('myModal');
                
                // Get the button that opens the modal
                var btn = document.getElementById("myBtn");
                
                
                
                // When the user clicks the button, open the modal 
                //btn.onclick = function() {
                //  modal.style.display = "block";
                //}
                
                
                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function(event) {
                  if (event.target == modal) {
                    modal.style.display = "none";
                  }
                }
                
                var check = false;
                window.onpopstate = function() {
                //       alert("clicked back button");
                	
                	if(modal.style.display=="block")
                		{
                			modal.style.display = "none";
                		}
                	
                	else
                		{
                	
                	
                  y = document.getElementById("cuponscodeQR");
                			
                	
                	if(y.style.display=="block")
                		{
                			y.style.display = "none";
                			
                			y = document.getElementById("mainconainercup");
                			y.style.display = "block";
                		}
                			
                	else
                		{
                	
                	y = document.getElementById("mainconainercup");
                	if(y.style.display="block")
                		{
                			y.style.display = "none";
                			y = document.getElementById("bodysearch1");
                			y.style.display = "block";
                		}
                	}
                	}
                	
                    }; history.pushState({}, '');
            </script>

            <!--<p id="test">test</p>-->


            <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM641AP5CCKjh30Z1_p8tEj-PccFZdx50&libraries=places&callback=initMap">
            </script>



            <!--
<script type="text/jscript" src="js/couponsfirebase.js"></script>	  
-->
            <script type="text/jscript" src="js/creatingcoupos.js"></script>

            <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->

            <!-- Include all compiled plugins (below), or include individual files as needed -->
            <script src="js/bootstrap.min.js"></script>

        </body>